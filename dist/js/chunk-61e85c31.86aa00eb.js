(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61e85c31"],{"17c3":function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"lend-migrator-container"},[e("back-button"),e("b-container",{staticClass:"text-center"},[e("div",{staticClass:"pt-4 lend-title"},[t._v(t._s(t.$t("dappsMisc.gnt-title")))]),e("div",{staticClass:"d-flex mt-4 mb-1 total-container entire-bal"},[e("p",[t._v(" GNT: "),e("span",{staticClass:"balance"},[t.loading?t._e():e("span",[t._v(t._s(t.lendBalance)+" ")]),t.loading?e("i",{staticClass:"fa fa-spin fa-spinner fa-lg"}):t._e()])]),e("button",{staticClass:"button-link",on:{click:t.setEntireBalance}},[t._v(" "+t._s(t.$t("sendTx.button-entire"))+" ")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"text",placeholder:t.$t("dappsMisc.total-amount")},domProps:{value:t.amount},on:{input:function(n){n.target.composing||(t.amount=n.target.value)}}}),e("button",{class:["large-round-button-green-filled","mt-3",t.disabled?"disabled":""],on:{click:t.checkAllowance}},[t._v(" "+t._s(t.$t("dappsMisc.migrate"))+" ")])])],1)},o=[],s=(e("7db0"),e("b680"),e("96cf"),e("1da1")),i=e("5530"),u=e("572c"),c=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"golemFactory",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_master",type:"address"}],name:"setMigrationMaster",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_value",type:"uint256"}],name:"migrate",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[],name:"finalize",outputs:[],payable:!1,type:"function"},{constant:!1,inputs:[],name:"refund",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"migrationMaster",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"tokenCreationCap",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_agent",type:"address"}],name:"setMigrationAgent",outputs:[],payable:!1,type:"function"},{constant:!0,inputs:[],name:"migrationAgent",outputs:[{name:"",type:"address"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"fundingEndBlock",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalMigrated",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"tokenCreationMin",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"funding",outputs:[{name:"",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"tokenCreationRate",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"fundingStartBlock",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[],name:"create",outputs:[],payable:!0,type:"function"},{inputs:[{name:"_golemFactory",type:"address"},{name:"_migrationMaster",type:"address"},{name:"_fundingStartBlock",type:"uint256"},{name:"_fundingEndBlock",type:"uint256"}],type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Migrate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Refund",type:"event"}],p=e("901e"),r=e.n(p),d=e("2f62"),l=e("ce96"),m=e("1131"),y=e.n(m),f="0xa74476443119A942dE498590Fe1f2454d7D4aC0d",b="GNT",g={components:{"back-button":u["a"]},props:{tokensWithBalance:{type:Array,default:function(){return[]}}},data:function(){return{amount:0,hasEnoughRatio:!1,lendMigratorContract:"",loading:!1,balanceUpdate:!1,updatedBalance:0,miningLockout:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(d["c"])("main",["web3","account"])),{},{lendBalance:function(){if(!this.balanceUpdate){var t=this.tokensWithBalance.find((function(t){return t.symbol===b}));return t?new r.a(t.balance).toFixed():0}return this.updatedBalance},disabled:function(){var t=new r.a(this.amount),n=new r.a(this.lendBalance);return!t.gt(0)||!t.lte(n)}}),mounted:function(){},methods:{checkAllowance:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e=new t.web3.eth.Contract(c,f),t.migrate(e),t.loading=!0;case 3:case"end":return n.stop()}}),n)})))()},getLendBalance:function(){var t=this.tokensWithBalance.find((function(t){return t.symbol===b}));return t?new r.a(t.balance).toFixed():0},migrate:function(t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,o,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new r.a(n.amount).times(new r.a(10).pow(18)).toFixed(),o=n.web3.utils.numberToHex(a),e.next=4,t.methods.migrate(o).encodeABI();case 4:s=e.sent,i={from:n.account.address,to:f,value:0,data:s},n.miningLockout=!0,n.web3.eth.estimateGas(i).then((function(t){n.loading=!1,n.amount=0,n.web3.eth.sendTransaction({from:n.account.address,to:f,value:0,gas:t,data:s}).then((function(){n.miningLockout=!1,n.amount=0,n.loading=!1,n.getUpdatedBalance()})).catch((function(t){n.loading=!1,n.miningLockout=!1,l["e"].responseHandler(t,l["e"].ERROR)}))}));case 8:case"end":return e.stop()}}),e)})))()},setEntireBalance:function(){this.amount=this.lendBalance},getUpdatedBalance:function(){var t=this,n=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"}],e=new this.web3.eth.Contract(n,f);this.balanceUpdate=!1,e.methods.balanceOf(this.account.address).call().then((function(n){t.updatedBalance=y.a.fromWei(n,"Ether"),t.balanceUpdate=!0}))}}},h=g,v=(e("5917"),e("2877")),w=Object(v["a"])(h,a,o,!1,null,"0cc651d5",null);n["default"]=w.exports},5917:function(t,n,e){"use strict";var a=e("af14"),o=e.n(a);o.a},af14:function(t,n,e){}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-61e85c31.86aa00eb.js.map
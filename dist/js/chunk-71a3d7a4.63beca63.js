(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71a3d7a4"],{55:function(e,t){},56:function(e,t){},57:function(e,t){},58:function(e,t){},59:function(e,t){},60:function(e,t){},d1fb:function(e,t,n){"use strict";n.d(t,"v",(function(){return ne})),n.d(t,"x",(function(){return s})),n.d(t,"C",(function(){return U})),n.d(t,"D",(function(){return q})),n.d(t,"s",(function(){return W})),n.d(t,"m",(function(){return G})),n.d(t,"n",(function(){return X})),n.d(t,"B",(function(){return K})),n.d(t,"t",(function(){return Y})),n.d(t,"F",(function(){return re})),n.d(t,"w",(function(){return ee})),n.d(t,"j",(function(){return se})),n.d(t,"u",(function(){return he})),n.d(t,"l",(function(){return Ie})),n.d(t,"z",(function(){return De})),n.d(t,"k",(function(){return Se})),n.d(t,"y",(function(){return Oe})),n.d(t,"o",(function(){return Ae})),n.d(t,"p",(function(){return Me})),n.d(t,"q",(function(){return Ce})),n.d(t,"b",(function(){return Pe})),n.d(t,"r",(function(){return oe})),n.d(t,"E",(function(){return _e})),n.d(t,"i",(function(){return Re})),n.d(t,"h",(function(){return c})),n.d(t,"A",(function(){return fe})),n.d(t,"c",(function(){return ve})),n.d(t,"d",(function(){return ge})),n.d(t,"e",(function(){return xe})),n.d(t,"a",(function(){return ke})),n.d(t,"g",(function(){return we})),n.d(t,"f",(function(){return Te}));n("99af"),n("d81d"),n("13d5");var a=n("2909"),r=(n("96cf"),n("1da1")),i=(n("b7d3"),n("f4d9"));function s(e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.cdpsWithoutProxy=[],t.cdps=[],n=[],!t.proxyAddress){e.next=7;break}return e.next=6,Object(i["a"])(t.web3,t.proxyAddress);case 6:n=e.sent;case 7:return t.allCdpIds=Object(a["a"])(n).map((function(e){return"number"!==typeof e?e.id:e})),r=Object(a["a"])(n).reduce((function(e,t){return e[t.id]=t.ilk,e}),{}),t.cdpsWithType=r,e.abrupt("return",{withType:r,withProxy:n.map((function(e){return"number"!==typeof e?e.id:e})),withoutProxy:[]});case 11:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}var c={DEPLOYER:"0xdDb108893104dE4E1C6d0E47c42237dB4E617ACc",MULTICALL:"0x5e227ad1969ea493b43f840cff78d08a6fc17796",FAUCET:"0x0000000000000000000000000000000000000000",MCD_DEPLOY:"0xbaa65281c2fa2baacb2cb550ba051525a480d3f4",MCD_GOV:"0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2",MCD_ADM:"0x9eF05f7F6deB616fd37aC3c959a2dDD25A54E4F5",MCD_VAT:"0x35d1b3f3d7966a1dfe207aa4514c12a259a0492b",MCD_JUG:"0x19c0976f590d67707e62397c87829d896dc0f1f1",MCD_CAT:"0x78f2c2af65126834c51822f56be0d7469d7a523e",MCD_VOW:"0xa950524441892a31ebddf91d3ceefa04bf454466",MCD_JOIN_DAI:"0x9759a6ac90977b93b58547b4a71c78317f391a28",MCD_FLAP:"0xdfe0fb1be2a52cdbf8fb962d5701d7fd0902db9f",MCD_FLOP:"0xbe00fe8dfd9c079f1e5f5ad7ae9a3ad2c571fcac",MCD_PAUSE:"0xbe286431454714f511008713973d3b053a2d38f3",MCD_PAUSE_PROXY:"0xbe8e3e3618f7474f8cb1d074a26affef007e98fb",MCD_GOV_ACTIONS:"0x4f5f0933158569c026d617337614d00ee6589b6e",MCD_DAI:"0x6b175474e89094c44da98b954eedeac495271d0f",MCD_SPOT:"0x65c79fcb50ca1594b025960e539ed7a9a6d434a3",MCD_POT:"0x197e90f9fad81970ba7976f33cbd77088e5d7cf7",MCD_END:"0xab14d3ce3f733cacb76ec2abe7d2fcb00c99f3d5",MCD_ESM:"0x0581a0abe32aae9b5f0f68defab77c6759100085",PROXY_ACTIONS:"0x82ecd135dce65fbc6dbdd0e4237e0af93ffd5038",PROXY_ACTIONS_END:"0x069b2fb501b6f16d1f5fe245b16f6993808f1008",PROXY_ACTIONS_DSR:"0x07ee93aeea0a36fff2a9b95dd22bd6049ee54f26",CDP_MANAGER:"0x5ef30b9986345249bc32d8928b7ee64de9435e39",GET_CDPS:"0x36a724bd100c39f0ea4d3a20f7097ee01a8ff573",PROXY_FACTORY:"0xa26e15c895efc0616177b7c1e7270a4c7d51c997",PROXY_REGISTRY:"0x4678f0a6958e4d2bc4f1baf7bc52e8f3564f3fe4",ETH:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",VAL_ETH:"0x81fe72b5a8d1a857d176c3e7d5bd2679a9b85763",PIP_ETH:"0x81fe72b5a8d1a857d176c3e7d5bd2679a9b85763",MCD_JOIN_ETH_A:"0x2f0b23f53734252bda2277357e97e1517d6b042a",MCD_FLIP_ETH_A:"0xd8a04f5412223f513dc55f839574430f5ec15531",BAT:"0x0d8775f648430679a709e98d2b0cb6250d2887ef",VAL_BAT:"0xb4eb54af9cc7882df0121d26c5b97e802915abe6",PIP_BAT:"0xb4eb54af9cc7882df0121d26c5b97e802915abe6",MCD_JOIN_BAT_A:"0x3d0b1912b66114d4096f48a8cee3a56c231772ca",MCD_FLIP_BAT_A:"0xaa745404d55f88c108a28c86abe7b5a1e7817c07",SAI:"0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359",PIP_SAI:"0x54003dbf6ae6cba6ddae571ccdc34d834b44ab1e",MCD_JOIN_SAI:"0xad37fd42185ba63009177058208dd1be4b136e6b",MCD_FLIP_SAI:"0x5432b2f3c0dff95aa191c45e5cbd539e2820ae72",PROXY_PAUSE_ACTIONS:"0x6bda13d43b7edd6cafe1f70fb98b5d40f61a1370",PROXY_DEPLOYER:"0x1b93556ab8dccef01cd7823c617a6d340f53fb58",SAI_TUB:"0x448a5065aebb8e423f0896e6c5d525c040f59af3",MIGRATION:"0xc73e0383f3aff3215e6f04b0331d58cecf0ab849",MIGRATION_PROXY_ACTIONS:"0xe4b22d484958e582098a98229a24e8a43801b674"},p=(n("4de4"),n("4160"),n("caad"),n("b0c0"),n("b64b"),n("d3b7"),n("25f0"),n("2532"),n("3ca3"),n("159b"),n("ddb0"),n("53ca")),o=n("5530"),l=n("901e"),y=n.n(l),d=n("c52a"),b=(n("b680"),n("d4ec")),h=n("bee2"),f=n("1341"),m=n("7e84"),v=n("262e"),g=n("2caf"),x=n("70c1"),k=n.n(x),T=(n("ac1f"),n("5319"),new y.a("1e18"),new y.a("1e27"),new y.a("1e45"),"ETH-A"),w=n("ce3b"),_=Object(w["createCurrency"])("USD"),C=Object(w["createCurrency"])("DAI"),M=new y.a(0);function A(e,t){return e.times(t)}function P(e,t){return e=C.wei(e),e.times(t).shiftedBy(-27)}function R(e,t){if(t.eq(M)){var n=Object(w["createCurrencyRatio"])(_,C);return n(1/0)}return e.div(t._amount)}function O(e,t,n){if(e.eq(M)){var a=Object(w["createCurrencyRatio"])(_,e.type);return a(1/0)}return t.times(n._amount).div(e._amount)}function D(e,t,n){return e.times(t).div(n)}var S=function(e){return new y.a(e)},I=function(){function e(t,n,a,r){Object(b["a"])(this,e),this.cdpId=null===t?t:"number"!==typeof t?t.id:t,this.cdpIdFull=t,this.cdp={},this.web3=n||{},this.ready=!1,this.doUpdate=0,this.cdps=[],this.noProxy=r.noProxy||!1,this.sysVars=r,this.cdpType=this.cdpId?r.cdpsWithType[this.cdpId]:T,this.services=a||null,this.needsUpdate=!1,this.closing=!1,this.opening=!1,this.migrated=!1,this.migrateCdpActive=!1,this.migrateCdpStage=0,this.cdpTypeObject=a._mcdManager?a._mcdManager.get("mcd:cdpType").getCdpType(null,this.cdpType):a.mcdCurrencies["ETH"],this._liqPrice=S(0),this.isSafe=!1,this._collatRatio=0,this.pethCollateral=S(0),this._usdCollateral=S(0),this._governanceFee=S(12345),this.tokenMapping={};for(var i=0;i<a._typeService.cdpTypes.length;i++)this.tokenMapping[a._typeService.cdpTypes[i].currency.symbol]=a._typeService.cdpTypes[i],this.tokenMapping[a._typeService.cdpTypes[i].currency.name]=a._typeService.cdpTypes[i];this.override={},this.afterInitialization=!1}return Object(h["a"])(e,[{key:"getCollateralIlk",value:function(){return this.cdpType}},{key:"toUSD",value:function(e){var t=S(this.currentPrice).times(e);return t.lt(0)?S(0):t.toFixed(2,y.a.ROUND_DOWN)}},{key:"cdpCollateralType",get:function(){return this.cdpType.replace(/-[A-Z]/,"")}},{key:"currentAddress",get:function(){return this.services.address}},{key:"currentPrice",get:function(){return this.mcdCurrencies[this.cdpCollateralType].price._amount.toString()}},{key:"collatRatio",get:function(){return this._collatRatio}},{key:"collateralAmount",get:function(){try{return this._collateralAmount.toBigNumber()}catch(e){return"--"}}},{key:"_collateralAmount",get:function(){return this.override["collateralAmount"]?this.override["collateralAmount"]:this.cdp.collateralAmount}},{key:"collateralAvailable",get:function(){try{return this._collateralAvailable.toBigNumber()}catch(e){return"--"}}},{key:"_collateralAvailable",get:function(){return this.cdp.collateralAvailable}},{key:"collateralStatus",get:function(){return this._collateralizationRatio.gte(this.liquidationRatio.plus(.5))?"green":this._collateralizationRatio.gte(this.liquidationRatio.plus(.25))&&this._collateralizationRatio.lte(this.liquidationRatio.plus(.5))?"orange":"red"}},{key:"collateralValue",get:function(){try{return this._collateralValue.toBigNumber()}catch(e){return"--"}}},{key:"_collateralValue",get:function(){return A(this._collateralAmount,this.cdpTypeObject.price)}},{key:"collateralizationRatio",get:function(){try{return this._collateralizationRatio._amount?this._collateralizationRatio._amount:this._collateralizationRatio.toBigNumber()}catch(e){return"--"}}},{key:"_collateralizationRatio",get:function(){var e=R(this._collateralValue,this._debtValue);return e}},{key:"cdpService",get:function(){return this.services._cdpService}},{key:"daiToken",get:function(){return this.getTokens["DAI"]}},{key:"daiBalance",get:function(){return this.services.daiBalance}},{key:"debtValue",get:function(){if(this.cdp)try{return this.override["debtValue"]?this._debtValue.toBigNumber():S(S(this._debtValue.toBigNumber()).toFixed(18))}catch(e){return"--"}return S(0)}},{key:"_debtValue",get:function(){return this.cdp?this.override["debtValue"]?this.override["debtValue"]:this.cdp.debtValue:S(0)}},{key:"dustValues",get:function(){return this.services.dustValues}},{key:"ethPrice",get:function(){return this.services.ethPrice}},{key:"ethCollateral",get:function(){try{return this._ethCollateral.toBigNumber()}catch(e){return"--"}}},{key:"_ethCollateral",get:function(){return this._collateralAmount}},{key:"getTokens",get:function(){return this.sysVars.tokens}},{key:"governanceFeeOwed",get:function(){return this._governanceFee}},{key:"hasProxy",get:function(){return this.services.hasProxy}},{key:"liquidationPenalty",get:function(){if(this.cdp&&this.cdp.type)return S(this.cdp.type.liquidationPenalty);var e=this.mcdManager.get("mcd:cdpType").getCdpType(null,this.cdpType);return S(e.liquidationPenalty)}},{key:"liquidationRatio",get:function(){return S(this._liquidationRatio._amount)}},{key:"_liquidationRatio",get:function(){if(Object.keys(this.cdp).length>0)return this.cdp.type.liquidationRatio;var e=this.mcdManager.get("mcd:cdpType").getCdpType(null,this.cdpType);return e.liquidationRatio}},{key:"liquidationPrice",get:function(){try{return this._liquidationPrice.toBigNumber()}catch(e){return"--"}}},{key:"_liquidationPrice",get:function(){return O(this._collateralAmount,this._debtValue,this._liquidationRatio)}},{key:"maxDai",get:function(){return this.currentPrice&&this.collateralAmount&&this.liquidationRatio&&this.debtValue?Oe(this.currentPrice,this.collateralAmount,this.liquidationRatio.plus(.001),this.debtValue):S(0)}},{key:"maxEthDraw",get:function(){return this.collateralAmount.minus(this.minSafeCollateralAmount)}},{key:"maxPethDraw",get:function(){return this.pethPrice&&this.pethCollateral&&this.liquidationRatio?this.zeroDebt?De(this.pethCollateral,this.liquidationRatio,this.debtValue,this.pethPrice,this.pethMin.times(0)):De(this.pethCollateral,this.liquidationRatio,this.debtValue,this.pethPrice):S(0)}},{key:"maxDaiDraw",get:function(){var e=S(this.currentPrice).times(S(this.collateralAmount)),t=S(this.debtValue).times(S(this.liquidationRatio));return e.minus(t).div(S(this.currentPrice))}},{key:"maxUsdDraw",get:function(){return this.toUSD(this.collateralAmount.minus(this.minSafeCollateralAmount))}},{key:"mcdCurrencies",get:function(){return this.services.mcdCurrencies}},{key:"mkrToken",get:function(){return this.services._mkrToken}},{key:"mkrBalance",get:function(){return this.services.mkrBalance}},{key:"mcdManager",get:function(){return this.services._mcdManager}},{key:"minSafeCollateralAmount",get:function(){var e=this.mcdManager.get("mcd:cdpType").getCdpType(null,this.cdpType);return D(this._debtValue,e.liquidationRatio._amount,e.price._amount).toBigNumber()}},{key:"minEth",get:function(){return this.services.minEth}},{key:"needToFinishMigrating",get:function(){return this._proxyAddress&&this.noProxy}},{key:"proxyService",get:function(){return this.services._proxyService}},{key:"proxyAddress",get:function(){return this.services._proxyAddress}},{key:"proxyAllowanceDai",get:function(){return this.services.proxyAllowances["DAI"]}},{key:"proxyAllowanceMkr",get:function(){return this.services.proxyAllowances["MKR"]}},{key:"pethMin",get:function(){return this.services.pethMin}},{key:"pethPrice",get:function(){return this.services._pethPrice}},{key:"stabilityFee",get:function(){return this.cdp?S(this.sysVars.baseStabilityFee).plus(this.cdpTypeObject.annualStabilityFee).toString():S(0)}},{key:"tokenService",get:function(){return this.services._tokenService}},{key:"wethToPethRatio",get:function(){return this.services.wethToPethRatio}},{key:"usdCollateral",get:function(){return this.toUSD(this.ethCollateral)}},{key:"zeroDebt",get:function(){return S(this.debtValue).eq(0)}}],[{key:"toNumber",value:function(e){return y.a.isBigNumber(e)?e.toNumber():S(e).toNumber()}},{key:"displayPercentValue",value:function(e){return y.a.isBigNumber(e)||(e=new y.a(e)),e.times(100).toString()}},{key:"displayFixedValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Me(e,t,n)}}]),e}(),j=n("e14b"),V=function(e){Object(v["a"])(n,e);var t=Object(g["a"])(n);function n(e,a,r,i){var s;if(Object(b["a"])(this,n),s=t.call(this,e,a,r,i),s.minDaiValue=20,Object.keys(s.dustValues).length>0)try{s.dustValues["ETH"]&&(s.minDaiValue=P(1,s.dustValues["ETH"].dust).toBigNumber().toFixed(18))}catch(u){console.error(u)}return s.dustpolling(),s.DAI_NAME="DAI",s.contractAddresses=c,s}return Object(h["a"])(n,[{key:"dustpolling",value:function(){var e=this;if(!Object.keys(this.dustValues).length>0)var t=setInterval((function(){try{Object.keys(e.dustValues).length>0&&(clearInterval(t),e.minDaiValue=P(1,e.dustValues["ETH"].dust).toBigNumber().toFixed(18))}catch(n){console.error(n)}}),250)}},{key:"init",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.cdpId,e.next=3,this.updateValues(t);case 3:return e.prev=3,e.next=6,this.cdp.getGovernanceFee();case 6:this._governanceFee=e.sent.toBigNumber(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),this._governanceFee=!1;case 12:return this.ready=!0,e.abrupt("return",this);case 14:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateSystemVariables",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.services=Object(o["a"])(Object(o["a"])({},this.services),t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateValues",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.cdpId,e.prev=1,e.next=4,this.services.getProxy();case 4:if(this._proxyAddress=e.sent,this.noProxy=null===this._proxyAddress,e.prev=6,!this._proxyAddress){e.next=13;break}return e.next=10,this.services.getMakerCdp(t,this._proxyAddress);case 10:this.cdp=e.sent,e.next=16;break;case 13:return e.next=15,this.services.getMakerCdp(t,!1);case 15:this.cdp=e.sent;case 16:return this.isSafe=this.cdp.isSafe,e.next=19,this.getValuesFromChain();case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](6),console.error(e.t0);case 24:e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](1),console.error(e.t1);case 29:case"end":return e.stop()}}),e,this,[[1,26],[6,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getValuesFromChain",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.afterInitialization){e.next=3;break}return this.afterInitialization=!this.afterInitialization,e.abrupt("return");case 3:return e.next=5,Object(j["b"])(this.web3,this.cdpId,this.cdpType);case 5:t=e.sent,this.urns=t,n=this.cdpTypeObject.currency.wei(t.ink),this.cdp.collateralAmount.toBigNumber().eq(n.toBigNumber())||(this.override["collateralAmount"]=this.cdpTypeObject.currency.wei(t.ink)),this.override["debtValue"]=P(t.art,this.dustValues[this.cdpCollateralType].rate);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.migrated){e.next=8;break}return e.next=3,this.proxyService.currentProxy();case 3:if(t=e.sent,!t){e.next=8;break}return this.migrated=!1,e.next=8,this.cdpService.give(this.cdpId,this._proxyAddress);case 8:if(!this.needsUpdate){e.next=15;break}return this.opening=!1,this.needsUpdate=!1,e.next=13,this.updateValues(this.cdpId);case 13:return this.doUpdate++,e.abrupt("return",this);case 15:return e.abrupt("return",this);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"approveProxyFor",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTokens[t].approveUnlimited(this.proxyAddress);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"approveDai",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.daiToken.approveUnlimited(this.proxyAddress);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"approveMkr",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.proxyAddress){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.mkrToken.approveUnlimited(this.proxyAddress);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"calcCollatRatio",value:function(e,t){if(e<=0||t<=0)return _e(0);var n=this.getPriceOfCurrency(this.cdpCollateralType);return Se(n,e,t)}},{key:"calcCollatRatioDaiChg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(e=_e(this.debtValue).plus(_e(e))),_e(this.calcCollatRatio(this.collateralAmount,e))}},{key:"calcCollatRatioEthChg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(e=_e(this.debtValue).plus(_e(e))),_e(this.calcCollatRatio(e,this.debtValue))}},{key:"calcLiquidationPrice",value:function(e,t){if(e<=0||t<=0)return _e(0);var n=this.getPriceOfCurrency(this.cdpCollateralType);return Ie(e,t,n,this.liquidationRatio)}},{key:"calcLiquidationPriceDaiChg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(e=_e(this.debtValue).plus(_e(e))),_e(this.calcLiquidationPrice(this.collateralAmount,e))}},{key:"calcLiquidationPriceEthChg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(e=_e(this.debtValue).plus(_e(e))),_e(this.calcLiquidationPrice(e,this.debtValue))}},{key:"checkIfDestAddressHasProxy",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getProxy();case 2:return e.next=4,this.proxyService.getProxyAddress(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"collateralOptions",value:function(){var e=this;return Object.keys(this.services.tokens).reduce((function(t,n){return t.push({symbol:n,name:e.services.tokens[n].ilk}),t}),[])}},{key:"convertToTokenWei",value:function(e,t){var n=new y.a(10).pow(t);return new y.a(e).times(n).toFixed(0).toString(10)}},{key:"convertToTokenBase",value:function(e,t){var n=new y.a(10).pow(t);return new y.a(e).div(n).toString(10)}},{key:"enoughMkrToWipe",value:function(e){return this.cdpService.enoughMkrToWipe(e,d["DAI"].wei)}},{key:"getProxy",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.services.getProxy();case 2:this._proxyAddress=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCombinedDebtValue",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this._proxyAddress,e.abrupt("return",this.mcdManager.getCombinedDebtValue(t));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBalanceOf",value:function(e){return this.services.balances[e]?this.services.balances[e]:_e(0)}},{key:"getProxyAllowancefor",value:function(e){return this.services.proxyAllowances[e]}},{key:"getRawProxyAllowanceforMkr",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new this.web3.eth.Contract(ve,this.contractAddresses.MCD_GOV),e.next=3,t.methods.allowance(this.currentAddress,this.proxyAddress).call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getTokenObjectFor",value:function(e){return this.services.tokens[e]}},{key:"getCurrentPriceFor",value:function(e){return e?this.getPriceOfCurrency(e):0}},{key:"getEventHistory",value:function(){return this.mcdManager.getEventHistory(this.cdp)}},{key:"getPriceOfCurrency",value:function(e){var t=this.mcdCurrencies[e];return t?t.price._amount:0}},{key:"getDaiBalances",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTokens[this.DAI_NAME].balance();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hasEnough",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ETH",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(_e(e).isNaN())return!1;var a=_e(e).toFixed(18);return"ETH"===t&&null!==n?_e(k.a.toWei(_e(a),"ether").toString()).lte(n):_e(k.a.toWei(a,"ether").toString()).lte(k.a.toWei(this.getBalanceOf(t),"ether"))}},{key:"hasEnoughAllowance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ETH";if("ETH"===t)return!0;var n=this.getProxyAllowancefor(t);try{var a=_e(e).toFixed(18);return _e(n.toString()).gte(_e(this.convertToTokenWei(a,18).toString()))}catch(r){console.error(r)}return _e(n).gte(_e(10))}},{key:"minDeposit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.minDai,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentPrice,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.liquidationRatio;return e<=0&&(e=this.minDai),Re(n,e,t)}},{key:"minDepositFor",value:function(e){return this.minDeposit(1.04*this.minDai,this.getCurrentPriceFor(e))}},{key:"minInSelectedCurrency",value:function(e){var t=_e(this.pethMin).times(this.wethToPethRatio);return _e(t).times(this.getCurrentPriceFor("ETH")).div(this.getCurrentPriceFor(e))}},{key:"setType",value:function(e){null===this.cdpId&&(this.cdpTypeObject=this.mcdManager.get("mcd:cdpType").getCdpType(null,e.name),this.minDaiValue=P(1,this.dustValues[e.symbol].dust).toBigNumber().toFixed(18),Object(f["a"])(Object(m["a"])(n.prototype),"cdpType",e.name,this,!0))}},{key:"toPeth",value:function(e){return this.services.toPeth(e)}},{key:"migrateCdp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getProxy();case 2:if(t=e.sent,t){e.next=10;break}return this.needsUpdate=!0,e.next=7,this.proxyService.ensureProxy();case 7:return e.abrupt("return",e.sent);case 10:if(!this.needToFinishMigrating){e.next=14;break}return this.needsUpdate=!0,e.next=14,this.cdpService.give(this.cdpId,this._proxyAddress);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openCdp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(n<=0)){e.next=2;break}return e.abrupt("return",0);case 2:return this.opening=!0,this.needsUpdate=!0,e.next=6,this.mcdManager.openLockAndDraw(t.ilk,he()[t.currency.symbol](n),Object(d["DAI"])(a));case 6:return r=e.sent,e.abrupt("return",r.id);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"lockEth",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.noProxy){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.mcdManager.getOwner(this.cdpId);case 5:return n=e.sent,this.needsUpdate=!0,e.next=9,this.mcdManager.lock(this.cdpId,this.cdpType,this.mcdCurrencies[this.cdpCollateralType].currency(t),n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"drawDai",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!this.calcCollatRatio(this.collateralAmount,this.debtValue.plus(t)).gt(2)&&!n){e.next=13;break}if(e.prev=2,!this.noProxy){e.next=5;break}return e.abrupt("return");case 5:return this.needsUpdate=!0,e.next=8,this.cdp.drawDai(Object(d["DAI"])(t));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"freeEth",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!(this.debtValue.eq(0)||this.calcCollatRatio(this.ethCollateral.minus(t),this.debtValue).gt(1.5)||n)){e.next=13;break}if(e.prev=2,!this.noProxy){e.next=5;break}return e.abrupt("return");case 5:return this.needsUpdate=!0,e.next=8,this.cdp.freeCollateral(t.toString());case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"wipeDai",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],e.prev=1,!this.noProxy){e.next=4;break}return e.abrupt("return");case 4:if(this.needsUpdate=!0,!n){e.next=10;break}return e.next=8,this.cdp.wipeAll();case 8:e.next=12;break;case 10:return e.next=12,this.cdp.wipeDai(t.toString());case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"canCloseCdp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.debtValue.toNumber(),e.next=3,this.cdpService.enoughMkrToWipe(this.cdpId,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"closeCdp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.needsUpdate=!0,this.closing=!0,!this.hasProxy){e.next=6;break}return e.next=6,this.cdpService.shutProxy(this._proxyAddress,this.cdpId);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log("closeCdp Error:"),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"moveCdp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getProxy();case 2:return e.next=4,this.proxyService.getProxyAddress(t);case 4:if(n=e.sent,!n){e.next=12;break}return this.needsUpdate=!0,this.closing=!0,e.next=10,this.cdp.giveToProxy(t);case 10:e.next=30;break;case 12:if(this.noProxy||!n){e.next=19;break}return this.needsUpdate=!0,this.closing=!0,e.next=17,this.cdp.giveToProxy(t);case 17:e.next=30;break;case 19:if(this.noProxy){e.next=26;break}return this.needsUpdate=!0,this.closing=!0,e.next=24,this.cdp.give(t);case 24:e.next=30;break;case 26:return this.needsUpdate=!0,this.closing=!0,e.next=30,this.cdp.give(t);case 30:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"minDai",get:function(){return this.minDaiValue}}]),n}(I),E=V,N=function(e){return new y.a(e)},F={PRICE:"price",CDP:"cdp",PROXY:"proxy",TOKEN:"token",CDP_MANAGER:"mcd:cdpManager",CDP_TYPE:"mcd:cdpType",AUCTION:"mcd:auction",SYSTEM_DATA:"mcd:systemData",QUERY_API:"mcd:queryApi",SAVINGS:"mcd:savings"};function q(e,t){return B.apply(this,arguments)}function B(){return B=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.service(F.SYSTEM_DATA),n.service(F.PROXY),n.service(F.TOKEN)]);case 2:return a=e.sent,t._systemData=a[0],t._proxyService=a[1],t._tokenService=a[2],t._mcdManager=n.service(F.CDP_MANAGER),t._mcdSaving=n.service(F.SAVINGS),t._typeService=n.service(F.CDP_TYPE),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}function U(e,t,n){return L.apply(this,arguments)}function L(){return L=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pethMin=N(.005),e.next=3,Promise.all([t._systemData.getAnnualBaseRate()]);case 3:return r=e.sent,t.ethPrice=N(a.getCdpType(null,"ETH-A")),t.liquidationRatio=N(a.getCdpType(null,"ETH-A").liquidationRatio),t.liquidationPenalty=N(a.liquidationPenalty),t.stabilityFee=N(a.getCdpType(null,"ETH-A").annualStabilityFee).plus(r[0]),t.baseStabilityFee=N(r[0]),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function W(e,t){return H.apply(this,arguments)}function H(){return H=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.balances={},t.tokens={},a=function(e){var a=t._tokenService.getToken(n[e].currency);t.tokens[n[e].currency.symbol]=a,a.balance().then((function(a){t.balances[n[e].currency.symbol]=a.toBigNumber()}))},r=0;r<n.length;r++)a(r);return i=t._tokenService.getToken(d["DAI"]),t.tokens[i.symbol]=i,e.next=8,i.balance();case 8:return t.balances[i.symbol]=e.sent.toBigNumber(),e.next=11,Y(t,n);case 11:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function Y(e,t){return z.apply(this,arguments)}function z(){return z=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.dustValues={},a=function(e){Object(j["a"])(t.web3,n[e].ilk).then((function(a){t.dustValues[n[e].currency.symbol]=a}))},r=0;r<n.length;r++)a(r);case 3:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function G(e,t,n){return J.apply(this,arguments)}function J(){return J=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.proxyAllowances={},a&&function(){var e=Object.keys(t.tokens);e.push("MKR"),e.push("DAI");for(var r=function(r){try{"undefined"!==typeof t.tokens[e[r]]&&"undefined"!==typeof t.tokens[e[r]]._contract&&"function"===typeof t.tokens[e[r]]._contract.allowance?t.tokens[e[r]]._contract.allowance(n,a).then((function(n){t.proxyAllowances[e[r]]=N(n)})):t.proxyAllowances[e[r]]=N(0),t.proxyAllowances[e[r]].isNaN()&&(t.proxyAllowances[e[r]]=N(0))}catch(i){t.proxyAllowances[e[r]]=N(0)}},i=0;i<e.length;i++)r(i)}(),e.abrupt("return",t.proxyAllowances);case 3:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function X(e){return Object.keys(e).reduce((function(t,n){return t.push({symbol:n,name:e[n].ilk}),t}),[])}function K(e,t){return $.apply(this,arguments)}function $(){return $=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.allCdpIds.includes(n)&&t.allCdpIds.length>0&&(n=t.allCdpIds[0]),0!==t.allCdpIds.length){e.next=5;break}t.activeValues=t.systemValues,e.next=9;break;case 5:return t.currentCdpId=n,e.next=8,Q.bind(t)(n);case 8:t.activeValues=e.sent;case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function Q(e){return Z.apply(this,arguments)}function Z(){return Z=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"number"!==typeof t&&(t=t.id),n=this.activeCdps[t],this.currentCdp=n,a=this.systemValues,e.abrupt("return",Object(o["a"])(Object(o["a"])({},a),{},{cdpId:t,maxEthDraw:n.maxEthDraw,maxUsdDraw:n.maxUsdDraw,ethCollateral:n.ethCollateral,usdCollateral:n.usdCollateral,debtValue:n.debtValue,maxDai:n.maxDai,collateralRatio:n.collatRatio,liquidationPrice:n.liquidationPrice,minEth:n.minEth,isSafe:!1,governanceFeeOwed:n.governanceFeeOwed,ethCollateralNum:n.ethCollateral,zeroDebt:n.zeroDebt,cdpsWithType:this.cdpsWithType,baseStabilityFee:this.baseStabilityFee}));case 5:case"end":return e.stop()}}),e,this)}))),Z.apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return te=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,s,u,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:t.cdps,a=c.length>2&&void 0!==c[2]?c[2]:t.cdpsWithoutProxy,r=0;case 3:if(!(r<n.length)){e.next=11;break}return i="number"!==typeof n[r]?n[r].id:n[r],e.next=7,ce.bind(t)(i);case 7:t.activeCdps[i]=e.sent;case 8:r++,e.next=3;break;case 11:s=0;case 12:if(!(s<a.length)){e.next=20;break}return u="number"!==typeof a[s]?a[s].id:a[s],e.next=16,ce.bind(t)(u,{noProxy:!0});case 16:t.activeCdps[u]=e.sent;case 17:s++,e.next=12;break;case 20:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e,t){return ae.apply(this,arguments)}function ae(){return ae=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce.bind(t)(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function re(e){return ie.apply(this,arguments)}function ie(){return ie=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,u,c,o,l,y,d,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=function(e){return"number"===typeof e?e:"object"===Object(p["a"])(e)?e.hasOwnProperty("id")?e.id:0:e},a=Object.keys(t.activeCdps),e.next=4,s(t,t._mcdManager);case 4:if(r=e.sent,i=r.withType,u=r.withProxy,c=r.withoutProxy,t.cdpsWithType=i,t.cdps=u.map(n),t.cdpsWithoutProxy=c,o=t.cdps.filter((function(e){return!a.includes(e.toString())})),l=t.cdpsWithoutProxy.filter((function(e){return!Object.keys(t.activeCdps).includes(e)})),y=a.filter((function(e){return!(t.cdps.includes(e.toString())||t.cdps.includes(parseInt(e))||t.cdpsWithoutProxy.includes(e.toString())||t.cdpsWithoutProxy.includes(parseInt(e)))})),y.length>0&&y.forEach((function(e){return delete t.activeCdps[e]})),!(o.length>0)){e.next=24;break}d=0;case 17:if(!(d<o.length)){e.next=24;break}return e.next=20,ce.bind(t)(o[d]);case 20:t.activeCdps[o[d]]=e.sent;case 21:d++,e.next=17;break;case 24:if(!(l.length>0)){e.next=33;break}b=0;case 26:if(!(b<l.length)){e.next=33;break}return e.next=29,ce.bind(t)(l[b],{noProxy:!0});case 29:t.activeCdps[l[b]]=e.sent;case 30:b++,e.next=26;break;case 33:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function se(e){return ue.apply(this,arguments)}function ue(){return ue=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ce.bind(t)(null);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}function ce(e){return pe.apply(this,arguments)}function pe(){return pe=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,s,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:{},a=u.length>2&&void 0!==u[2]&&u[2],r=Object(o["a"])(Object(o["a"])({},n),{},{tokens:this.tokens,balances:this.balances,_proxyAddress:this.proxyAddress,liquidationPenalty:this.liquidationPenalty,stabilityFee:this.stabilityFee,ethPrice:this.ethPrice,_targetPrice:this._targetPrice,liquidationRatio:this.liquidationRatio,proxyAllowances:this.proxyAllowances,_daiToken:this._daiToken,daiBalance:this.daiBalance,_mkrToken:this._mkrToken,mkrBalance:this.mkrBalance,minEth:this.minEth,cdpsWithType:this.cdpsWithType,baseStabilityFee:this.baseStabilityFee}),i={address:this.account.address,_typeService:this._typeService,_mcdManager:this._mcdManager,_mcdSaving:this._mcdSaving,_proxyService:this._proxyService,priceService:this.priceService,_cdpService:this._cdpService,_tokenService:this._tokenService,doUpdate:this.doUpdate,getProxy:this.getProxy,hasProxy:this.hasProxy,getMakerCdp:this.getMakerCdp,toUSD:this.toUSD,_proxyAddress:this.proxyAddress,liquidationPenalty:this.liquidationPenalty,stabilityFee:this.stabilityFee,ethPrice:this.ethPrice,_targetPrice:this._targetPrice,liquidationRatio:this.liquidationRatio,_daiToken:this._daiToken,daiBalance:this.daiBalance,_mkrToken:this._mkrToken,mkrBalance:this.mkrBalance,minEth:this.minEth,tokens:this.tokens,balances:this.balances,proxyAllowances:this.proxyAllowances,mcdCurrencies:this.mcdCurrencies,dustValues:this.dustValues,_systemData:this._systemData},e.prev=4,s=new E(t,this.web3,i,r),!t){e.next=14;break}if(!a){e.next=11;break}return e.next=10,s.init(t,a);case 10:return e.abrupt("return",e.sent);case 11:return e.next=13,s.init(t);case 13:return e.abrupt("return",e.sent);case 14:return e.abrupt("return",s);case 17:return e.prev=17,e.t0=e["catch"](4),console.log(e.t0),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e,this,[[4,17]])}))),pe.apply(this,arguments)}function oe(e,t){return le.apply(this,arguments)}function le(){return le=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getProxy();case 2:return t.proxyAddress=e.sent,a=!1,r="create"===t.$route.name,e.next=7,Promise.all([t.updateActiveCdp(),t.checkBalances(),t.checkAllowances()]);case 7:i=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.activeCdps[n].needsUpdate){e.next=17;break}if(!t.activeCdps[n].closing){e.next=8;break}a=!0,delete t.activeCdps[n],t.cdps=t.cdps.filter((function(e){return e!==n})),t.cdpsWithoutProxy=t.cdpsWithoutProxy.filter((function(e){return e!==n})),e.next=17;break;case 8:if(!t.activeCdps[n].opening){e.next=13;break}return e.next=11,t.activeCdps[n].updateValues();case 11:e.next=17;break;case 13:return e.next=15,t.activeCdps[n].update();case 15:t.activeCdps[n]=e.sent,t.activeCdps[n].updateSystemVariables({tokens:t.tokens,balances:t.balances,proxyAllowances:t.proxyAllowances,dustValues:t.dustValues});case 17:if(n!==t.currentCdpId){e.next=22;break}return e.next=20,t.currentCdp.update();case 20:return e.next=22,t.setupCdpManage(t.currentCdpId);case 22:case"end":return e.stop()}}),e)})),e.t0=regeneratorRuntime.keys(t.activeCdps);case 9:if((e.t1=e.t0()).done){e.next=14;break}return s=e.t1.value,e.delegateYield(i(s),"t2",12);case 12:e.next=9;break;case 14:if(!Object.keys(t.activeCdps).includes(t.currentCdpId.toString())&&!Object.keys(t.activeCdps).includes(t.currentCdpId)){e.next=19;break}return e.next=17,t.setupCdpManageFunc(t.currentCdpId);case 17:e.next=23;break;case 19:return e.next=21,t.loadCdpDetails();case 21:return e.next=23,t.setupCdpManageFunc(t.currentCdpId);case 23:if(u=function e(){if(t.afterUpdate.length>0){var n=t.afterUpdate.pop();n(),e()}},u(),(a||r||t.creatingCdp)&&(t.cdps.length>0||t.cdpsWithoutProxy.length>0?t.goToManage():"save"===t.$route.name?t.goToSave():t.gotoCreate()),!t.creatingCdp){e.next=33;break}return t.creatingCdp=!1,e.next=30,t.updateActiveCdp();case 30:n.responseHandler(t.$t("dappsMCDMaker.vault-created"),n.INFO),e.next=35;break;case 33:t.valuesUpdated++,n.responseHandler(t.$t("dappsMCDMaker.vault-updated"),n.INFO);case 35:case"end":return e.stop()}}),e)}))),le.apply(this,arguments)}var ye=n("a7ac"),de=n.n(ye),be=de.a.DAI;function he(){var e=Object(o["a"])({DAI:be},d);return e}var fe=[{constant:!0,inputs:[],name:"saiJoin",outputs:[{internalType:"contract JoinLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"wethJoin",outputs:[{internalType:"contract JoinLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tub",outputs:[{internalType:"contract SaiTubLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"vat",outputs:[{internalType:"contract VatLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"cdpManager",outputs:[{internalType:"contract ManagerLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"daiJoin",outputs:[{internalType:"contract JoinLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"wad",type:"uint256"}],name:"swapDaiToSai",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"cup",type:"bytes32"}],name:"migrate",outputs:[{internalType:"uint256",name:"cdp",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"wad",type:"uint256"}],name:"swapSaiToDai",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tub_",type:"address"},{internalType:"address",name:"cdpManager_",type:"address"},{internalType:"address",name:"saiJoin_",type:"address"},{internalType:"address",name:"wethJoin_",type:"address"},{internalType:"address",name:"daiJoin_",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"}],me=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}],ve=me,ge=[{constant:!0,inputs:[{internalType:"address",name:"manager",type:"address"},{internalType:"address",name:"guy",type:"address"}],name:"getCdpsAsc",outputs:[{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"address[]",name:"urns",type:"address[]"},{internalType:"bytes32[]",name:"ilks",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"manager",type:"address"},{internalType:"address",name:"guy",type:"address"}],name:"getCdpsDesc",outputs:[{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"address[]",name:"urns",type:"address[]"},{internalType:"bytes32[]",name:"ilks",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"}],xe=[{constant:!1,inputs:[],name:"build",outputs:[{internalType:"address payable",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"proxies",outputs:[{internalType:"contract DSProxy",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"build",outputs:[{internalType:"address payable",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"factory_",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"}],ke=[{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"count",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"ok",type:"uint256"}],name:"cdpAllow",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"flux",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"dst",type:"address"}],name:"quit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"urns",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"ilks",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"vat",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"int256",name:"dink",type:"int256"},{internalType:"int256",name:"dart",type:"int256"}],name:"frob",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"dst",type:"address"},{internalType:"int256",name:"dink",type:"int256"},{internalType:"int256",name:"dart",type:"int256"}],name:"frob",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"cdpCan",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"address",name:"usr",type:"address"}],name:"open",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"uint256",name:"cdp",type:"uint256"}],name:"enter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"list",outputs:[{internalType:"uint256",name:"prev",type:"uint256"},{internalType:"uint256",name:"next",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"owns",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"last",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"flux",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"urnCan",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"cdpi",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"ok",type:"uint256"}],name:"urnAllow",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"}],name:"open",outputs:[{internalType:"uint256",name:"cdp",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdpSrc",type:"uint256"},{internalType:"uint256",name:"cdpDst",type:"uint256"}],name:"shift",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"rad",type:"uint256"}],name:"move",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"first",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"dst",type:"address"}],name:"give",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"vat_",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"usr",type:"address"},{indexed:!0,internalType:"address",name:"own",type:"address"},{indexed:!1,internalType:"uint256",name:"cdp",type:"uint256"}],name:"NewCdp",type:"event"},{anonymous:!0,inputs:[{indexed:!0,internalType:"bytes4",name:"sig",type:"bytes4"},{indexed:!0,internalType:"address",name:"usr",type:"address"},{indexed:!0,internalType:"bytes32",name:"arg1",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"arg2",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"LogNote",type:"event"}],Te=[{inputs:[{internalType:"address",name:"vat_",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!0,inputs:[{indexed:!0,internalType:"bytes4",name:"sig",type:"bytes4"},{indexed:!0,internalType:"address",name:"usr",type:"address"},{indexed:!0,internalType:"bytes32",name:"arg1",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"arg2",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"LogNote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"ilk",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"val",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"spot",type:"uint256"}],name:"Poke",type:"event"},{constant:!1,inputs:[],name:"cage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"guy",type:"address"}],name:"deny",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"bytes32",name:"what",type:"bytes32"},{internalType:"uint256",name:"data",type:"uint256"}],name:"file",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"what",type:"bytes32"},{internalType:"uint256",name:"data",type:"uint256"}],name:"file",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"bytes32",name:"what",type:"bytes32"},{internalType:"address",name:"pip_",type:"address"}],name:"file",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"ilks",outputs:[{internalType:"contract PipLike",name:"pip",type:"address"},{internalType:"uint256",name:"mat",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"live",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"par",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"}],name:"poke",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"guy",type:"address"}],name:"rely",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"vat",outputs:[{internalType:"contract VatLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"wards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],we=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!0,inputs:[{indexed:!0,internalType:"bytes4",name:"sig",type:"bytes4"},{indexed:!0,internalType:"bytes32",name:"arg1",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"arg2",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"arg3",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"LogNote",type:"event"},{constant:!0,inputs:[],name:"Line",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"cage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"can",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"dai",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"debt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"}],name:"deny",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"bytes32",name:"what",type:"bytes32"},{internalType:"uint256",name:"data",type:"uint256"}],name:"file",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"what",type:"bytes32"},{internalType:"uint256",name:"data",type:"uint256"}],name:"file",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"flux",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"i",type:"bytes32"},{internalType:"address",name:"u",type:"address"},{internalType:"int256",name:"rate",type:"int256"}],name:"fold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"int256",name:"dink",type:"int256"},{internalType:"int256",name:"dart",type:"int256"}],name:"fork",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"i",type:"bytes32"},{internalType:"address",name:"u",type:"address"},{internalType:"address",name:"v",type:"address"},{internalType:"address",name:"w",type:"address"},{internalType:"int256",name:"dink",type:"int256"},{internalType:"int256",name:"dart",type:"int256"}],name:"frob",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"}],name:"gem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"i",type:"bytes32"},{internalType:"address",name:"u",type:"address"},{internalType:"address",name:"v",type:"address"},{internalType:"address",name:"w",type:"address"},{internalType:"int256",name:"dink",type:"int256"},{internalType:"int256",name:"dart",type:"int256"}],name:"grab",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"rad",type:"uint256"}],name:"heal",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"}],name:"hope",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"ilks",outputs:[{internalType:"uint256",name:"Art",type:"uint256"},{internalType:"uint256",name:"rate",type:"uint256"},{internalType:"uint256",name:"spot",type:"uint256"},{internalType:"uint256",name:"line",type:"uint256"},{internalType:"uint256",name:"dust",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"}],name:"init",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"live",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"rad",type:"uint256"}],name:"move",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"}],name:"nope",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"}],name:"rely",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"sin",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"address",name:"usr",type:"address"},{internalType:"int256",name:"wad",type:"int256"}],name:"slip",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"u",type:"address"},{internalType:"address",name:"v",type:"address"},{internalType:"uint256",name:"rad",type:"uint256"}],name:"suck",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"}],name:"urns",outputs:[{internalType:"uint256",name:"ink",type:"uint256"},{internalType:"uint256",name:"art",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"vice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"wards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function _e(e){var t=new y.a(e);return t.displayFixed=Me.bind(this,t),new y.a(e)}function Ce(e){return y.a.isBigNumber(e)||(e=new y.a(e)),e.times(100).toString()}function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{return y.a.isBigNumber(e)||(e=new y.a(e)),isFinite(e)&&!isNaN(e)||!n?a&&!r?e.toFixed(t,y.a.ROUND_DOWN).toString():a&&r?e.toFixed(t,y.a.ROUND_UP).toString():e.toFixed(t).toString():"--"}catch(i){return"--"}}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{var a=Me(Ce(e),t,n);return isFinite(a)&&new y.a(a).gt(0)?a:"--"}catch(r){return"--"}}function Pe(e){return void 0===e?0:"number"===typeof e?e:"object"===Object(p["a"])(e)?0:e.hasOwnProperty("id")?e.id:0}function Re(e,t,n){return _e(e).times(_e(t)).div(_e(n))}function Oe(e,t,n,a){return Re(_e(e),_e(t),_e(n)).minus(_e(a))}function De(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return _e(e).minus(Re(_e(t).plus(.001),_e(n),_e(a))).minus(_e(r).times(1))}function Se(e,t,n){return Re(_e(e),t,n)}function Ie(e,t,n,a){for(var r=parseInt(n),i=r;i>0;i--){var s=Re(i,e,t).lte(_e(a));if(s)return i}for(var u=100;u>0;u--){var c=Re(u/100,e,t).lte(_e(a));if(c)return u/100}return _e(.01)}},e14b:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));n("a15b"),n("d81d"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("96cf");var a=n("1da1"),r=n("d1fb");n("f654");function i(e,t,n){return e+new Array(t-e.length+1).join(n||"0")}function s(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.with0x,a=void 0===n||n,r=t.rightPadding,s=void 0===r?64:r,u="",c=0;c<e.length;c++)u+=e.charCodeAt(c).toString(16);return s>0&&(u=i(u,s)),a?"0x"+u:u}function u(t){return"0x"+e.from(t).toString("hex")}function c(e,t){return p.apply(this,arguments)}function p(){return p=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new t.eth.Contract(r["g"],r["h"].MCD_VAT),e.next=3,a.methods.ilks(s(n)).call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function o(e,t,n){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a){var i,s,c,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i=new t.eth.Contract(r["a"],r["h"].CDP_MANAGER),s=new t.eth.Contract(r["g"],r["h"].MCD_VAT),e.next=5,i.methods.urns(n).call();case 5:return c=e.sent,e.next=8,s.methods.urns(u(a),c).call();case 8:return p=e.sent,e.abrupt("return",p);case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),l.apply(this,arguments)}}).call(this,n("1c35").Buffer)},f4d9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));n("a15b"),n("d81d"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("96cf");var a=n("1da1"),r=n("d1fb"),i=n("f654"),s=n.n(i);function u(t){return e.from(t.replace(/^0x/,""),"hex").toString().replace(/\x00/g,"")}function c(e,t){return p.apply(this,arguments)}function p(){return p=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,i,c,p,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new t.eth.Contract(r["d"],r["h"].GET_CDPS),e.next=3,a.methods.getCdpsDesc(r["h"].CDP_MANAGER,n).call();case 3:return i=e.sent,c=i.ids,p=i.ilks,s()(c.length===p.length,"ids and ilks must be the same length"),o=c.map((function(e,t){return{id:parseInt(e),ilk:u(p[t])}})),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}}).call(this,n("1c35").Buffer)}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-71a3d7a4.63beca63.js.map
{"version":3,"sources":["webpack:///./src/dapps/GntMigrator/GntMigrator.vue?f61a","webpack:///./src/dapps/GntMigrator/abi/oldToken.js","webpack:///src/dapps/GntMigrator/GntMigrator.vue","webpack:///./src/dapps/GntMigrator/GntMigrator.vue?3942","webpack:///./src/dapps/GntMigrator/GntMigrator.vue","webpack:///./src/dapps/GntMigrator/GntMigrator.vue?0682"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","loading","_e","lendBalance","on","setEntireBalance","directives","name","rawName","value","expression","attrs","domProps","$event","target","composing","amount","class","disabled","checkAllowance","staticRenderFns","constant","inputs","outputs","type","payable","anonymous","indexed","components","BackButton","props","tokensWithBalance","Array","default","data","hasEnoughRatio","lendMigratorContract","balanceUpdate","updatedBalance","miningLockout","computed","item","symbol","SYMBOL","lendToken","gt","lte","balance","mounted","methods","getLendBalance","getUpdatedBalance","contract","component"],"mappings":"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","file":"js/chunk-61e85c31.9f7c6a46.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lend-migrator-container\"},[_c('back-button'),_c('b-container',{staticClass:\"text-center\"},[_c('div',{staticClass:\"pt-4 lend-title\"},[_vm._v(_vm._s(_vm.$t('dappsMisc.gnt-title')))]),_c('div',{staticClass:\"d-flex mt-4 mb-1 total-container entire-bal\"},[_c('p',[_vm._v(\" GNT: \"),_c('span',{staticClass:\"balance\"},[(!_vm.loading)?_c('span',[_vm._v(_vm._s(_vm.lendBalance)+\" \")]):_vm._e(),(_vm.loading)?_c('i',{staticClass:\"fa fa-spin fa-spinner fa-lg\"}):_vm._e()])]),_c('button',{staticClass:\"button-link\",on:{\"click\":_vm.setEntireBalance}},[_vm._v(\" \"+_vm._s(_vm.$t('sendTx.button-entire'))+\" \")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('dappsMisc.total-amount')},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('button',{class:[\n        'large-round-button-green-filled',\n        'mt-3',\n        _vm.disabled ? 'disabled' : ''\n      ],on:{\"click\":_vm.checkAllowance}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMisc.migrate'))+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default [\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'name',\r\n    outputs: [{ name: '', type: 'string' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'golemFactory',\r\n    outputs: [{ name: '', type: 'address' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'totalSupply',\r\n    outputs: [{ name: '', type: 'uint256' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [{ name: '_master', type: 'address' }],\r\n    name: 'setMigrationMaster',\r\n    outputs: [],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'decimals',\r\n    outputs: [{ name: '', type: 'uint8' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [{ name: '_value', type: 'uint256' }],\r\n    name: 'migrate',\r\n    outputs: [],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [],\r\n    name: 'finalize',\r\n    outputs: [],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [],\r\n    name: 'refund',\r\n    outputs: [],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'migrationMaster',\r\n    outputs: [{ name: '', type: 'address' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'tokenCreationCap',\r\n    outputs: [{ name: '', type: 'uint256' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [{ name: '_owner', type: 'address' }],\r\n    name: 'balanceOf',\r\n    outputs: [{ name: '', type: 'uint256' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [{ name: '_agent', type: 'address' }],\r\n    name: 'setMigrationAgent',\r\n    outputs: [],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'migrationAgent',\r\n    outputs: [{ name: '', type: 'address' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'fundingEndBlock',\r\n    outputs: [{ name: '', type: 'uint256' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'totalMigrated',\r\n    outputs: [{ name: '', type: 'uint256' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'symbol',\r\n    outputs: [{ name: '', type: 'string' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      { name: '_to', type: 'address' },\r\n      { name: '_value', type: 'uint256' }\r\n    ],\r\n    name: 'transfer',\r\n    outputs: [{ name: '', type: 'bool' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'tokenCreationMin',\r\n    outputs: [{ name: '', type: 'uint256' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'funding',\r\n    outputs: [{ name: '', type: 'bool' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'tokenCreationRate',\r\n    outputs: [{ name: '', type: 'uint256' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'fundingStartBlock',\r\n    outputs: [{ name: '', type: 'uint256' }],\r\n    payable: false,\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [],\r\n    name: 'create',\r\n    outputs: [],\r\n    payable: true,\r\n    type: 'function'\r\n  },\r\n  {\r\n    inputs: [\r\n      { name: '_golemFactory', type: 'address' },\r\n      { name: '_migrationMaster', type: 'address' },\r\n      { name: '_fundingStartBlock', type: 'uint256' },\r\n      { name: '_fundingEndBlock', type: 'uint256' }\r\n    ],\r\n    type: 'constructor'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      { indexed: true, name: '_from', type: 'address' },\r\n      { indexed: true, name: '_to', type: 'address' },\r\n      { indexed: false, name: '_value', type: 'uint256' }\r\n    ],\r\n    name: 'Transfer',\r\n    type: 'event'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      { indexed: true, name: '_from', type: 'address' },\r\n      { indexed: true, name: '_to', type: 'address' },\r\n      { indexed: false, name: '_value', type: 'uint256' }\r\n    ],\r\n    name: 'Migrate',\r\n    type: 'event'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      { indexed: true, name: '_from', type: 'address' },\r\n      { indexed: false, name: '_value', type: 'uint256' }\r\n    ],\r\n    name: 'Refund',\r\n    type: 'event'\r\n  }\r\n];\r\n","<template>\r\n  <div class=\"lend-migrator-container\">\r\n    <back-button />\r\n    <b-container class=\"text-center\">\r\n      <div class=\"pt-4 lend-title\">{{ $t('dappsMisc.gnt-title') }}</div>\r\n      <div class=\"d-flex mt-4 mb-1 total-container entire-bal\">\r\n        <p>\r\n          GNT:\r\n          <span class=\"balance\"\r\n            ><span v-if=\"!loading\">{{ lendBalance }} </span>\r\n            <i v-if=\"loading\" class=\"fa fa-spin fa-spinner fa-lg\" />\r\n          </span>\r\n        </p>\r\n        <button class=\"button-link\" @click=\"setEntireBalance\">\r\n          {{ $t('sendTx.button-entire') }}\r\n        </button>\r\n      </div>\r\n      <input\r\n        v-model=\"amount\"\r\n        type=\"text\"\r\n        :placeholder=\"$t('dappsMisc.total-amount')\"\r\n      />\r\n      <button\r\n        :class=\"[\r\n          'large-round-button-green-filled',\r\n          'mt-3',\r\n          disabled ? 'disabled' : ''\r\n        ]\"\r\n        @click=\"checkAllowance\"\r\n      >\r\n        {{ $t('dappsMisc.migrate') }}\r\n      </button>\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BackButton from '@/layouts/InterfaceLayout/components/BackButton';\r\nimport OLD_GNT from './abi/oldToken';\r\nimport BigNumber from 'bignumber.js';\r\nimport { mapState } from 'vuex';\r\nimport { Toast } from '@/helpers';\r\nimport utils from 'web3-utils';\r\n\r\nconst OLD_GNT_ADDRESS = '0xa74476443119A942dE498590Fe1f2454d7D4aC0d';\r\n// const NEW_GNT_ADDRESS = '0x7DD9c5Cba05E151C895FDe1CF355C9A1D5DA6429';\r\nconst SYMBOL = 'GNT';\r\n\r\nexport default {\r\n  components: {\r\n    'back-button': BackButton\r\n  },\r\n  props: {\r\n    tokensWithBalance: {\r\n      type: Array,\r\n      default: function () {\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      amount: 0,\r\n      hasEnoughRatio: false,\r\n      lendMigratorContract: '',\r\n      loading: false,\r\n      balanceUpdate: false,\r\n      updatedBalance: 0,\r\n      miningLockout: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('main', ['web3', 'account']),\r\n    lendBalance() {\r\n      if (!this.balanceUpdate) {\r\n        const lendToken = this.tokensWithBalance.find(item => {\r\n          return item.symbol === SYMBOL;\r\n        });\r\n        return lendToken ? new BigNumber(lendToken.balance).toFixed() : 0;\r\n      }\r\n      return this.updatedBalance;\r\n    },\r\n    disabled() {\r\n      const amount = new BigNumber(this.amount);\r\n      const balance = new BigNumber(this.lendBalance);\r\n      if (amount.gt(0) && amount.lte(balance)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    async checkAllowance() {\r\n      const lendContract = new this.web3.eth.Contract(OLD_GNT, OLD_GNT_ADDRESS);\r\n      this.migrate(lendContract);\r\n      this.loading = true;\r\n    },\r\n    getLendBalance() {\r\n      const lendToken = this.tokensWithBalance.find(item => {\r\n        return item.symbol === SYMBOL;\r\n      });\r\n      return lendToken ? new BigNumber(lendToken.balance).toFixed() : 0;\r\n    },\r\n    async migrate(lendContract) {\r\n      const estimatedAmount = new BigNumber(this.amount)\r\n        .times(new BigNumber(10).pow(18))\r\n        .toFixed();\r\n      const amountAsHex = this.web3.utils.numberToHex(estimatedAmount);\r\n      const migrateData = await lendContract.methods\r\n        .migrate(amountAsHex)\r\n        .encodeABI();\r\n      const params = {\r\n        from: this.account.address,\r\n        to: OLD_GNT_ADDRESS,\r\n        value: 0,\r\n        data: migrateData\r\n      };\r\n      this.miningLockout = true;\r\n      this.web3.eth.estimateGas(params).then(res => {\r\n        this.loading = false;\r\n        this.amount = 0;\r\n        this.web3.eth\r\n          .sendTransaction({\r\n            from: this.account.address,\r\n            to: OLD_GNT_ADDRESS,\r\n            value: 0,\r\n            gas: res,\r\n            data: migrateData\r\n          })\r\n          .then(() => {\r\n            this.miningLockout = false;\r\n            this.amount = 0;\r\n            this.loading = false;\r\n            this.getUpdatedBalance();\r\n          })\r\n          .catch(error => {\r\n            this.loading = false;\r\n            this.miningLockout = false;\r\n            Toast.responseHandler(error, Toast.ERROR);\r\n          });\r\n      });\r\n    },\r\n    setEntireBalance() {\r\n      this.amount = this.lendBalance;\r\n    },\r\n    getUpdatedBalance() {\r\n      const abi = [\r\n        {\r\n          constant: true,\r\n          inputs: [\r\n            {\r\n              name: '_owner',\r\n              type: 'address'\r\n            }\r\n          ],\r\n          name: 'balanceOf',\r\n          outputs: [\r\n            {\r\n              name: '',\r\n              type: 'uint256'\r\n            }\r\n          ],\r\n          payable: false,\r\n          type: 'function'\r\n        }\r\n      ];\r\n      const contract = new this.web3.eth.Contract(abi, OLD_GNT_ADDRESS);\r\n      this.balanceUpdate = false;\r\n      contract.methods\r\n        .balanceOf(this.account.address)\r\n        .call()\r\n        .then(res => {\r\n          this.updatedBalance = utils.fromWei(res, 'Ether');\r\n          this.balanceUpdate = true;\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'LendMigrator.scss';\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GntMigrator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GntMigrator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GntMigrator.vue?vue&type=template&id=0cc651d5&scoped=true&\"\nimport script from \"./GntMigrator.vue?vue&type=script&lang=js&\"\nexport * from \"./GntMigrator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GntMigrator.vue?vue&type=style&index=0&id=0cc651d5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cc651d5\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GntMigrator.vue?vue&type=style&index=0&id=0cc651d5&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GntMigrator.vue?vue&type=style&index=0&id=0cc651d5&lang=scss&scoped=true&\""],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/assets/images/icons/dapps/unstoppable-blue.png","webpack:///./src/dapps/Unstoppable/Unstoppable.vue?8bc4","webpack:///./src/dapps/Unstoppable/Unstoppable.vue?d73c","webpack:///src/dapps/Unstoppable/Unstoppable.vue","webpack:///./src/dapps/Unstoppable/Unstoppable.vue?b08e","webpack:///./src/dapps/Unstoppable/Unstoppable.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","orderNumber","expression","attrs","$route","$t","scopedSlots","_u","key","fn","class","on","navigateHeaderButtons","_v","_s","proxy","cart","domainsClaimed","search","searchErr","domainName","searchResults","tokenId","checkDomain","domainNameErr","loading","account","web3","email","copiedToClipboard","setTokenId","setOrderNumber","setDomain","setDomainsClaimed","addItemToCart","removeItemFromCart","updateSearch","staticRenderFns","components","BackButton","data","computed","tld","tldPosition","mounted","$nextTick","methods","path","$router","push","setup","domainPrice","registrarTLD","parsedTld","parsedHostName","length","hasTld","searchLabel","replace","Error","filter","component"],"mappings":"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","file":"js/chunk-e9653e30.d2d73247.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/unstoppable-blue.ac7ef481.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unstoppable.vue?vue&type=style&index=0&id=a6f34946&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unstoppable.vue?vue&type=style&index=0&id=a6f34946&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"unstoppable-container\"},[_c('back-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.orderNumber),expression:\"!orderNumber\"}],attrs:{\"path\":_vm.$route.name === 'manageCrypto'\n        ? '/interface/dapps/unstoppable/manage'\n        : '/interface/dapps/',\"title\":_vm.$t('common.exit-dapp')},scopedSlots:_vm._u([{key:\"center\",fn:function(){return [_c('div',{staticClass:\"button-container\"},[_c('b-button',{class:[\n            'action-btn',\n            _vm.$route.name === 'unstoppableInitialState' ? 'active-btn' : ''\n          ],on:{\"click\":function () {\n              _vm.navigateHeaderButtons('register');\n            }}},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.register-domain'))+\" \")]),_c('b-button',{class:[\n            'action-btn',\n            _vm.$route.name === 'manageInitialState' ||\n            _vm.$route.name === 'manageCrypto'\n              ? 'active-btn'\n              : ''\n          ],on:{\"click\":function () {\n              _vm.navigateHeaderButtons('manager');\n            }}},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.manage-domain'))+\" \")])],1)]},proxy:true}])}),_c('div',{staticClass:\"branding-container\"},[_c('div',{staticClass:\"name-container\"},[_c('img',{attrs:{\"height\":\"33\",\"src\":require(\"@/assets/images/icons/dapps/unstoppable-blue.png\"),\"alt\":\"Unstoppable\"}}),_c('span',[_vm._v(_vm._s(_vm.$t('unstoppable.title')))])]),_c('div',{staticClass:\"about-text\"},[_vm._v(_vm._s(_vm.$t('unstoppable.about-unstoppable')))])]),_c('router-view',{attrs:{\"cart\":_vm.cart,\"domains-claimed\":_vm.domainsClaimed,\"search\":_vm.search,\"search-err\":_vm.searchErr,\"domain-name\":_vm.domainName,\"search-results\":_vm.searchResults,\"token-id\":_vm.tokenId,\"check-domain\":_vm.checkDomain,\"domain-name-err\":_vm.domainNameErr,\"loading\":_vm.loading,\"account\":_vm.account,\"web3\":_vm.web3,\"email\":_vm.email,\"copied-to-clipboard\":_vm.copiedToClipboard,\"order-number\":_vm.orderNumber,\"set-token-id\":_vm.setTokenId,\"set-order-number\":_vm.setOrderNumber,\"set-domain\":_vm.setDomain,\"set-domains-claimed\":_vm.setDomainsClaimed,\"add-item-to-cart\":_vm.addItemToCart,\"remove-item-from-cart\":_vm.removeItemFromCart},on:{\"searchChange\":_vm.updateSearch}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"unstoppable-container\">\r\n    <back-button\r\n      v-show=\"!orderNumber\"\r\n      :path=\"\r\n        $route.name === 'manageCrypto'\r\n          ? '/interface/dapps/unstoppable/manage'\r\n          : '/interface/dapps/'\r\n      \"\r\n      :title=\"$t('common.exit-dapp')\"\r\n    >\r\n      <template v-slot:center>\r\n        <div class=\"button-container\">\r\n          <b-button\r\n            :class=\"[\r\n              'action-btn',\r\n              $route.name === 'unstoppableInitialState' ? 'active-btn' : ''\r\n            ]\"\r\n            @click=\"\r\n              () => {\r\n                navigateHeaderButtons('register');\r\n              }\r\n            \"\r\n          >\r\n            {{ $t('unstoppable.register-domain') }}\r\n          </b-button>\r\n          <b-button\r\n            :class=\"[\r\n              'action-btn',\r\n              $route.name === 'manageInitialState' ||\r\n              $route.name === 'manageCrypto'\r\n                ? 'active-btn'\r\n                : ''\r\n            ]\"\r\n            @click=\"\r\n              () => {\r\n                navigateHeaderButtons('manager');\r\n              }\r\n            \"\r\n          >\r\n            {{ $t('unstoppable.manage-domain') }}\r\n          </b-button>\r\n        </div>\r\n      </template>\r\n    </back-button>\r\n    <div class=\"branding-container\">\r\n      <div class=\"name-container\">\r\n        <img\r\n          height=\"33\"\r\n          src=\"@/assets/images/icons/dapps/unstoppable-blue.png\"\r\n          alt=\"Unstoppable\"\r\n        />\r\n        <span>{{ $t('unstoppable.title') }}</span>\r\n      </div>\r\n      <div class=\"about-text\">{{ $t('unstoppable.about-unstoppable') }}</div>\r\n    </div>\r\n    <router-view\r\n      :cart=\"cart\"\r\n      :domains-claimed=\"domainsClaimed\"\r\n      :search=\"search\"\r\n      :search-err=\"searchErr\"\r\n      :domain-name=\"domainName\"\r\n      :search-results=\"searchResults\"\r\n      :token-id=\"tokenId\"\r\n      :check-domain=\"checkDomain\"\r\n      :domain-name-err=\"domainNameErr\"\r\n      :loading=\"loading\"\r\n      :account=\"account\"\r\n      :web3=\"web3\"\r\n      :email=\"email\"\r\n      :copied-to-clipboard=\"copiedToClipboard\"\r\n      :order-number=\"orderNumber\"\r\n      :set-token-id=\"setTokenId\"\r\n      :set-order-number=\"setOrderNumber\"\r\n      :set-domain=\"setDomain\"\r\n      :set-domains-claimed=\"setDomainsClaimed\"\r\n      :add-item-to-cart=\"addItemToCart\"\r\n      :remove-item-from-cart=\"removeItemFromCart\"\r\n      @searchChange=\"updateSearch\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '@stripe/stripe-js';\r\nimport { mapState } from 'vuex';\r\nimport BackButton from '@/layouts/InterfaceLayout/components/BackButton';\r\nimport { Toast } from '@/helpers';\r\nimport { get } from '@/helpers/httpRequests';\r\n\r\nexport default {\r\n  components: {\r\n    'back-button': BackButton\r\n  },\r\n  data() {\r\n    return {\r\n      search: '',\r\n      searchResults: [],\r\n      cart: [],\r\n      domainsClaimed: [],\r\n      searchErr: false,\r\n      domainName: '',\r\n      tokenId: '',\r\n      domainNameErr: false,\r\n      loading: false,\r\n      orderNumber: 0,\r\n      email: 'mew@unstoppabledomains.com'\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('main', ['web3', 'network', 'account']),\r\n    tld() {\r\n      if (!this.search) {\r\n        return '';\r\n      }\r\n      const tldPosition = this.search.lastIndexOf('.');\r\n      return tldPosition !== -1\r\n        ? this.search.substr(tldPosition + 1, this.search.length)\r\n        : '';\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.setup();\r\n    });\r\n  },\r\n  methods: {\r\n    navigateHeaderButtons(path) {\r\n      if (path === 'register') {\r\n        this.$router.push({ name: `unstoppableInitialState` });\r\n      } else {\r\n        this.$router.push({\r\n          name: `manageInitialState`\r\n        });\r\n      }\r\n    },\r\n    setDomainsClaimed(domainsClaimed) {\r\n      this.domainsClaimed = domainsClaimed;\r\n    },\r\n    setDomain(domainName) {\r\n      this.domainName = domainName;\r\n      if (domainName !== '') {\r\n        this.$router.push({ name: `manageCrypto` });\r\n      } else {\r\n        this.$router.push({\r\n          name: `manageInitialState`\r\n        });\r\n      }\r\n    },\r\n    setup() {\r\n      this.domainNameErr = false;\r\n      this.loading = false;\r\n      this.domainPrice = 0;\r\n      this.registrarTLD = 'crypto';\r\n    },\r\n    copiedToClipboard() {\r\n      Toast.responseHandler(this.$t('common.copied'), Toast.INFO);\r\n    },\r\n    parsedTld() {\r\n      if (this.parsedHostName().length) {\r\n        const hasTld = this.search.lastIndexOf('.');\r\n        return hasTld > -1\r\n          ? this.search.substr(hasTld + 1, this.search.length)\r\n          : this.registrarTLD;\r\n      }\r\n      return '';\r\n    },\r\n    searchLabel() {\r\n      return this.search.replace(`.${this.registrarTLD}`, '');\r\n    },\r\n    updateSearch(value) {\r\n      try {\r\n        this.search =\r\n          value.replace(`.${this.registrarTLD}`, '') + `.${this.registrarTLD}`;\r\n        if (\r\n          this.searchLabel() &&\r\n          (!/^[a-z\\d-]+$/.test(this.searchLabel()) ||\r\n            this.searchLabel().startsWith('xn--') ||\r\n            this.searchLabel().startsWith('0x'))\r\n        ) {\r\n          throw Error('Domain contains invalid characters');\r\n        }\r\n      } catch (e) {\r\n        Toast.responseHandler(e, Toast.WARN);\r\n        this.searchErr = true;\r\n        return;\r\n      }\r\n      if (this.searchLabel() && this.searchLabel().length < 6) {\r\n        this.searchErr = true;\r\n      } else {\r\n        this.searchErr = false;\r\n      }\r\n    },\r\n    setOrderNumber(orderNumber) {\r\n      this.orderNumber = orderNumber;\r\n    },\r\n    setTokenId(tokenId) {\r\n      this.tokenId = tokenId;\r\n    },\r\n    addItemToCart(item) {\r\n      this.cart = [\r\n        ...this.cart,\r\n        { price: item.price, label: item.label, extension: item.extension }\r\n      ];\r\n    },\r\n    removeItemFromCart(item) {\r\n      this.cart = this.cart.filter(cartItem => cartItem.label !== item.label);\r\n    },\r\n    async checkDomain() {\r\n      this.loading = true;\r\n      try {\r\n        const { domain } = await get(\r\n          `https://unstoppabledomains.com/api/v1/resellers/myetherwallet/domains/${this.search}`\r\n        );\r\n        const results = [\r\n          {\r\n            price: domain?.reselling?.price,\r\n            label: this.searchLabel(),\r\n            available: domain?.reselling?.price,\r\n            extension: this.registrarTLD,\r\n            first: true\r\n          }\r\n        ];\r\n        const url = `https://unstoppabledomains.com/api/v1/resellers/myetherwallet/domains/variations?domains=[\"${this.search}\"]`;\r\n        const similarities = await fetch(url).then(res => res.json());\r\n        for (const d in similarities) {\r\n          for (const similarity of similarities[d]) {\r\n            if (similarity.extension === this.registrarTLD) {\r\n              if (!results.map(r => r.label).includes(similarity.label)) {\r\n                results.push({\r\n                  label: similarity.label,\r\n                  extension: this.registrarTLD,\r\n                  price: similarity.price / 100,\r\n                  available: true\r\n                });\r\n              }\r\n            }\r\n          }\r\n        }\r\n        this.searchResults = results;\r\n      } catch (e) {\r\n        const toastText = this.$t('unstoppable.error.something-went-wrong');\r\n        Toast.responseHandler(toastText, Toast.ERROR);\r\n      }\r\n      this.loading = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'Unstoppable.scss';\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unstoppable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unstoppable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Unstoppable.vue?vue&type=template&id=a6f34946&scoped=true&\"\nimport script from \"./Unstoppable.vue?vue&type=script&lang=js&\"\nexport * from \"./Unstoppable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Unstoppable.vue?vue&type=style&index=0&id=a6f34946&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6f34946\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
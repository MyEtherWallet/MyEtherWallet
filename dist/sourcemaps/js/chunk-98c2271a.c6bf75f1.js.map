{"version":3,"sources":["webpack:///./src/dapps/LendMigrator/LendMigrator.vue?a75c","webpack:///./src/dapps/LendMigrator/abi/lendToAaveMigrator.js","webpack:///./src/dapps/LendMigrator/abi/erc20.js","webpack:///src/dapps/LendMigrator/LendMigrator.vue","webpack:///./src/dapps/LendMigrator/LendMigrator.vue?9c9d","webpack:///./src/dapps/LendMigrator/LendMigrator.vue","webpack:///./src/dapps/LendMigrator/LendMigrator.vue?77f6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","loading","_e","lendBalance","on","setEntireBalance","directives","name","rawName","value","expression","attrs","domProps","$event","target","composing","amount","class","disabled","checkAllowance","staticRenderFns","inputs","internalType","type","stateMutability","anonymous","indexed","outputs","ERC20","constant","payable","components","BackButton","props","tokensWithBalance","Array","default","data","hasEnoughRatio","lendMigratorContract","computed","item","symbol","LEND_SYMBOL","lendToken","mounted","getRatio","methods","component"],"mappings":"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","file":"js/chunk-98c2271a.c6bf75f1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lend-migrator-container\"},[_c('back-button'),_c('b-container',{staticClass:\"text-center\"},[_c('div',{staticClass:\"pt-4 lend-title\"},[_vm._v(_vm._s(_vm.$t('dappsAave.lend-title')))]),_c('div',{staticClass:\"d-flex mt-4 mb-1 total-container entire-bal\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('dappsAave.total-lend'))+\": \"),_c('span',{staticClass:\"balance\"},[(!_vm.loading)?_c('span',[_vm._v(_vm._s(_vm.lendBalance)+\" \")]):_vm._e(),(_vm.loading)?_c('i',{staticClass:\"fa fa-spin fa-spinner fa-lg\"}):_vm._e()])]),_c('button',{staticClass:\"button-link\",on:{\"click\":_vm.setEntireBalance}},[_vm._v(\" \"+_vm._s(_vm.$t('sendTx.button-entire'))+\" \")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('dappsAave.total-amount')},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('button',{class:[\n        'large-round-button-green-filled',\n        'mt-3',\n        _vm.disabled ? 'disabled' : ''\n      ],on:{\"click\":_vm.checkAllowance}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsAave.migrate'))+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default [\r\n  {\r\n    inputs: [\r\n      { internalType: 'contract IERC20', name: 'aave', type: 'address' },\r\n      { internalType: 'contract IERC20', name: 'lend', type: 'address' },\r\n      { internalType: 'uint256', name: 'lendAaveRatio', type: 'uint256' }\r\n    ],\r\n    stateMutability: 'nonpayable',\r\n    type: 'constructor'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        internalType: 'address',\r\n        name: 'sender',\r\n        type: 'address'\r\n      },\r\n      {\r\n        indexed: true,\r\n        internalType: 'uint256',\r\n        name: 'amount',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    name: 'LendMigrated',\r\n    type: 'event'\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'AAVE',\r\n    outputs: [{ internalType: 'contract IERC20', name: '', type: 'address' }],\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'LEND',\r\n    outputs: [{ internalType: 'contract IERC20', name: '', type: 'address' }],\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'LEND_AAVE_RATIO',\r\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'REVISION',\r\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: '_totalLendMigrated',\r\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'initialize',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    inputs: [{ internalType: 'uint256', name: 'amount', type: 'uint256' }],\r\n    name: 'migrateFromLEND',\r\n    outputs: [],\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: 'migrationStarted',\r\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  }\r\n];\r\n","const ERC20 = [\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'name',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'string'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: '_spender',\r\n        type: 'address'\r\n      },\r\n      {\r\n        name: '_value',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    name: 'approve',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'bool'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'totalSupply',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: '_from',\r\n        type: 'address'\r\n      },\r\n      {\r\n        name: '_to',\r\n        type: 'address'\r\n      },\r\n      {\r\n        name: '_value',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    name: 'transferFrom',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'bool'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'decimals',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'uint8'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [\r\n      {\r\n        name: '_owner',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    name: 'balanceOf',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'symbol',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'string'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: '_to',\r\n        type: 'address'\r\n      },\r\n      {\r\n        name: '_value',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    name: 'transfer',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'bool'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [\r\n      {\r\n        name: '_owner',\r\n        type: 'address'\r\n      },\r\n      {\r\n        name: '_spender',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    name: 'allowance',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    inputs: [],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'constructor'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        name: '_from',\r\n        type: 'address'\r\n      },\r\n      {\r\n        indexed: true,\r\n        name: '_to',\r\n        type: 'address'\r\n      },\r\n      {\r\n        indexed: false,\r\n        name: '_value',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    name: 'Transfer',\r\n    type: 'event'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        name: '_owner',\r\n        type: 'address'\r\n      },\r\n      {\r\n        indexed: true,\r\n        name: '_spender',\r\n        type: 'address'\r\n      },\r\n      {\r\n        indexed: false,\r\n        name: '_value',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    name: 'Approval',\r\n    type: 'event'\r\n  }\r\n];\r\n\r\nexport default ERC20;\r\n","<template>\r\n  <div class=\"lend-migrator-container\">\r\n    <back-button />\r\n    <b-container class=\"text-center\">\r\n      <div class=\"pt-4 lend-title\">{{ $t('dappsAave.lend-title') }}</div>\r\n      <div class=\"d-flex mt-4 mb-1 total-container entire-bal\">\r\n        <p>\r\n          {{ $t('dappsAave.total-lend') }}:\r\n          <span class=\"balance\"\r\n            ><span v-if=\"!loading\">{{ lendBalance }} </span>\r\n            <i v-if=\"loading\" class=\"fa fa-spin fa-spinner fa-lg\" />\r\n          </span>\r\n        </p>\r\n        <button class=\"button-link\" @click=\"setEntireBalance\">\r\n          {{ $t('sendTx.button-entire') }}\r\n        </button>\r\n      </div>\r\n      <input\r\n        v-model=\"amount\"\r\n        type=\"text\"\r\n        :placeholder=\"$t('dappsAave.total-amount')\"\r\n      />\r\n      <button\r\n        :class=\"[\r\n          'large-round-button-green-filled',\r\n          'mt-3',\r\n          disabled ? 'disabled' : ''\r\n        ]\"\r\n        @click=\"checkAllowance\"\r\n      >\r\n        {{ $t('dappsAave.migrate') }}\r\n      </button>\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BackButton from '@/layouts/InterfaceLayout/components/BackButton';\r\nimport lendToAaveMigrator from './abi/lendToAaveMigrator';\r\nimport ERC20 from './abi/erc20';\r\nimport BigNumber from 'bignumber.js';\r\nimport { mapState } from 'vuex';\r\nimport { Toast } from '@/helpers';\r\n\r\nconst LEND_MIGRATOR_PROXY_ADDRESS =\r\n  '0x317625234562B1526Ea2FaC4030Ea499C5291de4';\r\nconst LEND_ADDRESS = '0x80fB784B7eD66730e8b1DBd9820aFD29931aab03';\r\nconst LEND_SYMBOL = 'LEND';\r\n\r\nexport default {\r\n  components: {\r\n    'back-button': BackButton\r\n  },\r\n  props: {\r\n    tokensWithBalance: {\r\n      type: Array,\r\n      default: function () {\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      amount: 0,\r\n      hasEnoughRatio: false,\r\n      lendMigratorContract: '',\r\n      loading: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('main', ['web3', 'account']),\r\n    lendBalance() {\r\n      const lendToken = this.tokensWithBalance.find(item => {\r\n        return item.symbol === LEND_SYMBOL;\r\n      });\r\n      return lendToken ? new BigNumber(lendToken.balance).toFixed() : 0;\r\n    },\r\n    disabled() {\r\n      if (\r\n        this.amount > 0 &&\r\n        this.amount <= this.lendBalance &&\r\n        this.hasEnoughRatio\r\n      ) {\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getRatio();\r\n  },\r\n  methods: {\r\n    async checkAllowance() {\r\n      const lendContract = new this.web3.eth.Contract(ERC20, LEND_ADDRESS);\r\n      const allowance = await lendContract.methods\r\n        .allowance(this.account.address, LEND_MIGRATOR_PROXY_ADDRESS)\r\n        .call();\r\n      this.loading = true;\r\n      if (\r\n        allowance !== '0' &&\r\n        new BigNumber(allowance).lt(new BigNumber(this.amount))\r\n      ) {\r\n        const lendApproveData = await lendContract.methods\r\n          .approve(LEND_MIGRATOR_PROXY_ADDRESS, 0)\r\n          .encodeABI();\r\n        this.web3.eth\r\n          .sendTransaction({\r\n            from: this.account.address,\r\n            to: LEND_ADDRESS,\r\n            value: 0,\r\n            gas: 100000,\r\n            data: lendApproveData\r\n          })\r\n          .then(() => {\r\n            this.migrate(lendContract);\r\n          })\r\n          .catch(error => {\r\n            this.loading = false;\r\n            Toast.responseHandler(error, Toast.ERROR);\r\n          });\r\n      } else {\r\n        this.migrate(lendContract);\r\n      }\r\n    },\r\n    async migrate(lendContract) {\r\n      const estimatedAmount = new BigNumber(this.amount)\r\n        .times(new BigNumber(10).pow(18))\r\n        .toFixed();\r\n      const amountAsHex = this.web3.utils.numberToHex(estimatedAmount);\r\n      const lendApproveData = await lendContract.methods\r\n        .approve(LEND_MIGRATOR_PROXY_ADDRESS, amountAsHex)\r\n        .encodeABI();\r\n      const lendMigrateData = await this.lendMigratorContract.methods\r\n        .migrateFromLEND(amountAsHex)\r\n        .encodeABI();\r\n      this.loading = true;\r\n      this.web3.mew\r\n        .sendBatchTransactions([\r\n          {\r\n            from: this.account.address,\r\n            to: LEND_ADDRESS,\r\n            value: 0,\r\n            gas: 100000,\r\n            data: lendApproveData\r\n          },\r\n          {\r\n            from: this.account.address,\r\n            to: LEND_MIGRATOR_PROXY_ADDRESS,\r\n            gas: 200000,\r\n            value: 0,\r\n            data: lendMigrateData\r\n          }\r\n        ])\r\n        .then(() => {\r\n          this.amount = 0;\r\n          this.loading = false;\r\n        })\r\n        .catch(error => {\r\n          this.loading = false;\r\n          Toast.responseHandler(error, Toast.ERROR);\r\n        });\r\n    },\r\n    async getRatio() {\r\n      this.lendMigratorContract = new this.web3.eth.Contract(\r\n        lendToAaveMigrator,\r\n        LEND_MIGRATOR_PROXY_ADDRESS\r\n      );\r\n      const lendAaveRatio = await this.lendMigratorContract.methods\r\n        .LEND_AAVE_RATIO()\r\n        .call();\r\n      this.hasEnoughRatio =\r\n        lendAaveRatio > 1\r\n          ? true\r\n          : Toast.responseHandler(\r\n              this.$t('dappAave.invalid-ratio'),\r\n              Toast.ERROR\r\n            );\r\n    },\r\n    setEntireBalance() {\r\n      this.amount = this.lendBalance;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'LendMigrator.scss';\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendMigrator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendMigrator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LendMigrator.vue?vue&type=template&id=c8dde288&scoped=true&\"\nimport script from \"./LendMigrator.vue?vue&type=script&lang=js&\"\nexport * from \"./LendMigrator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LendMigrator.vue?vue&type=style&index=0&id=c8dde288&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8dde288\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendMigrator.vue?vue&type=style&index=0&id=c8dde288&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendMigrator.vue?vue&type=style&index=0&id=c8dde288&lang=scss&scoped=true&\""],"sourceRoot":""}
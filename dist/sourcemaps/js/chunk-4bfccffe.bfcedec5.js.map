{"version":3,"sources":["webpack:///./src/dapps/MakerDai/helpers.js","webpack:///./src/components/ExpandingOption/ExpandingOption.vue?c9ac","webpack:///src/components/ExpandingOption/ExpandingOption.vue","webpack:///./src/components/ExpandingOption/ExpandingOption.vue?2c9a","webpack:///./src/components/ExpandingOption/ExpandingOption.vue","webpack:///./src/dapps/MakerDai/MakerDai.vue?cf50","webpack:///./src/dapps/MakerDai/components/WithdrawModal/WithdrawModal.vue?ee2c","webpack:///./src/dapps/MakerDai/components/GenerateModal/GenerateModal.vue?e920","webpack:///./src/dapps/MakerDai/components/PaybackModal/PaybackModal.vue?fb7e","webpack:///./src/dapps/MakerDai/MakerDai.vue?ad9e","webpack:///./src/dapps/MakerDai/components/MoveCdpModal/MoveCdp.vue?2834","webpack:///./src/dapps/MakerDai/components/CheckBox/CheckBox.vue?4153","webpack:///src/dapps/MakerDai/components/CheckBox/CheckBox.vue","webpack:///./src/dapps/MakerDai/components/CheckBox/CheckBox.vue?b7ab","webpack:///./src/dapps/MakerDai/components/CheckBox/CheckBox.vue","webpack:///src/dapps/MakerDai/components/MoveCdpModal/MoveCdp.vue","webpack:///./src/dapps/MakerDai/components/MoveCdpModal/MoveCdp.vue?665c","webpack:///./src/dapps/MakerDai/components/MoveCdpModal/MoveCdp.vue","webpack:///./src/dapps/MakerDai/components/GenerateModal/GenerateModal.vue?749f","webpack:///src/dapps/MakerDai/components/GenerateModal/GenerateModal.vue","webpack:///./src/dapps/MakerDai/components/GenerateModal/GenerateModal.vue?6555","webpack:///./src/dapps/MakerDai/components/GenerateModal/GenerateModal.vue","webpack:///./src/dapps/MakerDai/components/DepositModal/DepositModal.vue?a9c1","webpack:///src/dapps/MakerDai/components/DepositModal/DepositModal.vue","webpack:///./src/dapps/MakerDai/components/DepositModal/DepositModal.vue?5295","webpack:///./src/dapps/MakerDai/components/DepositModal/DepositModal.vue","webpack:///./src/dapps/MakerDai/components/WithdrawModal/WithdrawModal.vue?9006","webpack:///src/dapps/MakerDai/components/WithdrawModal/WithdrawModal.vue","webpack:///./src/dapps/MakerDai/components/WithdrawModal/WithdrawModal.vue?2b78","webpack:///./src/dapps/MakerDai/components/WithdrawModal/WithdrawModal.vue","webpack:///./src/dapps/MakerDai/components/PaybackModal/PaybackModal.vue?5fbb","webpack:///src/dapps/MakerDai/components/PaybackModal/PaybackModal.vue","webpack:///./src/dapps/MakerDai/components/PaybackModal/PaybackModal.vue?6cad","webpack:///./src/dapps/MakerDai/components/PaybackModal/PaybackModal.vue","webpack:///src/dapps/MakerDai/MakerDai.vue","webpack:///./src/dapps/MakerDai/MakerDai.vue?8571","webpack:///./src/dapps/MakerDai/MakerDai.vue","webpack:///./src/dapps/MakerDai/components/CheckBox/CheckBox.vue?af85","webpack:///./src/dapps/MakerDai/components/MoveCdpModal/MoveCdp.vue?227a","webpack:///./src/dapps/MakerDai/components/DepositModal/DepositModal.vue?3b16","webpack:///./src/layouts/InterfaceLayout/components/InterfaceContainerFooter/InterfaceContainerFooter.vue?90b3","webpack:///src/layouts/InterfaceLayout/components/InterfaceContainerFooter/InterfaceContainerFooter.vue","webpack:///./src/layouts/InterfaceLayout/components/InterfaceContainerFooter/InterfaceContainerFooter.vue?7b6a","webpack:///./src/layouts/InterfaceLayout/components/InterfaceContainerFooter/InterfaceContainerFooter.vue","webpack:///./src/components/ExpandingOption/ExpandingOption.vue?ecd0","webpack:///./src/layouts/InterfaceLayout/components/InterfaceContainerFooter/InterfaceContainerFooter.vue?4555"],"names":["displayPercentValue","raw","BigNumber","isBigNumber","times","toString","displayFixedValue","decimals","round","isFinite","isNaN","toFixed","ROUND_DOWN","displayFixedPercent","value","gt","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","hidebottomborder","_v","_s","title","attrs","popover","_e","buttonText","showEnable","expanded","$t","on","optionExpanded","_t","staticRenderFns","props","type","String","default","Boolean","data","methods","$emit","component","ref","activeValues","calcCollatRatioDaiChg","calcCollatRatioEthChg","calcLiquidationPriceEthChg","calcLiquidationPriceDaiChg","getValueOrFunction","activeCdpId","tokensWithBalance","lockEth","drawDai","approveDai","approveMkr","freeEth","wipeDai","destAddressHasProxy","destAddressProxy","moveCdp","checkIfDestAddressHasProxy","backPath","showMove","makerActive","listCdps","showManageable","_l","idx","key","$event","openManage","staticStyle","currentlyLoading","buildEmpty","ethPrice","liquidationPenalty","stabilityFee","liquidationRatio","priceService","cdpService","proxyService","cdps","cdpsWithoutProxy","cdpDetailsLoaded","migrationInProgress","openCloseModal","openMoveModal","valuesUpdated","getCollateralOptions","getCdp","hasCdp","setupCdpManageFunc","addCdp","removeCdp","modalHidden","doUpdate","showWithdraw","showPayback","showGenerate","showDeposit","migrateCdpExternal","proceedtoCreateOrManage","approveCurrency","setActiveCdpId","setAfterLoadPage","checkBoxClicked","scopedSlots","_u","fn","proxy","directives","name","rawName","expression","domProps","target","composing","address","buttonStyle","noMinWidth","closeModal","fullWidth","btnActive","checkboxChecked","components","CheckBox","HelpCenterButton","StandardButton","Array","action","values","Object","maxEthDraw","maxUsdDraw","ethCollateral","usdCollateral","debtValue","maxDai","collateralRatio","cdpId","Number","Function","amountEth","amountDai","govFee","modalDetailInformation","checkBoxChecked","textValues","mkrToken","computed","watch","newVal","mounted","$refs","modal","$on","getActiveCdp","currentCdp","currentCdpType","cdpCollateralType","$forceUpdate","closeCdp","activeCdp","hide","newTotal","allOk","amount","canGenerateDaiAmount","newCollateralRatio","currency","newLiquidationPrice","fiatCurrency","newCollateralRatioSafe","notZero","canProceed","submitBtn","ExpandingOption","riskyBypass","digitalCurrency","amountPresent","canCompute","showWarning","hasEnoughEth","checked","currentDai","delayCloseModal","setTimeout","collateralAmount","collateralizationRatio","newCollateralRatioInvalid","liquidationPrice","symbol","isVisible","selectedCurrency","hasEnough","canWithdrawEthAmount","ratioOk","getProxyAllowances","allowances","maxWithdraw","canWithdrawEthNotice","calcCollateralRatio","hasEnoughDai","needsDaiApprove","needsMkrApprove","max","daiToken","suppliedFrom","suppliedTo","suppliedToAmount","destAddress","paybackFee","hasEnoughMkr","mkrBalance","balance","governanceFeeOwed","gte","lte","daiBalance","getBalanceOf","hasEnoughAllowance","getBalances","find","item","getMkr","$eventHub","MANAGE","CREATE","HOME","CDP_MANAGER","CDP_TYPE","AUCTION","SYSTEM_DATA","QUERY_API","SAVINGS","GenerateModal","DepositModal","WithdrawModal","PaybackModal","BackButton","InterfaceContainerFooter","MoveCdp","getBalance","highestGas","makerCreated","afterUpdate","allCdpIds","minEth","proxyAllowances","availableCdps","showLoading","currentProxy","currentCdpId","creatingCdp","daiPrice","daiQty","ethQty","makerCdp","makerManager","proxyAddress","priceFloor","sysVars","sysServices","targetPrice","retryCount","currentPath","afterLoadShow","currentProxyAddress","hasProxy","length","onCreate","$route","maxDaiDraw","minEthDeposit","showMoveOrClose","showManage","showRefresh","showCreateProxy","showCdpMigrateButtons","beforeDestroy","clearComponent","destroyed","maker","activeCdps","tokens","mcdCurrencies","_cdpService","_mcdManager","_mcdSaving","_proxyService","_priceService","_tokenService","_typeService","val","base","prop","getType","cdpTypes","keys","includes","vals","id","console","error","e","reset","page","deposit","show","withdraw","payback","generate","showClose","toUSD","undefined","eth","gotoHome","$router","push","gotoLoading","gotoCreate","path","goToSave","systemValues","migrateDai","goToManage","params","openMigrate"],"mappings":"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","file":"js/chunk-4bfccffe.bfcedec5.js","sourcesContent":["import BigNumber from 'bignumber.js';\r\n\r\nconst toBigNumber = num => {\r\n  return new BigNumber(num);\r\n};\r\n\r\nconst bnOver = (one, two, three) => {\r\n  return toBigNumber(one).times(toBigNumber(two)).div(toBigNumber(three));\r\n};\r\n\r\nexport function displayPercentValue(raw) {\r\n  if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\r\n  return raw.times(100).toString();\r\n}\r\n\r\nexport function displayFixedValue(raw, decimals = 3, round = true) {\r\n  if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\r\n  if (!isFinite(raw) || isNaN(raw)) return '--';\r\n  if (round) return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\r\n  return raw.toFixed(decimals).toString();\r\n}\r\n\r\nexport function displayFixedPercent(raw, decimals = 3, round = true) {\r\n  const value = displayFixedValue(displayPercentValue(raw), decimals, round);\r\n  if (isFinite(value) && new BigNumber(value).gt(0)) {\r\n    return value;\r\n  }\r\n  return '--';\r\n}\r\n\r\n// Calculations\r\n\r\nexport function maxDai(ethPrice, ethCollateral, liquidationRatio, debtValue) {\r\n  return bnOver(\r\n    toBigNumber(ethPrice),\r\n    toBigNumber(ethCollateral),\r\n    toBigNumber(liquidationRatio)\r\n  ).minus(toBigNumber(debtValue));\r\n}\r\n\r\nexport function maxPethDraw(\r\n  pethCollateral,\r\n  liquidationRatio,\r\n  debtValue,\r\n  pethPrice,\r\n  pethMin = 0\r\n) {\r\n  return toBigNumber(pethCollateral)\r\n    .minus(\r\n      bnOver(\r\n        toBigNumber(liquidationRatio).plus(0.001),\r\n        toBigNumber(debtValue),\r\n        toBigNumber(pethPrice)\r\n      )\r\n    )\r\n    .minus(toBigNumber(pethMin).times(1.0));\r\n}\r\n\r\nexport function maxEthDraw(\r\n  ethCollateral,\r\n  liquidationRatio,\r\n  debtValue,\r\n  ethPrice,\r\n  minEth = 0\r\n) {\r\n  return toBigNumber(ethCollateral)\r\n    .minus(\r\n      bnOver(\r\n        toBigNumber(liquidationRatio),\r\n        toBigNumber(debtValue),\r\n        toBigNumber(ethPrice)\r\n      )\r\n    )\r\n    .minus(toBigNumber(minEth).times(1.0));\r\n}\r\n\r\nexport function calcCollatRatio(ethQty, daiQty, ethPrice) {\r\n  return bnOver(toBigNumber(ethPrice), ethQty, daiQty);\r\n}\r\n\r\nexport function calcLiquidationPrice(\r\n  ethQty,\r\n  daiQty,\r\n  ethPrice,\r\n  liquidationRatio\r\n) {\r\n  const getInt = parseInt(ethPrice);\r\n  for (let i = getInt; i > 0; i--) {\r\n    const atValue = bnOver(i, ethQty, daiQty).lte(\r\n      toBigNumber(liquidationRatio)\r\n    );\r\n    if (atValue) {\r\n      return i;\r\n    }\r\n  }\r\n  for (let i = 100; i > 0; i--) {\r\n    const atValue = bnOver(i / 100, ethQty, daiQty).lte(\r\n      toBigNumber(liquidationRatio)\r\n    );\r\n    if (atValue) {\r\n      return i / 100;\r\n    }\r\n  }\r\n  return 0;\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"expanding-option\",class:_vm.hidebottomborder ? 'hide-bottom-border' : ''},[_c('div',{staticClass:\"title-bar-container\"},[_c('div',{staticClass:\"input-title\"},[_vm._v(_vm._s(_vm.title))]),(_vm.popover)?_c('popover',{attrs:{\"popcontent\":_vm.popover}}):_vm._e(),(_vm.buttonText !== '' && !_vm.showEnable)?_c('div',{staticClass:\"button-text\"},[_vm._v(\" \"+_vm._s(_vm.buttonText)+\" \")]):_vm._e(),(_vm.showEnable && !_vm.expanded)?_c('div',{staticClass:\"button-text\"},[_vm._v(\" \"+_vm._s(_vm.buttonText)+\" \")]):_vm._e(),(_vm.showEnable && _vm.expanded)?_c('div',{staticClass:\"button-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('common.yes'))+\" \")]):_vm._e(),_c('div',{staticClass:\"switch sliding-switch-white\"},[_c('label',{staticClass:\"switch\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":_vm.optionExpanded}}),_c('span',{staticClass:\"slider round\"})])])],1),_c('div',{staticClass:\"contnet-container\",class:_vm.expanded ? 'expanded' : ''},[_c('div',{staticClass:\"content-block\"},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    :class=\"hidebottomborder ? 'hide-bottom-border' : ''\"\r\n    class=\"expanding-option\"\r\n  >\r\n    <div class=\"title-bar-container\">\r\n      <div class=\"input-title\">{{ title }}</div>\r\n      <popover v-if=\"popover\" :popcontent=\"popover\" />\r\n      <div v-if=\"buttonText !== '' && !showEnable\" class=\"button-text\">\r\n        {{ buttonText }}\r\n      </div>\r\n      <div v-if=\"showEnable && !expanded\" class=\"button-text\">\r\n        {{ buttonText }}\r\n      </div>\r\n      <div v-if=\"showEnable && expanded\" class=\"button-text\">\r\n        {{ $t('common.yes') }}\r\n      </div>\r\n      <!-- Rounded switch -->\r\n      <div class=\"switch sliding-switch-white\">\r\n        <label class=\"switch\">\r\n          <input type=\"checkbox\" @click=\"optionExpanded\" />\r\n          <span class=\"slider round\" />\r\n        </label>\r\n      </div>\r\n    </div>\r\n\r\n    <div :class=\"expanded ? 'expanded' : ''\" class=\"contnet-container\">\r\n      <div class=\"content-block\"><slot></slot></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    buttonText: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    hidebottomborder: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    popover: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    showEnable: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      expanded: false\r\n    };\r\n  },\r\n  methods: {\r\n    optionExpanded() {\r\n      this.expanded = !this.expanded;\r\n      this.$emit('expanded', this.expanded);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'ExpandingOption.scss';\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpandingOption.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpandingOption.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExpandingOption.vue?vue&type=template&id=8e734f0a&scoped=true&\"\nimport script from \"./ExpandingOption.vue?vue&type=script&lang=js&\"\nexport * from \"./ExpandingOption.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExpandingOption.vue?vue&type=style&index=0&id=8e734f0a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8e734f0a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=style&index=0&id=fb36bf04&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=style&index=0&id=fb36bf04&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=style&index=0&id=19ead467&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=style&index=0&id=19ead467&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=style&index=0&id=03d64321&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=style&index=0&id=03d64321&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=style&index=0&id=bfeb8554&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=style&index=0&id=bfeb8554&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-maker\"},[_c('deposit-modal',{ref:\"deposit\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"get-value-or-function\":_vm.getValueOrFunction,\"active-cdp-id\":_vm.activeCdpId,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"lockEth\":_vm.lockEth}}),_c('generate-modal',{ref:\"generate\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"get-value-or-function\":_vm.getValueOrFunction,\"active-cdp-id\":_vm.activeCdpId,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"drawDai\":_vm.drawDai}}),_c('withdraw-modal',{ref:\"withdraw\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"get-value-or-function\":_vm.getValueOrFunction,\"active-cdp-id\":_vm.activeCdpId,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"approveDai\":_vm.approveDai,\"approveMkr\":_vm.approveMkr,\"freeEth\":_vm.freeEth}}),_c('payback-modal',{ref:\"payback\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"get-value-or-function\":_vm.getValueOrFunction,\"active-cdp-id\":_vm.activeCdpId,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"approveDai\":_vm.approveDai,\"approveMkr\":_vm.approveMkr,\"wipeDai\":_vm.wipeDai}}),_c('move-cdp-modal',{ref:\"moveCdp\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"get-value-or-function\":_vm.getValueOrFunction,\"active-cdp-id\":_vm.activeCdpId,\"dest-address-has-proxy\":_vm.destAddressHasProxy,\"dest-address-proxy\":_vm.destAddressProxy,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"moveCdp\":_vm.moveCdp,\"checkForProxy\":_vm.checkIfDestAddressHasProxy}}),_c('back-button',{attrs:{\"path\":_vm.backPath()}},[_c('div',{staticClass:\"back-bar-container\"},[(_vm.showMoveOrClose)?_c('div',{staticClass:\"header-buttons-container\"},[_c('div',{staticClass:\"inner-container\"},[_c('button',{staticClass:\"move-btn\",on:{\"click\":_vm.showMove}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.move-vault')))])])])]):_vm._e()])]),(_vm.makerActive && _vm.listCdps && _vm.showManageable)?_c('div',{staticClass:\"px-5 pt-3 pb-5\"},[_c('h3',{staticClass:\"mb-3\"},[_vm._v(\"Select your vault to see details.\")]),_c('div',{staticClass:\"buttons-container\"},_vm._l((_vm.cdps),function(value,idx){return _c('div',{key:idx + value},[_c('b-button',{staticClass:\"mr-2 mb-1\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return _vm.openManage(value)}}},[_c('b',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.vault-id')))]),_c('b-badge',{staticClass:\"ml-2\",staticStyle:{\"font-size\":\"15px\"},attrs:{\"variant\":\"light\"}},[_vm._v(\"# \"+_vm._s(value))])],1)],1)}),0)]):_vm._e(),_c('div',{staticClass:\"px-5 py-3\"},[_c('router-view',{attrs:{\"active-cdp-id\":_vm.activeCdpId,\"loading-state\":_vm.currentlyLoading,\"build-empty\":_vm.buildEmpty,\"maker-active\":_vm.makerActive,\"eth-price\":_vm.ethPrice,\"liquidation-penalty\":_vm.liquidationPenalty,\"stability-fee\":_vm.stabilityFee,\"liquidation-ratio\":_vm.liquidationRatio,\"price-service\":_vm.priceService,\"cdp-service\":_vm.cdpService,\"proxy-service\":_vm.proxyService,\"cdps\":_vm.cdps,\"cdps-without-proxy\":_vm.cdpsWithoutProxy,\"cdp-details-loaded\":_vm.cdpDetailsLoaded,\"tokens-with-balance\":_vm.tokensWithBalance,\"migration-in-progress\":_vm.migrationInProgress,\"open-close-modal\":_vm.openCloseModal,\"open-move-modal\":_vm.openMoveModal,\"values-updated\":_vm.valuesUpdated,\"values\":_vm.activeValues,\"get-collateral-options\":_vm.getCollateralOptions,\"get-value-or-function\":_vm.getValueOrFunction,\"get-cdp\":_vm.getCdp,\"has-cdp\":_vm.hasCdp},on:{\"activeCdpId\":_vm.setupCdpManageFunc,\"cdpOpened\":_vm.addCdp,\"cdpClosed\":_vm.removeCdp,\"modalHidden\":_vm.modalHidden,\"managerUpdate\":_vm.doUpdate,\"showWithdraw\":_vm.showWithdraw,\"showPayback\":_vm.showPayback,\"showGenerate\":_vm.showGenerate,\"showDeposit\":_vm.showDeposit,\"migrateCdp\":_vm.migrateCdpExternal,\"proceedtoCreateOrManage\":_vm.proceedtoCreateOrManage,\"approveCurrency\":_vm.approveCurrency,\"setActiveCdpId\":_vm.setActiveCdpId,\"setAfterLoadPage\":_vm.setAfterLoadPage}})],1),_c('interface-footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMCDMaker.move-title'),\"hide-footer\":\"\",\"centered\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"modal-content\"},[_c('p',{staticClass:\"top-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.move-notice'))+\" \")]),_c('check-box',{on:{\"changeStatus\":_vm.checkBoxClicked},scopedSlots:_vm._u([{key:\"terms\",fn:function(){return [_c('p',{staticClass:\"checkbox-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.understand-and-agree'))+\" \")])]},proxy:true}])}),_c('div',{staticClass:\"input-container\"},[_c('label',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.move-question')))]),_c('div',{staticClass:\"input-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.address),expression:\"address\"}],domProps:{\"value\":(_vm.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.address=$event.target.value}}})])]),_c('div',[(_vm.destAddressHasProxy)?_c('div',[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.proxy-address', { value: _vm.destAddressProxy }))+\" \")]),_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.move-with-proxy'))+\" \")]):_vm._e(),(!_vm.destAddressHasProxy)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.move-without-proxy'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.cancel'),\n            buttonStyle: 'green-border',\n            noMinWidth: true\n          },\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.submit'),\n            buttonStyle: 'green',\n            noMinWidth: true,\n            fullWidth: true\n          },\"button-disabled\":_vm.btnActive ? false : true,\"click-function\":_vm.moveCdp}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"check-box\"},[_c('label',{staticClass:\"check-box-container\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":_vm.checkBoxClicked}}),_c('span',{staticClass:\"checkmark\"}),_vm._t(\"terms\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"check-box\">\r\n    <label class=\"check-box-container\">\r\n      <input type=\"checkbox\" @click=\"checkBoxClicked\" /><span\r\n        class=\"checkmark\"\r\n      ></span>\r\n      <slot name=\"terms\"></slot>\r\n    </label>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      checkboxChecked: false\r\n    };\r\n  },\r\n  methods: {\r\n    checkBoxClicked() {\r\n      this.checkboxChecked = !this.checkboxChecked;\r\n      this.$emit('changeStatus', this.checkboxChecked);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'CheckBox.scss';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckBox.vue?vue&type=template&id=4277781f&scoped=true&\"\nimport script from \"./CheckBox.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckBox.vue?vue&type=style&index=0&id=4277781f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4277781f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"modal-container\">\r\n    <b-modal\r\n      ref=\"modal\"\r\n      :title=\"$t('dappsMCDMaker.move-title')\"\r\n      hide-footer\r\n      centered\r\n      class=\"bootstrap-modal nopadding\"\r\n      static\r\n      lazy\r\n    >\r\n      <div class=\"modal-content\">\r\n        <p class=\"top-text\">\r\n          {{ $t('dappsMCDMaker.move-notice') }}\r\n        </p>\r\n        <check-box @changeStatus=\"checkBoxClicked\">\r\n          <template v-slot:terms\r\n            ><p class=\"checkbox-label\">\r\n              {{ $t('dappsMCDMaker.understand-and-agree') }}\r\n            </p></template\r\n          >\r\n        </check-box>\r\n\r\n        <div class=\"input-container\">\r\n          <label>{{ $t('dappsMCDMaker.move-question') }}</label>\r\n          <div class=\"input-box\">\r\n            <input v-model=\"address\" />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div v-if=\"destAddressHasProxy\">\r\n            <p>\r\n              {{\r\n                $t('dappsMCDMaker.proxy-address', { value: destAddressProxy })\r\n              }}\r\n            </p>\r\n            {{ $t('dappsMCDMaker.move-with-proxy') }}\r\n          </div>\r\n          <div v-if=\"!destAddressHasProxy\">\r\n            {{ $t('dappsMCDMaker.move-without-proxy') }}\r\n          </div>\r\n        </div>\r\n        <div class=\"buttons\">\r\n          <standard-button\r\n            :options=\"{\r\n              title: $t('common.cancel'),\r\n              buttonStyle: 'green-border',\r\n              noMinWidth: true\r\n            }\"\r\n            :click-function=\"closeModal\"\r\n          />\r\n          <standard-button\r\n            :options=\"{\r\n              title: $t('common.submit'),\r\n              buttonStyle: 'green',\r\n              noMinWidth: true,\r\n              fullWidth: true\r\n            }\"\r\n            :button-disabled=\"btnActive ? false : true\"\r\n            :click-function=\"moveCdp\"\r\n          />\r\n        </div>\r\n        <help-center-button />\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport StandardButton from '@/components/Buttons/StandardButton';\r\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\r\nimport CheckBox from '../CheckBox';\r\n\r\nimport BigNumber from 'bignumber.js/bignumber.js';\r\n\r\nimport { Misc } from '@/helpers';\r\nexport default {\r\n  components: {\r\n    'check-box': CheckBox,\r\n    'help-center-button': HelpCenterButton,\r\n    'standard-button': StandardButton\r\n  },\r\n  props: {\r\n    tokensWithBalance: {\r\n      type: Array,\r\n      default: function () {\r\n        return [];\r\n      }\r\n    },\r\n    action: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    values: {\r\n      type: Object,\r\n      default: function () {\r\n        return {\r\n          maxEthDraw: '',\r\n          maxUsdDraw: '',\r\n          ethCollateral: '',\r\n          usdCollateral: '',\r\n          debtValue: '',\r\n          maxDai: '',\r\n          collateralRatio: '',\r\n          cdpId: ''\r\n        };\r\n      }\r\n    },\r\n    destAddressHasProxy: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    destAddressProxy: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    activeCdpId: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    makerActive: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    getValueOrFunction: {\r\n      type: Function,\r\n      default: function () {}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      address: '',\r\n      amountEth: 0,\r\n      amountDai: 0,\r\n      govFee: 0,\r\n      modalDetailInformation: false,\r\n      checkBoxChecked: false,\r\n      textValues: {},\r\n      mkrToken: {}\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\r\n    btnActive() {\r\n      return Misc.isValidETHAddress(this.address) && this.checkBoxChecked;\r\n    }\r\n  },\r\n  watch: {\r\n    address(newVal) {\r\n      if (Misc.isValidETHAddress(newVal)) {\r\n        this.$emit('checkForProxy', newVal);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$refs.modal.$on('shown', () => {\r\n      this.cdpId = this.$route.params.cdpId;\r\n      this.isVisible = true;\r\n      this.address = '';\r\n      this.getActiveCdp();\r\n    });\r\n\r\n    this.$refs.modal.$on('hidden', () => {\r\n      this.isVisible = false;\r\n    });\r\n\r\n    if (this.makerActive) {\r\n      this.getActiveCdp();\r\n    }\r\n  },\r\n  methods: {\r\n    getActiveCdp() {\r\n      if (this.cdpId > 0) {\r\n        this.currentCdp = this.getValueOrFunction('getCdp')(this.cdpId);\r\n        this.currentCdpType = this.currentCdp.cdpCollateralType;\r\n        this.$forceUpdate();\r\n      }\r\n    },\r\n    closeCdp() {\r\n      this.activeCdp.closeCdp();\r\n    },\r\n    checkBoxClicked() {\r\n      this.checkBoxChecked = !this.checkBoxChecked;\r\n    },\r\n    displayPercentValue(raw) {\r\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\r\n      return raw.times(100).toString();\r\n    },\r\n    displayFixedValue(raw, decimals = 3) {\r\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\r\n      return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\r\n    },\r\n    async moveCdp() {\r\n      if (this.currentCdp) {\r\n        if (Misc.isValidETHAddress(this.address)) {\r\n          this.currentCdp.moveCdp(this.address);\r\n          this.closeModal();\r\n        }\r\n      }\r\n    },\r\n    closeModal() {\r\n      this.$refs.modal.hide();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'MoveCdp';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MoveCdp.vue?vue&type=template&id=85fe6b96&scoped=true&\"\nimport script from \"./MoveCdp.vue?vue&type=script&lang=js&\"\nexport * from \"./MoveCdp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MoveCdp.vue?vue&type=style&index=0&id=85fe6b96&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"85fe6b96\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMCDMaker.generate-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"contents\"},[_c('div',{staticClass:\"inputs\"},[_c('div',{staticClass:\"interface__block-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.generate-question'))+\" \")]),_c('div',{staticClass:\"top-buttons\"},[_c('p',{staticClass:\"total\"},[_c('span',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.total')))]),_vm._v(\" \"+_vm._s(_vm.displayFixedValue(_vm.newTotal, 10))+\" \"),_vm._v(\" DAI \")]),_c('p',{staticClass:\"max\",on:{\"click\":_vm.maxDai}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.max-available'))+\" \")])]),_c('div',{class:['input-box', _vm.allOk ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('p',{staticClass:\"input-unit\"},[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.dai')))])]),_c('div',{staticClass:\"sub-text\"},[(!_vm.canGenerateDaiAmount)?_c('p',{staticClass:\"above-max\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.above-max-dai'))+\" \")]):_vm._e(),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.collateral-ratio-val', { value: _vm.displayFixedPercent(_vm.newCollateralRatio()) }))+\" \")])])]),_c('expanding-option',{attrs:{\"title\":\"Details\"}},[_c('div',{staticClass:\"detail-container\"},[_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.max-generate-available')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.maxDai ? _vm.displayFixedValue(_vm.values.maxDai) : 0))]),_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.dai'))+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.projectedLiquidation', { currency: _vm.currentCdpType }))+\" \")]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice(), 2)))]),_vm._v(\" \"+_vm._s(_vm.fiatCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedPercent(_vm.newCollateralRatio()))+\"%\")])])])])]),(!_vm.newCollateralRatioSafe() && _vm.notZero(_vm.amount))?_c('div',{staticClass:\"warning-confirmation\"},[_c('div',{staticClass:\"grid-block\"},[_c('div',{staticClass:\"sign\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text-content\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.caution')))]),_c('p',{staticClass:\"warning-details\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.liquidation-risk-multi', { value: _vm.displayFixedPercent(_vm.newCollateralRatio()) }))+\" \")]),_c('check-box',{on:{\"changeStatus\":_vm.checkBoxClicked},scopedSlots:_vm._u([{key:\"terms\",fn:function(){return [_c('p',{staticClass:\"checkbox-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.understand-and-agree'))+\" \")])]},proxy:true}],null,false,2855304892)})],1)])]):_vm._e(),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.cancel'),\n            buttonStyle: 'green-border',\n            noMinWidth: true\n          },\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('dappsMCDMaker.generate'),\n            buttonStyle: 'green',\n            noMinWidth: true\n          },\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"modal-container\">\r\n    <b-modal\r\n      ref=\"modal\"\r\n      :title=\"$t('dappsMCDMaker.generate-title')\"\r\n      centered\r\n      class=\"bootstrap-modal nopadding\"\r\n      hide-footer\r\n      static\r\n      lazy\r\n    >\r\n      <div class=\"contents\">\r\n        <div class=\"inputs\">\r\n          <div class=\"interface__block-title\">\r\n            {{ $t('dappsMCDMaker.generate-question') }}\r\n          </div>\r\n          <div class=\"top-buttons\">\r\n            <p class=\"total\">\r\n              <span>{{ $t('dappsMCDMaker.total') }}</span>\r\n              {{ displayFixedValue(newTotal, 10) }}\r\n              <!--              {{ newTotal }}-->\r\n              DAI\r\n            </p>\r\n            <p class=\"max\" @click=\"maxDai\">\r\n              {{ $t('dappsMCDMaker.max-available') }}\r\n            </p>\r\n          </div>\r\n          <div :class=\"['input-box', allOk ? '' : 'danger']\">\r\n            <input v-model=\"amount\" />\r\n            <p class=\"input-unit\">{{ $t('dappsMCDMaker.dai') }}</p>\r\n          </div>\r\n          <div class=\"sub-text\">\r\n            <p v-if=\"!canGenerateDaiAmount\" class=\"above-max\">\r\n              {{ $t('dappsMCDMaker.above-max-dai') }}\r\n            </p>\r\n            <p>\r\n              {{\r\n                $t('dappsMCDMaker.collateral-ratio-val', {\r\n                  value: displayFixedPercent(newCollateralRatio())\r\n                })\r\n              }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <expanding-option title=\"Details\">\r\n          <div class=\"detail-container\">\r\n            <div class=\"grid-block\">\r\n              <p>{{ $t('dappsMCDMaker.max-generate-available') }}</p>\r\n              <p>\r\n                <b>{{\r\n                  values.maxDai ? displayFixedValue(values.maxDai) : 0\r\n                }}</b>\r\n                {{ $t('dappsMCDMaker.dai') }}\r\n              </p>\r\n            </div>\r\n            <div class=\"grid-block\">\r\n              <p>\r\n                {{\r\n                  $t('dappsMCDMaker.projectedLiquidation', {\r\n                    currency: currentCdpType\r\n                  })\r\n                }}\r\n              </p>\r\n              <p>\r\n                <b>{{ displayFixedValue(newLiquidationPrice(), 2) }}</b>\r\n                {{ fiatCurrency }}\r\n              </p>\r\n            </div>\r\n            <div class=\"grid-block\">\r\n              <p>{{ $t('dappsMCDMaker.projected-collat-ratio') }}</p>\r\n              <p>\r\n                <b>{{ displayFixedPercent(newCollateralRatio()) }}%</b>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </expanding-option>\r\n\r\n        <div\r\n          v-if=\"!newCollateralRatioSafe() && notZero(amount)\"\r\n          class=\"warning-confirmation\"\r\n        >\r\n          <div class=\"grid-block\">\r\n            <div class=\"sign\"></div>\r\n            <div class=\"text-content\">\r\n              <p class=\"title\">{{ $t('dappsMCDMaker.caution') }}</p>\r\n              <p class=\"warning-details\">\r\n                {{\r\n                  $t('dappsMCDMaker.liquidation-risk-multi', {\r\n                    value: displayFixedPercent(newCollateralRatio())\r\n                  })\r\n                }}\r\n              </p>\r\n              <check-box @changeStatus=\"checkBoxClicked\">\r\n                <template v-slot:terms>\r\n                  <p class=\"checkbox-label\">\r\n                    {{ $t('dappsMCDMaker.understand-and-agree') }}\r\n                  </p>\r\n                </template>\r\n              </check-box>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"buttons\">\r\n          <standard-button\r\n            :options=\"{\r\n              title: $t('common.cancel'),\r\n              buttonStyle: 'green-border',\r\n              noMinWidth: true\r\n            }\"\r\n            :click-function=\"closeModal\"\r\n          />\r\n          <standard-button\r\n            :options=\"{\r\n              title: $t('dappsMCDMaker.generate'),\r\n              buttonStyle: 'green',\r\n              noMinWidth: true\r\n            }\"\r\n            :button-disabled=\"canProceed ? false : true\"\r\n            :click-function=\"submitBtn\"\r\n          />\r\n        </div>\r\n        <help-center-button />\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport ethUnit from 'ethjs-unit';\r\nimport ExpandingOption from '@/components/ExpandingOption';\r\nimport StandardButton from '@/components/Buttons/StandardButton';\r\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\r\nimport CheckBox from '../CheckBox';\r\nimport BigNumber from 'bignumber.js/bignumber.js';\r\nimport {\r\n  displayFixedValue,\r\n  displayPercentValue,\r\n  displayFixedPercent\r\n} from '../../helpers';\r\n\r\nconst toBigNumber = num => {\r\n  return new BigNumber(num);\r\n};\r\n\r\nexport default {\r\n  components: {\r\n    'help-center-button': HelpCenterButton,\r\n    'check-box': CheckBox,\r\n    'expanding-option': ExpandingOption,\r\n    'standard-button': StandardButton\r\n  },\r\n  props: {\r\n    tokensWithBalance: {\r\n      type: Array,\r\n      default: function () {\r\n        return [];\r\n      }\r\n    },\r\n    action: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    values: {\r\n      type: Object,\r\n      default: function () {\r\n        return {\r\n          maxEthDraw: '',\r\n          maxUsdDraw: '',\r\n          ethCollateral: '',\r\n          usdCollateral: '',\r\n          debtValue: '',\r\n          maxDai: '',\r\n          collateralRatio: '',\r\n          cdpId: ''\r\n        };\r\n      }\r\n    },\r\n    calcCollatRatioEthChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    calcLiquidationPriceEthChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    calcCollatRatioDaiChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    calcLiquidationPriceDaiChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    activeCdpId: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    makerActive: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    getValueOrFunction: {\r\n      type: Function,\r\n      default: function () {}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      amount: 0,\r\n      amountEth: 0,\r\n      amountDai: 0,\r\n      riskyBypass: false,\r\n      modalDetailInformation: false,\r\n      textValues: {},\r\n      fiatCurrency: 'USD',\r\n      digitalCurrency: 'ETH',\r\n      currentCdpType: 'ETH'\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\r\n    amountPresent() {\r\n      return (\r\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\r\n      );\r\n    },\r\n    canCompute() {\r\n      return this.values && this.amountPresent;\r\n    },\r\n    allOk() {\r\n      if (this.amountPresent) {\r\n        return this.newCollateralRatioSafe && this.canGenerateDaiAmount;\r\n      }\r\n      return true;\r\n    },\r\n    showWarning() {\r\n      return (\r\n        !this.newCollateralRatioInvalid &&\r\n        this.canGenerateDaiAmount &&\r\n        this.riskyBypass\r\n      );\r\n    },\r\n    newTotal() {\r\n      return toBigNumber(this.values.debtValue).plus(this.amount);\r\n    },\r\n    hasEnoughEth() {\r\n      if (this.canCompute) {\r\n        const asEth = ethUnit.fromWei(this.account.balance, 'ether');\r\n        return toBigNumber(this.amount).lte(toBigNumber(asEth));\r\n      }\r\n      return true;\r\n    },\r\n    canGenerateDaiAmount() {\r\n      if (this.canCompute && !toBigNumber(this.amount).isNaN()) {\r\n        return toBigNumber(this.amount).lte(toBigNumber(this.values.maxDai));\r\n      }\r\n      return true;\r\n    },\r\n    canProceed() {\r\n      if (this.canCompute) {\r\n        if (toBigNumber(this.amount).lte(0)) return false;\r\n        return (\r\n          (this.newCollateralRatioSafe && this.canGenerateDaiAmount) ||\r\n          (!this.newCollateralRatioInvalid &&\r\n            this.canGenerateDaiAmount &&\r\n            this.riskyBypass)\r\n        );\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$refs.modal.$on('shown', () => {\r\n      this.cdpId = this.$route.params.cdpId;\r\n      this.isVisible = true;\r\n      this.amount = 0;\r\n      this.getActiveCdp();\r\n    });\r\n\r\n    this.$refs.modal.$on('hidden', () => {\r\n      this.isVisible = false;\r\n    });\r\n\r\n    if (this.makerActive) {\r\n      this.getActiveCdp();\r\n    }\r\n  },\r\n  methods: {\r\n    getActiveCdp() {\r\n      if (this.cdpId > 0) {\r\n        this.currentCdp = this.getValueOrFunction('getCdp')(this.cdpId);\r\n        this.currentCdpType = this.currentCdp.cdpCollateralType;\r\n        this.$forceUpdate();\r\n      }\r\n    },\r\n    submitBtn() {\r\n      if (!this.canProceed) return;\r\n      this.drawDai();\r\n    },\r\n    checkBoxClicked(checked) {\r\n      this.riskyBypass = checked;\r\n    },\r\n    displayPercentValue,\r\n    displayFixedValue,\r\n    displayFixedPercent,\r\n    notZero(val) {\r\n      return toBigNumber(val).gt(0);\r\n    },\r\n    maxDai() {\r\n      this.amount = toBigNumber(this.values.maxDai).minus(\r\n        toBigNumber(this.values.maxDai).times(0.01)\r\n      );\r\n      this.$forceUpdate();\r\n    },\r\n    currentDai() {\r\n      this.amount = this.values.debtValue;\r\n    },\r\n    async drawDai() {\r\n      if (toBigNumber(this.amount).gte(0)) {\r\n        this.delayCloseModal();\r\n        if (this.newCollateralRatioSafe) {\r\n          this.currentCdp.drawDai(this.amount, this.riskyBypass);\r\n        } else {\r\n          this.currentCdp.drawDai(this.amount, this.riskyBypass);\r\n        }\r\n      }\r\n    },\r\n    closeModal() {\r\n      this.$refs.modal.hide();\r\n    },\r\n    delayCloseModal() {\r\n      setTimeout(() => {\r\n        this.closeModal();\r\n      }, 200);\r\n    },\r\n    collateralAmount() {\r\n      if (this.currentCdp) {\r\n        return this.currentCdp.collateralAmount;\r\n      }\r\n    },\r\n    newCollateralRatio() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.currentCdp.calcCollatRatioDaiChg(\r\n          toBigNumber(this.amount),\r\n          true\r\n        );\r\n      } else if (this.currentCdp) {\r\n        return this.currentCdp.collateralizationRatio;\r\n      }\r\n      return 0;\r\n    },\r\n    newCollateralRatioSafe() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.currentCdp\r\n          .calcCollatRatioDaiChg(toBigNumber(this.amount), true)\r\n          .gte(2);\r\n      } else if (this.currentCdp) {\r\n        return toBigNumber(this.currentCdp.collateralizationRatio).gte(2);\r\n      }\r\n      return true;\r\n    },\r\n    newCollateralRatioInvalid() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.currentCdp\r\n          .calcCollatRatioDaiChg(toBigNumber(this.amount), true)\r\n          .lte(1.5);\r\n      } else if (this.currentCdp) {\r\n        return toBigNumber(this.currentCdp.collateralizationRatio).lte(1.5);\r\n      }\r\n      return true;\r\n    },\r\n    newLiquidationPrice() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.currentCdp.calcLiquidationPriceDaiChg(\r\n          toBigNumber(this.amount),\r\n          true\r\n        );\r\n      } else if (this.currentCdp) {\r\n        return this.currentCdp.liquidationPrice;\r\n      }\r\n      return 0;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'GenerateModal';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GenerateModal.vue?vue&type=template&id=03d64321&scoped=true&\"\nimport script from \"./GenerateModal.vue?vue&type=script&lang=js&\"\nexport * from \"./GenerateModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GenerateModal.vue?vue&type=style&index=0&id=03d64321&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03d64321\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMCDMaker.deposit-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"modal-content-container\"},[_c('div',{staticClass:\"inputs-container\"},[_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"interface__block-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.deposit-question-mcd', { currency: _vm.currentCdpType }))+\" \")]),_c('div',{class:['input-box', _vm.hasEnoughEth ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('span',{staticClass:\"input-unit\"},[_vm._v(_vm._s(_vm.currentCdpType))])]),_c('div',{staticClass:\"sub-text\"},[(!_vm.hasEnoughEth)?_c('p',{staticClass:\"above-max\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.not-enough-token', { symbol: _vm.currentCdpType }))+\" \")]):_vm._e()])])]),_c('div',{staticClass:\"detail-info\"},[_c('div',{staticClass:\"info\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.detail-info')))]),_c('div',{staticClass:\"sliding-switch-white\"},[_c('label',{staticClass:\"switch\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":function($event){_vm.modalDetailInformation = !_vm.modalDetailInformation}}}),_c('span',{staticClass:\"slider round\"})])])]),_c('div',{staticClass:\"expended-info\",class:_vm.modalDetailInformation && 'expended-info-open'},[_c('div',{staticClass:\"padding-container\"},[_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.currently-deposited')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.collateralAmount(), 5)))]),_vm._v(\" \"+_vm._s(_vm.currentCdpType)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.projected-liquidation', { currency: _vm.currentCdpType }))+\" \")]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice(), 2)))]),_vm._v(\" \"+_vm._s(_vm.fiatCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(\" \"+_vm._s(_vm.displayFixedValue( _vm.displayPercentValue(_vm.newCollateralRatio()), 3 ))+\"% \")])])])])])]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.cancel'),\n            buttonStyle: 'green-border',\n            noMinWidth: true\n          },\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.submit'),\n            buttonStyle: 'green',\n            noMinWidth: true\n          },\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"modal-container\">\r\n    <b-modal\r\n      ref=\"modal\"\r\n      :title=\"$t('dappsMCDMaker.deposit-title')\"\r\n      centered\r\n      class=\"bootstrap-modal nopadding\"\r\n      hide-footer\r\n      static\r\n      lazy\r\n    >\r\n      <div class=\"modal-content-container\">\r\n        <div class=\"inputs-container\">\r\n          <div class=\"input-container\">\r\n            <div class=\"interface__block-title\">\r\n              {{\r\n                $t('dappsMCDMaker.deposit-question-mcd', {\r\n                  currency: currentCdpType\r\n                })\r\n              }}\r\n            </div>\r\n            <div :class=\"['input-box', hasEnoughEth ? '' : 'danger']\">\r\n              <input v-model=\"amount\" />\r\n              <span class=\"input-unit\">{{ currentCdpType }}</span>\r\n            </div>\r\n            <div class=\"sub-text\">\r\n              <p v-if=\"!hasEnoughEth\" class=\"above-max\">\r\n                {{\r\n                  $t('dappsMCDMaker.not-enough-token', {\r\n                    symbol: currentCdpType\r\n                  })\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"detail-info\">\r\n          <div class=\"info\">\r\n            <h4>{{ $t('dappsMCDMaker.detail-info') }}</h4>\r\n            <div class=\"sliding-switch-white\">\r\n              <label class=\"switch\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  @click=\"modalDetailInformation = !modalDetailInformation\"\r\n                />\r\n                <span class=\"slider round\" />\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div\r\n            :class=\"modalDetailInformation && 'expended-info-open'\"\r\n            class=\"expended-info\"\r\n          >\r\n            <div class=\"padding-container\">\r\n              <div class=\"grid-block\">\r\n                <p>{{ $t('dappsMCDMaker.currently-deposited') }}</p>\r\n                <p>\r\n                  <b>{{ displayFixedValue(collateralAmount(), 5) }}</b>\r\n                  {{ currentCdpType }}\r\n                </p>\r\n              </div>\r\n              <div class=\"grid-block\">\r\n                <p>\r\n                  {{\r\n                    $t('dappsMCDMaker.projected-liquidation', {\r\n                      currency: currentCdpType\r\n                    })\r\n                  }}\r\n                </p>\r\n                <p>\r\n                  <b>{{ displayFixedValue(newLiquidationPrice(), 2) }}</b>\r\n                  {{ fiatCurrency }}\r\n                </p>\r\n              </div>\r\n              <div class=\"grid-block\">\r\n                <p>{{ $t('dappsMCDMaker.projected-collat-ratio') }}</p>\r\n                <p>\r\n                  <b>\r\n                    {{\r\n                      displayFixedValue(\r\n                        displayPercentValue(newCollateralRatio()),\r\n                        3\r\n                      )\r\n                    }}%\r\n                  </b>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"buttons\">\r\n          <standard-button\r\n            :options=\"{\r\n              title: $t('common.cancel'),\r\n              buttonStyle: 'green-border',\r\n              noMinWidth: true\r\n            }\"\r\n            :click-function=\"closeModal\"\r\n          />\r\n          <standard-button\r\n            :options=\"{\r\n              title: $t('common.submit'),\r\n              buttonStyle: 'green',\r\n              noMinWidth: true\r\n            }\"\r\n            :button-disabled=\"canProceed ? false : true\"\r\n            :click-function=\"submitBtn\"\r\n          />\r\n        </div>\r\n\r\n        <help-center-button />\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport StandardButton from '@/components/Buttons/StandardButton';\r\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\r\nimport BigNumber from 'bignumber.js/bignumber.js';\r\n\r\nimport { displayFixedValue, displayPercentValue } from '../../helpers';\r\n\r\nconst toBigNumber = num => {\r\n  return new BigNumber(num);\r\n};\r\n\r\nexport default {\r\n  components: {\r\n    'help-center-button': HelpCenterButton,\r\n    'standard-button': StandardButton\r\n  },\r\n  props: {\r\n    tokensWithBalance: {\r\n      type: Array,\r\n      default: function () {\r\n        return [];\r\n      }\r\n    },\r\n    action: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    values: {\r\n      type: Object,\r\n      default: function () {\r\n        return {\r\n          maxEthDraw: '',\r\n          maxUsdDraw: '',\r\n          ethCollateral: '',\r\n          usdCollateral: '',\r\n          debtValue: '',\r\n          maxDai: '',\r\n          collateralRatio: '',\r\n          cdpId: ''\r\n        };\r\n      }\r\n    },\r\n    calcCollatRatioEthChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    calcLiquidationPriceEthChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    calcCollatRatioDaiChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    calcLiquidationPriceDaiChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    activeCdpId: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    makerActive: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    getValueOrFunction: {\r\n      type: Function,\r\n      default: function () {}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      cdpId: 0,\r\n      isVisible: false,\r\n      amount: 0,\r\n      amountEth: 0,\r\n      amountDai: 0,\r\n      riskyBypass: false,\r\n      modalDetailInformation: false,\r\n      textValues: {},\r\n      fiatCurrency: 'USD',\r\n      digitalCurrency: 'ETH',\r\n      selectedCurrency: { symbol: 'ETH', name: 'Ethereum' },\r\n      currentCdpType: 'ETH'\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\r\n    amountPresent() {\r\n      return (\r\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\r\n      );\r\n    },\r\n    hasEnoughEth() {\r\n      if (this.amount || this.amount !== '') {\r\n        if (this.currentCdp) {\r\n          return this.currentCdp.hasEnough(\r\n            this.amount,\r\n            this.currentCdp.cdpCollateralType,\r\n            this.account.balance\r\n          );\r\n        }\r\n        return true;\r\n      }\r\n      return true;\r\n    },\r\n    canWithdrawEthAmount() {\r\n      if (this.amount || this.amount !== '') {\r\n        return toBigNumber(this.amount).lte(\r\n          toBigNumber(this.values.ethCollateral)\r\n        );\r\n      }\r\n      return false;\r\n    },\r\n    canProceed() {\r\n      if (toBigNumber(this.amount).lte(0)) return false;\r\n      const ratio = toBigNumber(this.newCollateralRatio());\r\n      const ratioOk = ratio.gt(1.5) || ratio.eq(0);\r\n      return this.hasEnoughEth && (ratioOk || this.riskyBypass);\r\n    }\r\n  },\r\n  watch: {},\r\n  mounted() {\r\n    this.$refs.modal.$on('shown', () => {\r\n      this.cdpId = this.$route.params.cdpId;\r\n      this.isVisible = true;\r\n      this.amount = 0;\r\n      this.getActiveCdp();\r\n    });\r\n\r\n    this.$refs.modal.$on('hidden', () => {\r\n      this.isVisible = false;\r\n    });\r\n\r\n    if (this.makerActive) {\r\n      this.getActiveCdp();\r\n    }\r\n  },\r\n  methods: {\r\n    collateralAmount() {\r\n      if (this.currentCdp) {\r\n        return this.currentCdp.collateralAmount;\r\n      }\r\n    },\r\n    newCollateralRatio() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.currentCdp.calcCollatRatioEthChg(\r\n          toBigNumber(this.currentCdp.collateralAmount).plus(this.amount)\r\n        );\r\n      } else if (this.currentCdp) {\r\n        return this.currentCdp.collateralizationRatio;\r\n      }\r\n      return 0;\r\n    },\r\n    newCollateralRatioSafe() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.currentCdp\r\n          .calcCollatRatioEthChg(\r\n            toBigNumber(this.currentCdp.collateralAmount).plus(this.amount)\r\n          )\r\n          .gte(2);\r\n      } else if (this.currentCdp) {\r\n        return toBigNumber(this.currentCdp.collateralizationRatio).gte(2);\r\n      }\r\n      return true;\r\n    },\r\n    newCollateralRatioInvalid() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.currentCdp\r\n          .calcCollatRatioEthChg(\r\n            toBigNumber(this.currentCdp.collateralAmount).plus(this.amount)\r\n          )\r\n          .lte(1.5);\r\n      } else if (this.currentCdp) {\r\n        return toBigNumber(this.currentCdp.collateralizationRatio).lte(1.5);\r\n      }\r\n      return true;\r\n    },\r\n    newLiquidationPrice() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.currentCdp.calcLiquidationPriceEthChg(\r\n          toBigNumber(this.currentCdp.collateralAmount).plus(\r\n            toBigNumber(this.amount)\r\n          )\r\n        );\r\n      } else if (this.currentCdp) {\r\n        return this.currentCdp.liquidationPrice;\r\n      }\r\n      return 0;\r\n    },\r\n    getActiveCdp() {\r\n      if (this.cdpId > 0) {\r\n        this.currentCdp = this.getValueOrFunction('getCdp')(this.cdpId);\r\n        this.currentCdpType = this.currentCdp.cdpCollateralType;\r\n        this.$forceUpdate();\r\n      }\r\n    },\r\n    hasEnough() {\r\n      if (this.currentCdp) {\r\n        return this.currentCdp.hasEnough(\r\n          this.amount,\r\n          this.currentCdpType,\r\n          this.account.balance\r\n        );\r\n      }\r\n      return true;\r\n    },\r\n    getProxyAllowances() {\r\n      const allowances = this.getValueOrFunction('proxyAllowances');\r\n      if (allowances) {\r\n        return allowances;\r\n      }\r\n      return {};\r\n    },\r\n    submitBtn() {\r\n      if (!this.canProceed) return;\r\n      this.lockEth();\r\n    },\r\n    checkBoxClicked() {\r\n      this.riskyBypass = !this.riskyBypass;\r\n    },\r\n    displayPercentValue,\r\n    displayFixedValue,\r\n    notZero(val) {\r\n      return toBigNumber(val).gt(0);\r\n    },\r\n    currentDai() {\r\n      this.amount = this.values.debtValue;\r\n    },\r\n    async lockEth() {\r\n      if (toBigNumber(this.amount).gte(0)) {\r\n        this.delayCloseModal();\r\n        if (this.currentCdp) {\r\n          this.currentCdp.lockEth(this.amount);\r\n        } else {\r\n          this.$emit('lockEth', this.amount);\r\n        }\r\n      }\r\n    },\r\n    closeModal() {\r\n      this.$refs.modal.hide();\r\n    },\r\n    delayCloseModal() {\r\n      setTimeout(() => {\r\n        this.closeModal();\r\n      }, 200);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'DepositModal';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DepositModal.vue?vue&type=template&id=23d1ceb6&scoped=true&\"\nimport script from \"./DepositModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DepositModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DepositModal.vue?vue&type=style&index=0&id=23d1ceb6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23d1ceb6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMCDMaker.withdraw-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"modal-content-container\"},[_c('div',{staticClass:\"inputs-container\"},[_c('div',{staticClass:\"input-container\"},[_c('p',{staticClass:\"message\"},[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.withdraw-notice')))]),_c('label',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.withdraw-question-mcd', { currency: _vm.currentCdpType }))+\" \")]),_c('div',{staticClass:\"top-buttons\"},[_c('p',{staticClass:\"max-withdraw\",on:{\"click\":_vm.maxWithdraw}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.max-available'))+\" \")])]),_c('div',{class:['input-box', _vm.newCollateralRatioSafe() ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('span',{staticClass:\"input-unit\"},[_vm._v(_vm._s(_vm.digitalCurrency))])]),_c('div',{staticClass:\"sub-text\"},[(_vm.canWithdrawEthNotice)?_c('p',{staticClass:\"above-max\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.over-max-withdraw'))+\" \")]):_vm._e()])])]),_c('expanding-option',{attrs:{\"title\":_vm.$t('dappsMCDMaker.detail-information')}},[_c('div',{staticClass:\"padding-container\"},[_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.max-available')))]),_c('p',[_c('b',[_vm._v(\" \"+_vm._s(_vm.values.maxDai ? _vm.displayFixedValue(_vm.values.maxEthDraw, 5) : 0)+\" \")]),_vm._v(\" \"+_vm._s(_vm.digitalCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice(), 2)))]),_vm._v(\" \"+_vm._s(_vm.fiatCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(\" \"+_vm._s(_vm.displayFixedValue( _vm.displayPercentValue(_vm.newCollateralRatio()), 3 ))+\"% \")])])])])]),(!_vm.newCollateralRatioSafe() && _vm.notZero(_vm.amount))?_c('div',{staticClass:\"warning-confirmation\"},[_c('div',{staticClass:\"grid-block\"},[_c('div',{staticClass:\"sign\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text-content\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.caution')))]),_c('p',{staticClass:\"warning-details\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.liquidation-risk-multi', { value: _vm.displayFixedValue( _vm.displayPercentValue(_vm.newCollateralRatio()) ) }))+\" \")]),_c('check-box',{on:{\"changeStatus\":_vm.checkBoxClicked},scopedSlots:_vm._u([{key:\"terms\",fn:function(){return [_c('p',{staticClass:\"checkbox-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.understand-and-agree'))+\" \")])]},proxy:true}],null,false,2855304892)})],1)])]):_vm._e(),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.cancel'),\n            buttonStyle: 'green-border',\n            noMinWidth: true\n          },\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.submit'),\n            buttonStyle: 'green',\n            noMinWidth: true\n          },\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"modal-container\">\r\n    <b-modal\r\n      ref=\"modal\"\r\n      :title=\"$t('dappsMCDMaker.withdraw-title')\"\r\n      centered\r\n      class=\"bootstrap-modal nopadding\"\r\n      hide-footer\r\n      static\r\n      lazy\r\n    >\r\n      <div class=\"modal-content-container\">\r\n        <div class=\"inputs-container\">\r\n          <div class=\"input-container\">\r\n            <p class=\"message\">{{ $t('dappsMCDMaker.withdraw-notice') }}</p>\r\n            <label>\r\n              {{\r\n                $t('dappsMCDMaker.withdraw-question-mcd', {\r\n                  currency: currentCdpType\r\n                })\r\n              }}\r\n            </label>\r\n            <div class=\"top-buttons\">\r\n              <p class=\"max-withdraw\" @click=\"maxWithdraw\">\r\n                {{ $t('dappsMCDMaker.max-available') }}\r\n              </p>\r\n            </div>\r\n            <div\r\n              :class=\"['input-box', newCollateralRatioSafe() ? '' : 'danger']\"\r\n            >\r\n              <input v-model=\"amount\" />\r\n              <span class=\"input-unit\">{{ digitalCurrency }}</span>\r\n            </div>\r\n            <div class=\"sub-text\">\r\n              <p v-if=\"canWithdrawEthNotice\" class=\"above-max\">\r\n                {{ $t('dappsMCDMaker.over-max-withdraw') }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <expanding-option :title=\"$t('dappsMCDMaker.detail-information')\">\r\n          <div class=\"padding-container\">\r\n            <div class=\"grid-block\">\r\n              <p>{{ $t('dappsMCDMaker.max-available') }}</p>\r\n              <p>\r\n                <b>\r\n                  {{\r\n                    values.maxDai ? displayFixedValue(values.maxEthDraw, 5) : 0\r\n                  }}\r\n                </b>\r\n                {{ digitalCurrency }}\r\n              </p>\r\n            </div>\r\n\r\n            <div class=\"grid-block\">\r\n              <p>{{ $t('dappsMCDMaker.projected-liquidation') }}</p>\r\n              <p>\r\n                <b>{{ displayFixedValue(newLiquidationPrice(), 2) }}</b>\r\n                {{ fiatCurrency }}\r\n              </p>\r\n            </div>\r\n            <div class=\"grid-block\">\r\n              <p>{{ $t('dappsMCDMaker.projected-collat-ratio') }}</p>\r\n              <p>\r\n                <b>\r\n                  {{\r\n                    displayFixedValue(\r\n                      displayPercentValue(newCollateralRatio()),\r\n                      3\r\n                    )\r\n                  }}%\r\n                </b>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </expanding-option>\r\n\r\n        <div\r\n          v-if=\"!newCollateralRatioSafe() && notZero(amount)\"\r\n          class=\"warning-confirmation\"\r\n        >\r\n          <div class=\"grid-block\">\r\n            <div class=\"sign\"></div>\r\n            <div class=\"text-content\">\r\n              <p class=\"title\">{{ $t('dappsMCDMaker.caution') }}</p>\r\n              <p class=\"warning-details\">\r\n                {{\r\n                  $t('dappsMCDMaker.liquidation-risk-multi', {\r\n                    value: displayFixedValue(\r\n                      displayPercentValue(newCollateralRatio())\r\n                    )\r\n                  })\r\n                }}\r\n              </p>\r\n              <check-box @changeStatus=\"checkBoxClicked\">\r\n                <template v-slot:terms>\r\n                  <p class=\"checkbox-label\">\r\n                    {{ $t('dappsMCDMaker.understand-and-agree') }}\r\n                  </p>\r\n                </template>\r\n              </check-box>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"buttons\">\r\n          <standard-button\r\n            :options=\"{\r\n              title: $t('common.cancel'),\r\n              buttonStyle: 'green-border',\r\n              noMinWidth: true\r\n            }\"\r\n            :click-function=\"closeModal\"\r\n          />\r\n          <standard-button\r\n            :options=\"{\r\n              title: $t('common.submit'),\r\n              buttonStyle: 'green',\r\n              noMinWidth: true\r\n            }\"\r\n            :button-disabled=\"canProceed ? false : true\"\r\n            :click-function=\"submitBtn\"\r\n          />\r\n        </div>\r\n\r\n        <help-center-button />\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport ExpandingOption from '@/components/ExpandingOption';\r\nimport StandardButton from '@/components/Buttons/StandardButton';\r\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\r\nimport CheckBox from '../CheckBox';\r\nimport BigNumber from 'bignumber.js/bignumber.js';\r\nimport { displayFixedValue, displayPercentValue } from '../../helpers';\r\n\r\nconst toBigNumber = num => {\r\n  return new BigNumber(num);\r\n};\r\n\r\nexport default {\r\n  components: {\r\n    'help-center-button': HelpCenterButton,\r\n    'check-box': CheckBox,\r\n    'expanding-option': ExpandingOption,\r\n    'standard-button': StandardButton\r\n  },\r\n  props: {\r\n    tokensWithBalance: {\r\n      type: Array,\r\n      default: function () {\r\n        return [];\r\n      }\r\n    },\r\n    action: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    values: {\r\n      type: Object,\r\n      default: function () {\r\n        return {\r\n          maxEthDraw: '',\r\n          maxUsdDraw: '',\r\n          ethCollateral: '',\r\n          usdCollateral: '',\r\n          debtValue: '',\r\n          maxDai: '',\r\n          collateralRatio: '',\r\n          cdpId: ''\r\n        };\r\n      }\r\n    },\r\n    calcCollatRatioEthChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    calcLiquidationPriceEthChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    calcCollatRatioDaiChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    calcLiquidationPriceDaiChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    activeCdpId: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    makerActive: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    getValueOrFunction: {\r\n      type: Function,\r\n      default: function () {}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      amount: 0,\r\n      amountEth: 0,\r\n      amountDai: 0,\r\n      riskyBypass: false,\r\n      modalDetailInformation: false,\r\n      textValues: {},\r\n      fiatCurrency: 'USD',\r\n      digitalCurrency: 'ETH',\r\n      currentCdpType: 'ETH'\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\r\n    amountPresent() {\r\n      return (\r\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\r\n      );\r\n    },\r\n    canCompute() {\r\n      return this.values && this.amountPresent && this.currentCdp;\r\n    },\r\n    canWithdrawEthNotice() {\r\n      if (this.amountPresent && this.currentCdp) {\r\n        return !toBigNumber(this.amount).lte(\r\n          toBigNumber(this.currentCdp.maxEthDraw)\r\n        );\r\n      }\r\n      return false;\r\n    },\r\n    canWithdrawEthAmount() {\r\n      if (this.amountPresent && this.currentCdp) {\r\n        return toBigNumber(this.amount).lte(\r\n          toBigNumber(this.currentCdp.collateralValue)\r\n        );\r\n      }\r\n      return false;\r\n    },\r\n    canProceed() {\r\n      if (this.amountPresent && this.currentCdp) {\r\n        if (toBigNumber(this.amount).lte(0)) return false;\r\n        return (\r\n          (this.newCollateralRatioSafe() && this.canWithdrawEthAmount) ||\r\n          (!this.newCollateralRatioInvalid() &&\r\n            this.canWithdrawEthAmount &&\r\n            this.riskyBypass)\r\n        );\r\n      }\r\n      return false;\r\n    },\r\n    calcCollateralRatio() {\r\n      if (this.canCompute && this.currentCdp) {\r\n        return this.calcCollatRatioEthChg(\r\n          toBigNumber(this.currentCdp.debtValue).plus(this.amount)\r\n        );\r\n      }\r\n      if (this.values) {\r\n        return this.values.collateralRatio;\r\n      }\r\n      return null;\r\n    }\r\n  },\r\n  watch: {},\r\n  mounted() {\r\n    this.$refs.modal.$on('shown', () => {\r\n      this.cdpId = this.$route.params.cdpId;\r\n      this.isVisible = true;\r\n      this.amount = 0;\r\n      this.getActiveCdp();\r\n    });\r\n    this.$refs.modal.$on('hidden', () => {\r\n      this.amount = 0;\r\n    });\r\n    if (this.makerActive) {\r\n      this.getActiveCdp();\r\n    }\r\n  },\r\n  methods: {\r\n    getActiveCdp() {\r\n      if (this.cdpId > 0) {\r\n        this.currentCdp = this.getValueOrFunction('getCdp')(this.cdpId);\r\n        this.currentCdpType = this.currentCdp.cdpCollateralType;\r\n        this.$forceUpdate();\r\n      }\r\n    },\r\n    collateralAmount() {\r\n      if (this.currentCdp) {\r\n        return this.currentCdp.collateralAmount;\r\n      }\r\n    },\r\n    newCollateralRatio() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.currentCdp.calcCollatRatioEthChg(\r\n          toBigNumber(this.currentCdp.collateralAmount).minus(this.amount)\r\n        );\r\n      } else if (this.currentCdp) {\r\n        return this.currentCdp.collateralizationRatio;\r\n      }\r\n      return 0;\r\n    },\r\n    newCollateralRatioSafe() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        if (\r\n          this.currentCdp\r\n            .calcCollatRatioEthChg(\r\n              toBigNumber(this.currentCdp.collateralAmount).minus(this.amount)\r\n            )\r\n            .eq(0)\r\n        ) {\r\n          return true;\r\n        }\r\n        return this.currentCdp\r\n          .calcCollatRatioEthChg(\r\n            toBigNumber(this.currentCdp.collateralAmount).minus(this.amount)\r\n          )\r\n          .gte(2);\r\n      } else if (this.currentCdp) {\r\n        return toBigNumber(this.currentCdp.collateralizationRatio).gte(2);\r\n      }\r\n      return true;\r\n    },\r\n    newCollateralRatioInvalid() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        if (\r\n          this.currentCdp\r\n            .calcCollatRatioEthChg(\r\n              toBigNumber(this.currentCdp.collateralAmount).minus(this.amount)\r\n            )\r\n            .eq(0)\r\n        ) {\r\n          return false;\r\n        }\r\n        return this.currentCdp\r\n          .calcCollatRatioEthChg(\r\n            toBigNumber(this.currentCdp.collateralAmount).minus(this.amount)\r\n          )\r\n          .lte(1.5);\r\n      } else if (this.currentCdp) {\r\n        return toBigNumber(this.currentCdp.collateralizationRatio).lte(1.5);\r\n      }\r\n      return true;\r\n    },\r\n    newLiquidationPrice() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.currentCdp.calcLiquidationPriceEthChg(\r\n          toBigNumber(this.currentCdp.collateralAmount).minus(\r\n            toBigNumber(this.amount)\r\n          )\r\n        );\r\n      } else if (this.currentCdp) {\r\n        return this.currentCdp.liquidationPrice;\r\n      }\r\n      return 0;\r\n    },\r\n    getProxyAllowances() {\r\n      const allowances = this.getValueOrFunction('proxyAllowances');\r\n      if (allowances) {\r\n        return allowances;\r\n      }\r\n      return {};\r\n    },\r\n    submitBtn() {\r\n      if (!this.canProceed) return;\r\n      this.freeEth();\r\n    },\r\n    checkBoxClicked(checked) {\r\n      this.riskyBypass = checked;\r\n    },\r\n    displayPercentValue,\r\n    displayFixedValue,\r\n    notZero(val) {\r\n      return toBigNumber(val).gt(0);\r\n    },\r\n    maxWithdraw() {\r\n      this.amount = this.currentCdp.maxEthDraw;\r\n      this.$forceUpdate();\r\n    },\r\n    async freeEth() {\r\n      if (toBigNumber(this.amount).gte(0)) {\r\n        this.delayCloseModal();\r\n        if (this.newCollateralRatioSafe()) {\r\n          this.$emit('freeEth', [this.amount, null]);\r\n        } else {\r\n          this.$emit('freeEth', [this.amount, this.riskyBypass]);\r\n        }\r\n      }\r\n    },\r\n    closeModal() {\r\n      this.$refs.modal.hide();\r\n    },\r\n    delayCloseModal() {\r\n      setTimeout(() => {\r\n        this.closeModal();\r\n      }, 200);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'WithdrawModal';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WithdrawModal.vue?vue&type=template&id=19ead467&scoped=true&\"\nimport script from \"./WithdrawModal.vue?vue&type=script&lang=js&\"\nexport * from \"./WithdrawModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WithdrawModal.vue?vue&type=style&index=0&id=19ead467&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19ead467\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMCDMaker.payback-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"contents\"},[_c('p',{staticClass:\"top-message\"},[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.payback-notice')))]),_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"top-buttons\"},[_c('p',{on:{\"click\":_vm.currentDai}},[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.max-available')))])]),_c('div',{class:['dai-amount', _vm.hasEnoughDai ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('p',{staticClass:\"floating-text\"},[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.dai')))])])]),_c('expanding-option',{attrs:{\"title\":_vm.$t('dappsMCDMaker.detail-information')}},[_c('ul',{staticClass:\"details\"},[_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.outstanding-dai')))]),_c('p',[_c('b',[_vm._v(\" \"+_vm._s(_vm.values.debtValue ? _vm.displayFixedValue(_vm.values.debtValue, 3) : 0)+\" \")]),_vm._v(\" \"+_vm._s(_vm.$t('dappsMCDMaker.dai'))+\" \")])]),_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice(), 2)))]),_vm._v(\" \"+_vm._s(_vm.fiatCurrency)+\" \")])]),_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMCDMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(\" \"+_vm._s(_vm.displayFixedValue( _vm.displayPercentValue(_vm.newCollateralRatio()), 3 ))+\"% \")])])])])]),_c('div',{staticClass:\"buttons\"},[(_vm.needsDaiApprove())?_c('div',[_c('standard-button',{attrs:{\"options\":{\n              title: _vm.$t('dappsMCDMaker.approve-dai'),\n              buttonStyle: 'green-border',\n              fullWidth: true,\n              noMinWidth: true\n            },\"click-function\":_vm.approveDai}})],1):_vm._e(),(_vm.needsMkrApprove())?_c('div',[_c('standard-button',{attrs:{\"options\":{\n              title: _vm.$t('dappsMCDMaker.approve-maker'),\n              buttonStyle: 'green-border',\n              fullWidth: true,\n              noMinWidth: true\n            },\"click-function\":_vm.approveMkr}})],1):_vm._e()]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.cancel'),\n            buttonStyle: 'green-border',\n            noMinWidth: true,\n            fullWidth: true\n          },\"click-function\":_vm.closeModal}}),_c('div',[(_vm.max)?_c('standard-button',{attrs:{\"options\":{\n              title: _vm.$t('dappsMCDMaker.submit-max'),\n              buttonStyle: 'green',\n              noMinWidth: true,\n              fullWidth: true\n            },\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}}):_vm._e(),(!_vm.max)?_c('standard-button',{attrs:{\"options\":{\n              title: _vm.$t('common.submit'),\n              buttonStyle: 'green',\n              noMinWidth: true,\n              fullWidth: true\n            },\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}}):_vm._e()],1)],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"modal-container\">\r\n    <b-modal\r\n      ref=\"modal\"\r\n      :title=\"$t('dappsMCDMaker.payback-title')\"\r\n      centered\r\n      class=\"bootstrap-modal nopadding\"\r\n      hide-footer\r\n      static\r\n      lazy\r\n    >\r\n      <div class=\"contents\">\r\n        <p class=\"top-message\">{{ $t('dappsMCDMaker.payback-notice') }}</p>\r\n        <div class=\"input-container\">\r\n          <div class=\"top-buttons\">\r\n            <p @click=\"currentDai\">{{ $t('dappsMCDMaker.max-available') }}</p>\r\n          </div>\r\n          <div :class=\"['dai-amount', hasEnoughDai ? '' : 'danger']\">\r\n            <input v-model=\"amount\" />\r\n            <p class=\"floating-text\">{{ $t('dappsMCDMaker.dai') }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <expanding-option :title=\"$t('dappsMCDMaker.detail-information')\">\r\n          <ul class=\"details\">\r\n            <li>\r\n              <p>{{ $t('dappsMCDMaker.outstanding-dai') }}</p>\r\n              <p>\r\n                <b>\r\n                  {{\r\n                    values.debtValue\r\n                      ? displayFixedValue(values.debtValue, 3)\r\n                      : 0\r\n                  }}\r\n                </b>\r\n                {{ $t('dappsMCDMaker.dai') }}\r\n              </p>\r\n            </li>\r\n            <li>\r\n              <p>{{ $t('dappsMCDMaker.projected-liquidation') }}</p>\r\n              <p>\r\n                <b>{{ displayFixedValue(newLiquidationPrice(), 2) }}</b>\r\n                {{ fiatCurrency }}\r\n              </p>\r\n            </li>\r\n            <li>\r\n              <p>{{ $t('dappsMCDMaker.projected-collat-ratio') }}</p>\r\n              <p>\r\n                <b>\r\n                  {{\r\n                    displayFixedValue(\r\n                      displayPercentValue(newCollateralRatio()),\r\n                      3\r\n                    )\r\n                  }}%\r\n                </b>\r\n              </p>\r\n            </li>\r\n          </ul>\r\n        </expanding-option>\r\n        <div class=\"buttons\">\r\n          <div v-if=\"needsDaiApprove()\">\r\n            <standard-button\r\n              :options=\"{\r\n                title: $t('dappsMCDMaker.approve-dai'),\r\n                buttonStyle: 'green-border',\r\n                fullWidth: true,\r\n                noMinWidth: true\r\n              }\"\r\n              :click-function=\"approveDai\"\r\n            />\r\n          </div>\r\n          <div v-if=\"needsMkrApprove()\">\r\n            <standard-button\r\n              :options=\"{\r\n                title: $t('dappsMCDMaker.approve-maker'),\r\n                buttonStyle: 'green-border',\r\n                fullWidth: true,\r\n                noMinWidth: true\r\n              }\"\r\n              :click-function=\"approveMkr\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"buttons\">\r\n          <standard-button\r\n            :options=\"{\r\n              title: $t('common.cancel'),\r\n              buttonStyle: 'green-border',\r\n              noMinWidth: true,\r\n              fullWidth: true\r\n            }\"\r\n            :click-function=\"closeModal\"\r\n          />\r\n          <div>\r\n            <standard-button\r\n              v-if=\"max\"\r\n              :options=\"{\r\n                title: $t('dappsMCDMaker.submit-max'),\r\n                buttonStyle: 'green',\r\n                noMinWidth: true,\r\n                fullWidth: true\r\n              }\"\r\n              :button-disabled=\"canProceed ? false : true\"\r\n              :click-function=\"submitBtn\"\r\n            />\r\n            <standard-button\r\n              v-if=\"!max\"\r\n              :options=\"{\r\n                title: $t('common.submit'),\r\n                buttonStyle: 'green',\r\n                noMinWidth: true,\r\n                fullWidth: true\r\n              }\"\r\n              :button-disabled=\"canProceed ? false : true\"\r\n              :click-function=\"submitBtn\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <help-center-button />\r\n      </div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport ethUnit from 'ethjs-unit';\r\nimport ExpandingOption from '@/components/ExpandingOption';\r\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\r\nimport {\r\n  displayFixedValue,\r\n  displayPercentValue,\r\n  toBigNumber\r\n} from '../../makerHelpers';\r\nimport StandardButton from '@/components/Buttons/StandardButton';\r\n\r\nexport default {\r\n  components: {\r\n    'help-center-button': HelpCenterButton,\r\n    'expanding-option': ExpandingOption,\r\n    'standard-button': StandardButton\r\n  },\r\n  props: {\r\n    tokensWithBalance: {\r\n      type: Array,\r\n      default: function () {\r\n        return [];\r\n      }\r\n    },\r\n    action: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    values: {\r\n      type: Object,\r\n      default: function () {\r\n        return {\r\n          maxEthDraw: '',\r\n          maxUsdDraw: '',\r\n          ethCollateral: '',\r\n          usdCollateral: '',\r\n          debtValue: '',\r\n          maxDai: '',\r\n          collateralRatio: '',\r\n          cdpId: ''\r\n        };\r\n      }\r\n    },\r\n    calcCollatRatioEthChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    calcLiquidationPriceEthChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    calcCollatRatioDaiChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    calcLiquidationPriceDaiChg: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    activeCdpId: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    makerActive: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    getValueOrFunction: {\r\n      type: Function,\r\n      default: function () {}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      amount: 0,\r\n      amountEth: 0,\r\n      amountDai: 0,\r\n      mkrToken: {},\r\n      daiToken: {},\r\n      max: false,\r\n      riskyBypass: false,\r\n      modalDetailInformation: false,\r\n      textValues: {},\r\n      fiatCurrency: 'USD',\r\n      digitalCurrency: 'ETH',\r\n      suppliedFrom: {\r\n        symbol: 'ETH',\r\n        name: 'Ethereum'\r\n      },\r\n      suppliedTo: {\r\n        symbol: 'MKR',\r\n        name: 'Maker'\r\n      },\r\n      suppliedToAmount: 0,\r\n      destAddress: ''\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\r\n    amountPresent() {\r\n      return (\r\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\r\n      );\r\n    },\r\n    canCompute() {\r\n      return this.values && this.amountPresent && this.currentCdp;\r\n    },\r\n    allOk() {\r\n      if (this.amountPresent) {\r\n        return this.newCollateralRatioSafe() && this.canGenerateDaiAmount;\r\n      }\r\n      return true;\r\n    },\r\n    hasEnoughEth() {\r\n      if (this.canCompute) {\r\n        const asEth = ethUnit.fromWei(this.account.balance, 'ether');\r\n        return toBigNumber(this.amount).lte(toBigNumber(asEth));\r\n      }\r\n      return true;\r\n    },\r\n    paybackFee() {\r\n      if (this.canCompute) {\r\n        return toBigNumber(this.amount)\r\n          .div(this.values.debtValue)\r\n          .times(this.values.governanceFeeOwed);\r\n      }\r\n      return 0;\r\n    },\r\n    hasEnoughMkr() {\r\n      if (this.canCompute) {\r\n        return toBigNumber(this.mkrBalance).gte(toBigNumber(this.paybackFee));\r\n      }\r\n      return true;\r\n    },\r\n    hasEnoughDai() {\r\n      if (this.canCompute) {\r\n        return this.currentCdp.hasEnough(this.amount, 'DAI');\r\n      }\r\n      return true;\r\n    },\r\n    canWithdrawEthAmount() {\r\n      if (this.canCompute) {\r\n        return toBigNumber(this.amount).lte(\r\n          toBigNumber(this.values.ethCollateral)\r\n        );\r\n      }\r\n      return false;\r\n    },\r\n    canGenerateDaiAmount() {\r\n      if (this.canCompute) {\r\n        return toBigNumber(this.amount).lte(toBigNumber(this.values.maxDai));\r\n      }\r\n      return true;\r\n    },\r\n    canProceed() {\r\n      return this.hasEnoughDai;\r\n    },\r\n    calcCollateralRatio() {\r\n      if (this.canCompute) {\r\n        return this.calcCollatRatioDaiChg(\r\n          toBigNumber(this.values.debtValue).minus(this.amount)\r\n        );\r\n      }\r\n      if (this.values) {\r\n        return this.values.collateralRatio;\r\n      }\r\n      return '--';\r\n    },\r\n    mkrBalance() {\r\n      if (this.mkrToken) {\r\n        return this.mkrToken.balance;\r\n      }\r\n      return 0;\r\n    }\r\n  },\r\n  watch: {\r\n    amount() {\r\n      if (!toBigNumber(this.amount).gte(this.currentCdp.debtValue.minus(1))) {\r\n        this.max = false;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$refs.modal.$on('shown', () => {\r\n      this.cdpId = this.$route.params.cdpId;\r\n      this.isVisible = true;\r\n      this.amount = 0;\r\n      this.getActiveCdp();\r\n      this.getBalances();\r\n      this.max = false;\r\n    });\r\n\r\n    this.$refs.modal.$on('hidden', () => {\r\n      this.isVisible = false;\r\n    });\r\n\r\n    if (this.makerActive) {\r\n      this.getActiveCdp();\r\n    }\r\n  },\r\n  methods: {\r\n    getActiveCdp() {\r\n      if (this.cdpId > 0) {\r\n        this.currentCdp = this.getValueOrFunction('getCdp')(this.cdpId);\r\n        this.currentCdpType = this.currentCdp.cdpCollateralType;\r\n        this.$forceUpdate();\r\n      }\r\n    },\r\n    governanceFeeOwed() {\r\n      if (this.currentCdp) {\r\n        return this.currentCdp.governanceFeeOwed;\r\n      }\r\n    },\r\n    collateralAmount() {\r\n      if (this.currentCdp) {\r\n        return this.currentCdp.collateralAmount;\r\n      }\r\n    },\r\n    newCollateralRatio() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.currentCdp.calcCollatRatioDaiChg(\r\n          toBigNumber(this.amount).negated(),\r\n          true\r\n        );\r\n      } else if (this.currentCdp) {\r\n        return this.currentCdp.collateralizationRatio;\r\n      }\r\n      return 0;\r\n    },\r\n    newCollateralRatioSafe() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.newCollateralRatio().gte(2);\r\n      } else if (this.currentCdp) {\r\n        return this.newCollateralRatio().gte(2);\r\n      }\r\n      return true;\r\n    },\r\n    newCollateralRatioInvalid() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.newCollateralRatio().lte(1.5);\r\n      } else if (this.currentCdp) {\r\n        return this.newCollateralRatio().lte(1.5);\r\n      }\r\n      return true;\r\n    },\r\n    newLiquidationPrice() {\r\n      if (this.currentCdp && this.amount > 0) {\r\n        return this.currentCdp.calcLiquidationPriceDaiChg(\r\n          toBigNumber(this.amount).negated(),\r\n          true\r\n        );\r\n      } else if (this.currentCdp) {\r\n        return this.currentCdp.liquidationPrice;\r\n      }\r\n      return 0;\r\n    },\r\n    daiBalance() {\r\n      if (this.currentCdp) {\r\n        return this.currentCdp.getBalanceOf('DAI');\r\n      }\r\n      return 0;\r\n    },\r\n    needsDaiApprove() {\r\n      if (this.currentCdp) {\r\n        if (toBigNumber(this.amount).gt(0)) {\r\n          return !this.currentCdp.hasEnoughAllowance(this.amount, 'DAI');\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n    needsMkrApprove() {\r\n      return false;\r\n    },\r\n    getProxyAllowances() {\r\n      const allowances = this.getValueOrFunction('proxyAllowances');\r\n      if (allowances) {\r\n        return allowances;\r\n      }\r\n      return {};\r\n    },\r\n    submitBtn() {\r\n      if (!this.canProceed) return;\r\n      this.wipeDai();\r\n    },\r\n    checkBoxClicked() {\r\n      this.riskyBypass = !this.riskyBypass;\r\n    },\r\n    displayPercentValue,\r\n    displayFixedValue,\r\n    notZero(val) {\r\n      return toBigNumber(val).gt(0);\r\n    },\r\n    maxDai() {\r\n      this.amount = toBigNumber(this.values.maxDai).minus(\r\n        toBigNumber(this.values.maxDai).times(0.01)\r\n      );\r\n      this.max = true;\r\n    },\r\n    currentDai() {\r\n      if (this.currentCdp.hasEnough(this.currentCdp.debtValue, 'DAI')) {\r\n        this.amount = this.currentCdp.debtValue;\r\n      } else {\r\n        this.amount = this.currentCdp.getBalanceOf('DAI');\r\n      }\r\n      this.max = true;\r\n    },\r\n    async wipeDai() {\r\n      if (toBigNumber(this.amount).gte(0)) {\r\n        this.delayCloseModal();\r\n        this.currentCdp.wipeDai(this.amount, this.max);\r\n      }\r\n    },\r\n    getBalances() {\r\n      this.mkrToken = this.tokensWithBalance.find(item => {\r\n        return item.symbol === 'MKR';\r\n      });\r\n      this.daiToken = this.tokensWithBalance.find(item => {\r\n        return item.symbol === 'DAI';\r\n      });\r\n    },\r\n    getMkr() {\r\n      const mkrNeeded = this.paybackFee;\r\n      if (toBigNumber(this.mkrBalance).lt(mkrNeeded)) {\r\n        this.suppliedToAmount = toBigNumber(mkrNeeded)\r\n          .minus(toBigNumber(this.mkrBalance))\r\n          .plus(toBigNumber(mkrNeeded).times(0.01))\r\n          .toNumber();\r\n        if (toBigNumber(this.suppliedToAmount).lt(0.000001)) {\r\n          this.suppliedToAmount = 0.000001;\r\n        }\r\n        this.suppliedFrom = {\r\n          symbol: 'ETH',\r\n          name: 'Ethereum'\r\n        };\r\n        this.suppliedTo = {\r\n          symbol: 'MKR',\r\n          name: 'Maker'\r\n        };\r\n        this.$eventHub.$emit(\r\n          'showSwapWidgetTo',\r\n          this.account.address,\r\n          this.suppliedFrom,\r\n          this.suppliedTo,\r\n          this.suppliedToAmount\r\n        );\r\n      }\r\n    },\r\n    closeModal() {\r\n      this.$refs.modal.hide();\r\n    },\r\n    delayCloseModal() {\r\n      setTimeout(() => {\r\n        this.closeModal();\r\n      }, 200);\r\n    },\r\n    async approveDai() {\r\n      if (this.currentCdp) {\r\n        this.currentCdp.approveProxyFor('DAI');\r\n        this.closeModal();\r\n      }\r\n    },\r\n    async approveMkr() {\r\n      if (this.currentCdp) {\r\n        this.currentCdp.approveProxyFor('MKR');\r\n        this.closeModal();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'PaybackModal';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PaybackModal.vue?vue&type=template&id=bfeb8554&scoped=true&\"\nimport script from \"./PaybackModal.vue?vue&type=script&lang=js&\"\nexport * from \"./PaybackModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PaybackModal.vue?vue&type=style&index=0&id=bfeb8554&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bfeb8554\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container-maker\">\r\n    <deposit-modal\r\n      ref=\"deposit\"\r\n      :values=\"activeValues\"\r\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\r\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\r\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\r\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\r\n      :get-value-or-function=\"getValueOrFunction\"\r\n      :active-cdp-id=\"activeCdpId\"\r\n      :tokens-with-balance=\"tokensWithBalance\"\r\n      @lockEth=\"lockEth\"\r\n    ></deposit-modal>\r\n    <generate-modal\r\n      ref=\"generate\"\r\n      :values=\"activeValues\"\r\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\r\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\r\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\r\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\r\n      :get-value-or-function=\"getValueOrFunction\"\r\n      :active-cdp-id=\"activeCdpId\"\r\n      :tokens-with-balance=\"tokensWithBalance\"\r\n      @drawDai=\"drawDai\"\r\n    ></generate-modal>\r\n    <withdraw-modal\r\n      ref=\"withdraw\"\r\n      :values=\"activeValues\"\r\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\r\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\r\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\r\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\r\n      :get-value-or-function=\"getValueOrFunction\"\r\n      :active-cdp-id=\"activeCdpId\"\r\n      :tokens-with-balance=\"tokensWithBalance\"\r\n      @approveDai=\"approveDai\"\r\n      @approveMkr=\"approveMkr\"\r\n      @freeEth=\"freeEth\"\r\n    ></withdraw-modal>\r\n    <payback-modal\r\n      ref=\"payback\"\r\n      :values=\"activeValues\"\r\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\r\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\r\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\r\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\r\n      :get-value-or-function=\"getValueOrFunction\"\r\n      :active-cdp-id=\"activeCdpId\"\r\n      :tokens-with-balance=\"tokensWithBalance\"\r\n      @approveDai=\"approveDai\"\r\n      @approveMkr=\"approveMkr\"\r\n      @wipeDai=\"wipeDai\"\r\n    ></payback-modal>\r\n    <move-cdp-modal\r\n      ref=\"moveCdp\"\r\n      :values=\"activeValues\"\r\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\r\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\r\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\r\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\r\n      :get-value-or-function=\"getValueOrFunction\"\r\n      :active-cdp-id=\"activeCdpId\"\r\n      :dest-address-has-proxy=\"destAddressHasProxy\"\r\n      :dest-address-proxy=\"destAddressProxy\"\r\n      :tokens-with-balance=\"tokensWithBalance\"\r\n      @moveCdp=\"moveCdp\"\r\n      @checkForProxy=\"checkIfDestAddressHasProxy\"\r\n    >\r\n    </move-cdp-modal>\r\n\r\n    <back-button :path=\"backPath()\">\r\n      <div class=\"back-bar-container\">\r\n        <div v-if=\"showMoveOrClose\" class=\"header-buttons-container\">\r\n          <div class=\"inner-container\">\r\n            <button class=\"move-btn\" @click=\"showMove\">\r\n              <h4>{{ $t('dappsMCDMaker.move-vault') }}</h4>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </back-button>\r\n\r\n    <div\r\n      v-if=\"makerActive && listCdps && showManageable\"\r\n      class=\"px-5 pt-3 pb-5\"\r\n    >\r\n      <h3 class=\"mb-3\">Select your vault to see details.</h3>\r\n      <div class=\"buttons-container\">\r\n        <div v-for=\"(value, idx) in cdps\" :key=\"idx + value\">\r\n          <b-button\r\n            variant=\"primary\"\r\n            class=\"mr-2 mb-1\"\r\n            @click=\"openManage(value)\"\r\n          >\r\n            <b>{{ $t('dappsMCDMaker.vault-id') }}</b>\r\n            <b-badge variant=\"light\" class=\"ml-2\" style=\"font-size: 15px\"\r\n              ># {{ value }}</b-badge\r\n            >\r\n          </b-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"px-5 py-3\">\r\n      <router-view\r\n        :active-cdp-id=\"activeCdpId\"\r\n        :loading-state=\"currentlyLoading\"\r\n        :build-empty=\"buildEmpty\"\r\n        :maker-active=\"makerActive\"\r\n        :eth-price=\"ethPrice\"\r\n        :liquidation-penalty=\"liquidationPenalty\"\r\n        :stability-fee=\"stabilityFee\"\r\n        :liquidation-ratio=\"liquidationRatio\"\r\n        :price-service=\"priceService\"\r\n        :cdp-service=\"cdpService\"\r\n        :proxy-service=\"proxyService\"\r\n        :cdps=\"cdps\"\r\n        :cdps-without-proxy=\"cdpsWithoutProxy\"\r\n        :cdp-details-loaded=\"cdpDetailsLoaded\"\r\n        :tokens-with-balance=\"tokensWithBalance\"\r\n        :migration-in-progress=\"migrationInProgress\"\r\n        :open-close-modal=\"openCloseModal\"\r\n        :open-move-modal=\"openMoveModal\"\r\n        :values-updated=\"valuesUpdated\"\r\n        :values=\"activeValues\"\r\n        :get-collateral-options=\"getCollateralOptions\"\r\n        :get-value-or-function=\"getValueOrFunction\"\r\n        :get-cdp=\"getCdp\"\r\n        :has-cdp=\"hasCdp\"\r\n        @activeCdpId=\"setupCdpManageFunc\"\r\n        @cdpOpened=\"addCdp\"\r\n        @cdpClosed=\"removeCdp\"\r\n        @modalHidden=\"modalHidden\"\r\n        @managerUpdate=\"doUpdate\"\r\n        @showWithdraw=\"showWithdraw\"\r\n        @showPayback=\"showPayback\"\r\n        @showGenerate=\"showGenerate\"\r\n        @showDeposit=\"showDeposit\"\r\n        @migrateCdp=\"migrateCdpExternal\"\r\n        @proceedtoCreateOrManage=\"proceedtoCreateOrManage\"\r\n        @approveCurrency=\"approveCurrency\"\r\n        @setActiveCdpId=\"setActiveCdpId\"\r\n        @setAfterLoadPage=\"setAfterLoadPage\"\r\n      >\r\n      </router-view>\r\n    </div>\r\n    <interface-footer />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport BackButton from '@/layouts/InterfaceLayout/components/BackButton';\r\nimport InterfaceContainerFooter from '@/layouts/InterfaceLayout/components/InterfaceContainerFooter';\r\nimport MoveCdpModal from './components/MoveCdpModal';\r\nimport GenerateModal from './components/GenerateModal';\r\nimport DepositModal from './components/DepositModal';\r\nimport WithdrawModal from './components/WithdrawModal';\r\nimport PaybackModal from './components/PaybackModal';\r\nimport Maker from '@makerdao/dai';\r\nimport McdPlugin, { MKR } from '@makerdao/dai-plugin-mcd';\r\nimport { Toast } from '@/helpers';\r\nimport {\r\n  CdpNum,\r\n  locateCdps,\r\n  setupPriceAndRatios,\r\n  setupServices,\r\n  getDetailsForTokens,\r\n  checkAllowances,\r\n  collateralOptions,\r\n  setupCdpManage,\r\n  updateActiveCdp,\r\n  loadCdpDetails,\r\n  buildEmpty,\r\n  loadCdpDetail,\r\n  doUpdate,\r\n  toBigNumber,\r\n  getDustValues\r\n} from './makerHelpers';\r\n\r\nimport MewPlugin from 'mew-maker-plugin';\r\n\r\nconst { DAI } = Maker;\r\n\r\nconst bnOver = (one, two, three) => {\r\n  return toBigNumber(one).times(toBigNumber(two)).div(toBigNumber(three));\r\n};\r\n\r\nconst afterLoadShow = {\r\n  MANAGE: 'MANAGE',\r\n  CREATE: 'CREATE',\r\n  HOME: 'HOME'\r\n};\r\n\r\nconst ServiceRoles = {\r\n  CDP_MANAGER: 'mcd:cdpManager',\r\n  CDP_TYPE: 'mcd:cdpType',\r\n  AUCTION: 'mcd:auction',\r\n  SYSTEM_DATA: 'mcd:systemData',\r\n  QUERY_API: 'mcd:queryApi',\r\n  SAVINGS: 'mcd:savings'\r\n};\r\nexport default {\r\n  components: {\r\n    'generate-modal': GenerateModal,\r\n    'deposit-modal': DepositModal,\r\n    'withdraw-modal': WithdrawModal,\r\n    'payback-modal': PaybackModal,\r\n    'back-button': BackButton,\r\n    'interface-footer': InterfaceContainerFooter,\r\n    'move-cdp-modal': MoveCdpModal\r\n  },\r\n  props: {\r\n    tokensWithBalance: {\r\n      type: Array,\r\n      default: function () {\r\n        return [];\r\n      }\r\n    },\r\n    getBalance: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    highestGas: {\r\n      type: String,\r\n      default: '0'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      activeCdpId: 0,\r\n      currentlyLoading: '',\r\n      destAddressProxy: '',\r\n      destAddressHasProxy: false,\r\n      makerCreated: false,\r\n      afterUpdate: [],\r\n      allCdpIds: [],\r\n      activeCdp: {},\r\n      activeValues: {\r\n        maxEthDraw: toBigNumber(0),\r\n        maxUsdDraw: toBigNumber(0),\r\n        ethCollateral: toBigNumber(0),\r\n        usdCollateral: toBigNumber(0),\r\n        debtValue: toBigNumber(0),\r\n        maxDai: toBigNumber(0),\r\n        collateralRatio: toBigNumber(0),\r\n        minEth: toBigNumber(0),\r\n        cdpId: '--',\r\n        proxyAllowances: {}\r\n      },\r\n      availableCdps: {},\r\n      cdps: [],\r\n      cdpsWithoutProxy: [],\r\n      cdpService: {},\r\n      showLoading: false,\r\n      cdpDetailsLoaded: false,\r\n      currentProxy: null,\r\n      currentCdpId: '',\r\n      creatingCdp: false,\r\n      daiPrice: 0,\r\n      daiQty: 0,\r\n      ethPrice: toBigNumber(0),\r\n      ethQty: 0,\r\n      liquidationRatio: toBigNumber(0),\r\n      liquidationPenalty: toBigNumber(0),\r\n      makerActive: false,\r\n      makerCdp: {},\r\n      makerManager: {},\r\n      migrationInProgress: {},\r\n      openCloseModal: false,\r\n      openMoveModal: false,\r\n      proxyService: {},\r\n      proxyAddress: null,\r\n      priceService: {},\r\n      priceFloor: 0,\r\n      stabilityFee: toBigNumber(0),\r\n      sysVars: {},\r\n      sysServices: {},\r\n      targetPrice: 0,\r\n      valuesUpdated: 0,\r\n      retryCount: 0,\r\n      currentPath: '/interface/dapps/',\r\n      afterLoadShow: 'HOME'\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\r\n    currentProxyAddress() {\r\n      return this.proxyAddress;\r\n    },\r\n    hasProxy() {\r\n      return this.proxyAddress !== null;\r\n    },\r\n    listCdps() {\r\n      return this.cdps.length > 1 || this.cdpsWithoutProxy.length > 1;\r\n    },\r\n    onCreate() {\r\n      return this.$route.name === 'create';\r\n    },\r\n    maxDaiDraw() {\r\n      if (this.ethQty <= 0) return 0;\r\n      return bnOver(this.ethPrice, this.ethQty, this.liquidationRatio);\r\n    },\r\n    minEthDeposit() {\r\n      if (this.daiQty <= 0) return 0;\r\n      return bnOver(this.liquidationRatio, this.daiQty, this.ethPrice);\r\n    },\r\n    showManageable() {\r\n      return this.$route.name === 'manage' || this.$route.name === 'select';\r\n    },\r\n    showMoveOrClose() {\r\n      return this.$route.name === 'manage' || this.$route.name === 'migrate';\r\n    },\r\n    showManage() {\r\n      return (\r\n        this.listCdps ||\r\n        (this.cdps.length >= 1 && this.cdpsWithoutProxy.length >= 1)\r\n      );\r\n    },\r\n    showRefresh() {\r\n      return this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0;\r\n    },\r\n    showCreateProxy() {\r\n      if (this.showCdpMigrateButtons) {\r\n        return false;\r\n      }\r\n      return !this.hasProxy && !this.onCreate;\r\n    },\r\n    showCdpMigrateButtons() {\r\n      return this.hasProxy && this.cdpsWithoutProxy.length >= 1;\r\n    }\r\n  },\r\n  watch: {\r\n    ['account.address']() {\r\n      this.makerActive = false;\r\n      this.setup();\r\n    },\r\n    $route(to) {\r\n      this.currentPath = to.name;\r\n    },\r\n    network(val) {\r\n      if (val.type.name !== 'ETH') {\r\n        this.$router.push({\r\n          name: 'Dapps'\r\n        });\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    this.clearComponent();\r\n  },\r\n  destroyed() {\r\n    this.clearComponent();\r\n  },\r\n  async mounted() {\r\n    this.container = {};\r\n    this.mcdCurrencies = {};\r\n    await this.setup();\r\n  },\r\n  methods: {\r\n    addCdp() {\r\n      this.creatingCdp = true;\r\n    },\r\n    async approveCurrency(currency) {\r\n      await this._tokenService\r\n        .getToken(this.mcdCurrencies[currency])\r\n        .approveUnlimited(this.proxyAddress);\r\n    },\r\n    async approveDai() {\r\n      await this._tokenService\r\n        .getToken(DAI)\r\n        .approveUnlimited(this.proxyAddress);\r\n    },\r\n    async approveMkr() {\r\n      this._tokenService.getToken(MKR).approveUnlimited(this.proxyAddress);\r\n    },\r\n    async buildEmpty() {\r\n      return await buildEmpty(this);\r\n    },\r\n    backPath() {\r\n      switch (this.$route.name) {\r\n        case 'Maker':\r\n        case 'makerLoading':\r\n          return '/interface/dapps/';\r\n        default:\r\n          return '/interface/dapps/maker-dai';\r\n      }\r\n    },\r\n    async buildProxy() {\r\n      this.proxyAddress = await this.getProxy();\r\n      if (!this.proxyAddress) {\r\n        await this._proxyService.build();\r\n        this.proxyAddress = await this._proxyService.currentProxy();\r\n        return this.proxyAddress;\r\n      }\r\n      this.proxyAddress = await this._proxyService.currentProxy();\r\n      return this.proxyAddress;\r\n    },\r\n    calcLiquidationPriceEthChg(ethQty) {\r\n      return toBigNumber(\r\n        this.currentCdp.calcLiquidationPrice(ethQty, this.currentCdp.debtValue)\r\n      );\r\n    },\r\n    clearComponent() {\r\n      this.maker = {};\r\n      this.priceService = {};\r\n      this.cdpService = {};\r\n      this.proxyService = {};\r\n      this.availableCdps = {};\r\n      this.activeCdp = {};\r\n      this.makerCdp = {};\r\n      this.sysVars = {};\r\n      this.sysServices = {};\r\n      this.activeCdps = {};\r\n      this.currentCdp = {};\r\n      this.daiToken = {};\r\n      this.mkrToken = {};\r\n      this.tokens = {};\r\n      this.mcdCurrencies = {};\r\n      this._cdpService = {};\r\n      this._mcdManager = {};\r\n      this._mcdSaving = {};\r\n      this._proxyService = {};\r\n      this._priceService = {};\r\n      this._tokenService = {};\r\n      this._typeService = {};\r\n    },\r\n    closeCdp() {\r\n      this.currentCdp.closeCdp();\r\n    },\r\n    checkIfDestAddressHasProxy(val) {\r\n      this.currentCdp\r\n        .checkIfDestAddressHasProxy(val)\r\n        .then(result => {\r\n          this.destAddressProxy = result;\r\n          this.destAddressHasProxy = result !== null;\r\n        })\r\n        .catch(err => {\r\n          throw err;\r\n        });\r\n    },\r\n    calcCollatRatioDaiChg(daiQty) {\r\n      return toBigNumber(\r\n        this.currentCdp.calcCollatRatio(this.currentCdp.ethCollateral, daiQty)\r\n      );\r\n    },\r\n\r\n    calcCollatRatioEthChg(ethQty) {\r\n      return toBigNumber(\r\n        this.currentCdp.calcCollatRatio(ethQty, this.currentCdp.debtValue)\r\n      );\r\n    },\r\n\r\n    calcLiquidationPriceDaiChg(daiQty) {\r\n      return toBigNumber(\r\n        this.currentCdp.calcLiquidationPrice(\r\n          this.currentCdp.ethCollateral,\r\n          daiQty\r\n        )\r\n      );\r\n    },\r\n    async checkAllowances() {\r\n      await checkAllowances(this, this.account.address, this.proxyAddress);\r\n    },\r\n    async checkBalances() {\r\n      await getDetailsForTokens(this, this._typeService.cdpTypes);\r\n    },\r\n    async doUpdate() {\r\n      await getDustValues(this, this._typeService.cdpTypes);\r\n      await doUpdate(this, Toast);\r\n    },\r\n    drawDai(val) {\r\n      if (val[1] === null) {\r\n        this.currentCdp.drawDai(val[0]);\r\n      } else {\r\n        this.currentCdp.drawDai(val[0], val[1]);\r\n      }\r\n    },\r\n    freeEth(val) {\r\n      if (val[1] === null) {\r\n        this.currentCdp.freeEth(val[0]);\r\n      } else {\r\n        this.currentCdp.freeEth(val[0], val[1]);\r\n      }\r\n    },\r\n\r\n    getValueOrFunction(base, prop) {\r\n      if (this[base]) {\r\n        if (this[base][prop]) {\r\n          return this[base][prop];\r\n        }\r\n        return this[base];\r\n      }\r\n      return undefined;\r\n    },\r\n    getCollateralOptions() {\r\n      return this.mcdCurrencies;\r\n    },\r\n    async getProxy() {\r\n      this.proxyAddress = await this._proxyService.currentProxy();\r\n      if (!this.proxyAddress) {\r\n        this.proxyAddress = await this._proxyService.getProxyAddress(\r\n          this.account.address\r\n        );\r\n        if (this.proxyAddress) this.noProxy = false;\r\n      }\r\n      return this.proxyAddress;\r\n    },\r\n    getType(baseCurrency, ilk) {\r\n      return this._typeService.cdpTypes.find(\r\n        entry => entry.currency.symbol === baseCurrency && entry.ilk === ilk\r\n      );\r\n    },\r\n    getCdp(cdpId) {\r\n      // could be a string.  use type cohesion to convert to number\r\n      if (!this.activeCdps) return false;\r\n      return this.activeCdps[cdpId];\r\n    },\r\n    async getMakerCdp(cdpId) {\r\n      cdpId = CdpNum(cdpId);\r\n      if (cdpId === null) return;\r\n      if (this.cdpsWithoutProxy.includes(cdpId)) {\r\n        return await this._mcdManager.getCdp(cdpId, false);\r\n      } else if (this.cdps.includes(cdpId) && this.proxyAddress) {\r\n        return await this._mcdManager.getCdp(cdpId, this.proxyAddress);\r\n      } else if (this.proxyAddress) {\r\n        return await this._mcdManager.getCdp(cdpId, this.proxyAddress);\r\n      }\r\n      return await this._mcdManager.getCdp(cdpId, false);\r\n    },\r\n    hasCdp(cdpId) {\r\n      return Object.keys(this.activeCdps).includes(\r\n        toBigNumber(CdpNum(cdpId)).toString()\r\n      );\r\n    },\r\n    lockEth(val) {\r\n      this.currentCdp.lockEth(...val);\r\n    },\r\n    async loadCdpDetail(cdpId) {\r\n      return loadCdpDetail(this, cdpId);\r\n    },\r\n    async loadCdpDetails(\r\n      cdps = this.cdps,\r\n      cdpsWithoutProxy = this.cdpsWithoutProxy\r\n    ) {\r\n      return await loadCdpDetails(this, cdps, cdpsWithoutProxy);\r\n    },\r\n    async migrateCdpExternal(cdpId) {\r\n      this.afterUpdate.push(this.goToManage);\r\n      await this.migrateCdp(cdpId);\r\n    },\r\n    moveCdp(val) {\r\n      this.currentCdp.moveCdp(val);\r\n    },\r\n    modalHidden() {\r\n      this.openCloseModal = false;\r\n      this.openMoveModal = false;\r\n    },\r\n\r\n    removeCdp(vals) {\r\n      try {\r\n        delete this.availableCdps[vals.id];\r\n        Toast.responseHandler(this.$t('dapps-maker.vault-closed'), Toast.INFO);\r\n      } catch (e) {\r\n        // eslint-disable-next-line\r\n        console.error(e);\r\n      }\r\n    },\r\n\r\n    async refreshExternal() {\r\n      await this.doUpdate();\r\n    },\r\n    async refresh() {\r\n      await this.doUpdate();\r\n    },\r\n    reset() {\r\n      this.maker = {};\r\n      this.priceService = {};\r\n      this.cdpService = {};\r\n      this.proxyService = {};\r\n      this.availableCdps = {};\r\n      this.activeCdp = {};\r\n      this.makerCdp = {};\r\n      this.sysVars = {};\r\n      this.sysServices = {};\r\n      this.activeCdps = {};\r\n      this.currentCdp = {};\r\n    },\r\n    setAfterLoadPage(page) {\r\n      this.afterLoadShow = afterLoadShow[page];\r\n    },\r\n    async setupMCD() {\r\n      try {\r\n        this.currentlyLoading = 'dappsMCDMaker.load-operations';\r\n        this._typeService = this.maker.service(ServiceRoles.CDP_TYPE);\r\n        this.currentlyLoading = 'dappsMCDMaker.load-types';\r\n        this.mcdCurrencies = this._typeService.cdpTypes.reduce((acc, entry) => {\r\n          acc[entry.currency.symbol] = entry;\r\n          acc[entry.currency.symbol].symbol = entry.currency.symbol;\r\n          return acc;\r\n        }, {});\r\n\r\n        this.collateralList = collateralOptions(this.mcdCurrencies);\r\n      } catch (e) {\r\n        // eslint-disable-next-line\r\n        console.error(e);\r\n      }\r\n    },\r\n    async setup() {\r\n      this.activeCdps = {};\r\n      this.currentCdp = {};\r\n      const web3 = this.web3;\r\n      const _self = this;\r\n      if (!this.showLoading) {\r\n        this.gotoHome();\r\n      } else {\r\n        this.gotoLoading();\r\n      }\r\n\r\n      try {\r\n        this.currentlyLoading = 'dappsMCDMaker.loading-wallet';\r\n        const MewMakerPlugin = MewPlugin(\r\n          web3,\r\n          _self.account.address,\r\n          async () => {\r\n            if (_self.$route.path.includes('maker-dai')) {\r\n              await _self.doUpdate();\r\n            }\r\n          }\r\n        );\r\n\r\n        this.maker = await Maker.create('inject', {\r\n          provider: { inject: web3.currentProvider },\r\n          plugins: [\r\n            [\r\n              McdPlugin,\r\n              {\r\n                network: this.network.type.name === 'KOV' ? 'kovan' : 'mainnet',\r\n                prefetch: true\r\n              }\r\n            ],\r\n            MewMakerPlugin\r\n          ],\r\n          log: true,\r\n          autoAuthenticate: true,\r\n          web3: {\r\n            pollingInterval: null,\r\n            inject: web3.currentProvider\r\n          },\r\n          accounts: {\r\n            myLedger1: { type: 'mew' }\r\n          }\r\n        });\r\n      } catch (e) {\r\n        // eslint-disable-next-line\r\n        console.error(e);\r\n      }\r\n\r\n      this.setupMCD();\r\n      try {\r\n        this.currentlyLoading = 'dappsMCDMaker.loading-system';\r\n\r\n        await setupServices(this, this.maker);\r\n\r\n        await setupPriceAndRatios(this, this._priceService, this._typeService);\r\n\r\n        this.proxyAddress = await this._proxyService.currentProxy();\r\n        await getDetailsForTokens(this, this._typeService.cdpTypes);\r\n\r\n        await checkAllowances(this, this.account.address, this.proxyAddress);\r\n\r\n        this.daiToken = this.tokens['DAI'];\r\n        this.daiBalance = this.balances['DAI'];\r\n        this.mkrToken = this.tokens['MKR'];\r\n        this.mkrBalance = this.balances['MKR'];\r\n\r\n        this.minEth = toBigNumber(0.05);\r\n        this.systemValues = {\r\n          stabilityFee: this.stabilityFee,\r\n          minEth: this.minEth,\r\n          liquidationRatio: this.liquidationRatio,\r\n          liquidationPenalty: this.liquidationPenalty,\r\n          targetPrice: this._targetPrice\r\n        };\r\n\r\n        this.currentProxy = await this.getProxy();\r\n\r\n        this.currentlyLoading = 'dappsMCDMaker.loading-locating-vaults';\r\n        try {\r\n          const { withType, withProxy, withoutProxy } = await locateCdps(\r\n            this,\r\n            this._mcdManager\r\n          );\r\n          this.cdpsWithType = withType;\r\n          this.cdps = withProxy;\r\n          this.cdpsWithoutProxy = withoutProxy;\r\n        } catch (e) {\r\n          // eslint-disable-next-line\r\n          console.error(e);\r\n        }\r\n\r\n        if (this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0) {\r\n          this.currentlyLoading = 'dappsMCDMaker.loading-vaults';\r\n          await this.loadCdpDetails(this.cdps, this.cdpsWithoutProxy);\r\n        }\r\n      } catch (e) {\r\n        // eslint-disable-next-line\r\n        console.error(e);\r\n      }\r\n\r\n      if (this.showLoading) {\r\n        if (this.afterLoadShow === 'CREATE') {\r\n          this.makerActive = true;\r\n          this.gotoCreate();\r\n        } else {\r\n          if (this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0) {\r\n            this.cdpDetailsLoaded = true;\r\n            this.makerActive = true;\r\n            if (\r\n              this.$route.name !== 'create' &&\r\n              this.$route.path.includes('maker-dai')\r\n            ) {\r\n              this.goToManage();\r\n            }\r\n          } else {\r\n            this.gotoCreate();\r\n          }\r\n        }\r\n      } else {\r\n        this.cdpDetailsLoaded = true;\r\n        this.makerActive = true;\r\n      }\r\n    },\r\n    async setupCdpManageFunc(cdpId) {\r\n      cdpId = CdpNum(cdpId);\r\n      const _self = this;\r\n      await setupCdpManage(_self, cdpId);\r\n      this.setActiveCdpId(cdpId);\r\n    },\r\n\r\n    setActiveCdpId(id) {\r\n      this.activeCdpId = id;\r\n      this.activeValues.cdpId = id;\r\n    },\r\n    showDeposit() {\r\n      this.$refs.deposit.$refs.modal.show();\r\n    },\r\n    showWithdraw() {\r\n      this.$refs.withdraw.$refs.modal.show();\r\n    },\r\n    showPayback() {\r\n      this.$refs.payback.$refs.modal.show();\r\n    },\r\n    showGenerate() {\r\n      this.$refs.generate.$refs.modal.show();\r\n    },\r\n    showClose() {\r\n      this.$refs.closeCdp.$refs.modal.$on('hidden', () => {\r\n        this.$emit('modalHidden');\r\n      });\r\n      this.$refs.closeCdp.$refs.modal.show();\r\n    },\r\n    showMove() {\r\n      this.$refs.moveCdp.$refs.modal.$on('hidden', () => {\r\n        this.$emit('modalHidden');\r\n      });\r\n      this.destAddressHasProxy = false;\r\n      this.$refs.moveCdp.$refs.modal.show();\r\n    },\r\n    toUSD(eth) {\r\n      if (eth === undefined || eth === null) return toBigNumber(0);\r\n      return this.ethPrice.times(toBigNumber(eth));\r\n    },\r\n    async updateActiveCdp() {\r\n      await updateActiveCdp(this);\r\n      if (\r\n        this.cdps.length === 0 &&\r\n        this.cdpsWithoutProxy.length === 0 &&\r\n        !(this.$route.name === 'save')\r\n      ) {\r\n        this.gotoCreate();\r\n      } else if (this.$route.name === 'save') {\r\n        this.goToSave();\r\n      }\r\n    },\r\n    wipeDai(val) {\r\n      this.currentCdp.wipeDai(val);\r\n    },\r\n\r\n    // Navigation =============================================================\r\n    gotoHome() {\r\n      this.$router.push({\r\n        name: 'Maker'\r\n      });\r\n    },\r\n    gotoLoading() {\r\n      this.$router.push({\r\n        name: 'makerLoading'\r\n      });\r\n    },\r\n    gotoCreate() {\r\n      if (this.$route.path.includes('maker-dai')) {\r\n        if (this.$route.name === 'save') {\r\n          this.goToSave();\r\n        } else {\r\n          this.activeValues = this.systemValues;\r\n          this.$router.push({\r\n            name: 'create'\r\n          });\r\n        }\r\n      }\r\n    },\r\n    goToSave() {\r\n      if (this.$route.path.includes('maker-dai')) {\r\n        this.$router.push({\r\n          name: 'save'\r\n        });\r\n      }\r\n    },\r\n    migrateDai() {\r\n      if (this.$route.path.includes('maker-dai')) {\r\n        this.$router.push({\r\n          name: 'migrateDAI'\r\n        });\r\n      }\r\n    },\r\n    goToManage() {\r\n      if (this.$route.path.includes('maker-dai')) {\r\n        if (this.showLoading) {\r\n          this.gotoLoading();\r\n        }\r\n        if (this.cdps.length === 1) {\r\n          this.setActiveCdpId(this.cdps[0]);\r\n          this.$router.push({\r\n            name: 'manage',\r\n            params: {\r\n              cdpId: this.cdps[0]\r\n            }\r\n          });\r\n        } else if (this.cdpsWithoutProxy.length === 1) {\r\n          this.$router.push({\r\n            name: 'migrate',\r\n            params: {\r\n              cdpId: this.cdpsWithoutProxy[0]\r\n            }\r\n          });\r\n        } else if (this.showManage) {\r\n          // The listing screen may not work and can be removed\r\n          this.$router.push({\r\n            name: 'select'\r\n          });\r\n        } else {\r\n          this.gotoCreate();\r\n        }\r\n      }\r\n    },\r\n    openManage(cdpId) {\r\n      if (this.$route.path.includes('maker-dai')) {\r\n        this.setupCdpManageFunc(cdpId);\r\n        this.$router.push({\r\n          name: 'manage',\r\n          params: {\r\n            cdpId: cdpId\r\n          }\r\n        });\r\n      }\r\n    },\r\n    openMigrate(cdpId) {\r\n      if (this.$route.path.includes('maker-dai')) {\r\n        if (typeof cdpId !== 'number') cdpId = cdpId.id;\r\n        this.setupCdpManageFunc(cdpId);\r\n        this.$router.push({\r\n          name: 'migrate',\r\n          params: {\r\n            cdpId: cdpId\r\n          }\r\n        });\r\n      }\r\n    },\r\n    proceedtoCreateOrManage() {\r\n      this.showLoading = true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'MakerDai.scss';\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MakerDai.vue?vue&type=template&id=fb36bf04&scoped=true&\"\nimport script from \"./MakerDai.vue?vue&type=script&lang=js&\"\nexport * from \"./MakerDai.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MakerDai.vue?vue&type=style&index=0&id=fb36bf04&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb36bf04\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=style&index=0&id=4277781f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=style&index=0&id=4277781f&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=style&index=0&id=85fe6b96&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=style&index=0&id=85fe6b96&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=style&index=0&id=23d1ceb6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=style&index=0&id=23d1ceb6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"interface-footer\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n  <div class=\"interface-footer\"></div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {};\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.interface-footer {\r\n  height: 10px;\r\n  border-radius: 0 0 5px 5px;\r\n  background-color: white;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InterfaceContainerFooter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InterfaceContainerFooter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InterfaceContainerFooter.vue?vue&type=template&id=86215c6a&scoped=true&lang=html&\"\nimport script from \"./InterfaceContainerFooter.vue?vue&type=script&lang=js&\"\nexport * from \"./InterfaceContainerFooter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InterfaceContainerFooter.vue?vue&type=style&index=0&id=86215c6a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"86215c6a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpandingOption.vue?vue&type=style&index=0&id=8e734f0a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExpandingOption.vue?vue&type=style&index=0&id=8e734f0a&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InterfaceContainerFooter.vue?vue&type=style&index=0&id=86215c6a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InterfaceContainerFooter.vue?vue&type=style&index=0&id=86215c6a&lang=scss&scoped=true&\""],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/dapps/Unstoppable/containers/ConfirmContainer/ConfirmContainer.vue?c6b3","webpack:///src/dapps/Unstoppable/containers/ConfirmContainer/ConfirmContainer.vue","webpack:///./src/dapps/Unstoppable/containers/ConfirmContainer/ConfirmContainer.vue?1d32","webpack:///./src/dapps/Unstoppable/containers/ConfirmContainer/ConfirmContainer.vue","webpack:///./src/dapps/Unstoppable/containers/ConfirmContainer/ConfirmContainer.vue?5b6d","webpack:///./src/assets/images/icons/domain.svg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","cartItem","key","_v","_s","label","extension","price","cartTotal","$t","amount","numberDomains","cart","length","on","$event","goBack","class","attrs","loading","submit","directives","name","rawName","value","expression","staticRenderFns","props","type","Array","default","account","Object","email","String","setOrderNumber","Function","tokenId","data","confirmOptions","confirmImg","publishableKey","token","charge","paymentError","computed","reduce","a","b","beforeMount","$router","push","methods","address","fetch","owner","resolution","crypto","component","module","exports"],"mappings":"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","file":"js/chunk-340d0b6e.4102acde.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"confirm-container\"},[_c('div',{staticClass:\"domain-header\"},[_c('div',{staticClass:\"items-container\"},_vm._l((_vm.cart),function(cartItem){return _c('h4',{key:((cartItem.label) + \".\" + (cartItem.extension))},[_vm._v(\" \"+_vm._s(cartItem.label + '.' + cartItem.extension)+\" - $\"+_vm._s(cartItem.price)+\" \")])}),0),_c('h4',{staticClass:\"domain-price\"},[_vm._v(\"$\"+_vm._s(_vm.cartTotal))])]),_c('div',{staticClass:\"confirm-form-container\"},[_c('div',{staticClass:\"confirm-form-field-container\"},[_c('h4',{staticClass:\"confirm-payment-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.confirm-payment', { amount: _vm.cartTotal, numberDomains: _vm.cart.length }))+\" \")]),_c('div',{staticClass:\"btn-container\"},[_c('button',{staticClass:\"back-btn\",on:{\"click\":function($event){return _vm.goBack()}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('common.back'))+\" \")])]),_c('button',{class:[\n              'large-round-button-green-filled clickable confirm-button'\n            ],attrs:{\"disabled\":_vm.loading},on:{\"click\":_vm.submit}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.pay'))+\" \")]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fa fa-spinner fa-spin\"})])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n  <div>\r\n    <div class=\"confirm-container\">\r\n      <div class=\"domain-header\">\r\n        <div class=\"items-container\">\r\n          <h4\r\n            v-for=\"cartItem of cart\"\r\n            :key=\"`${cartItem.label}.${cartItem.extension}`\"\r\n          >\r\n            {{ cartItem.label + '.' + cartItem.extension }} - ${{\r\n              cartItem.price\r\n            }}\r\n          </h4>\r\n        </div>\r\n        <h4 class=\"domain-price\">${{ cartTotal }}</h4>\r\n      </div>\r\n      <div class=\"confirm-form-container\">\r\n        <div class=\"confirm-form-field-container\">\r\n          <h4 class=\"confirm-payment-text\">\r\n            {{\r\n              $t('unstoppable.confirm-payment', {\r\n                amount: cartTotal,\r\n                numberDomains: cart.length\r\n              })\r\n            }}\r\n          </h4>\r\n          <div class=\"btn-container\">\r\n            <button class=\"back-btn\" @click=\"goBack()\">\r\n              <span>\r\n                {{ $t('common.back') }}\r\n              </span>\r\n            </button>\r\n            <button\r\n              :class=\"[\r\n                'large-round-button-green-filled clickable confirm-button'\r\n              ]\"\r\n              :disabled=\"loading\"\r\n              @click=\"submit\"\r\n            >\r\n              <span v-show=\"!loading\">\r\n                {{ $t('unstoppable.pay') }}\r\n              </span>\r\n              <i v-show=\"loading\" class=\"fa fa-spinner fa-spin\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport confirmImg from '@/assets/images/icons/domain.svg';\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n  props: {\r\n    cart: {\r\n      type: Array,\r\n      default: () => {\r\n        return [];\r\n      }\r\n    },\r\n    account: {\r\n      type: Object,\r\n      default: function () {}\r\n    },\r\n    email: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    setOrderNumber: {\r\n      type: Function,\r\n      default: function () {}\r\n    },\r\n    tokenId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      confirmOptions: {},\r\n      confirmImg,\r\n      publishableKey: 'pk_live_HAPE6Nv5bfhCJYKe6Nfaaj4P',\r\n      token: null,\r\n      charge: null,\r\n      loading: false,\r\n      paymentError: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('main', ['online']),\r\n    cartTotal() {\r\n      return this.cart.reduce((a, b) => {\r\n        return a + b.price;\r\n      }, 0);\r\n    }\r\n  },\r\n  beforeMount() {\r\n    if (!this.cart.length === '' || !this.cartTotal) {\r\n      this.$router.push('/interface/dapps/unstoppable');\r\n    }\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      this.$router.push('/interface/dapps/unstoppable');\r\n    },\r\n    submit() {\r\n      if (!this.account || !this.account.address) {\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      fetch(\r\n        `https://unstoppabledomains.com/api/v1/resellers/myetherwallet/users/${this.email}/orders`,\r\n        {\r\n          method: 'POST',\r\n          headers: {\r\n            'content-type': 'Application/JSON'\r\n          },\r\n          body: JSON.stringify({\r\n            order: {\r\n              domains: this.cart.map(cartItem => ({\r\n                name: cartItem.label + '.' + cartItem.extension,\r\n                owner: { address: this.account.address },\r\n                resolution: {\r\n                  crypto: { ETH: { address: this.account.address } }\r\n                }\r\n              })),\r\n              payment: {\r\n                type: 'stripe',\r\n                tokenId: this.tokenId\r\n              }\r\n            }\r\n          })\r\n        }\r\n      )\r\n        .then(resp => {\r\n          if (resp.status === 200) {\r\n            return resp.json();\r\n          }\r\n          throw new Error('Failed to submit payment');\r\n        })\r\n        .then(({ order }) => {\r\n          this.setOrderNumber(order.orderNumber);\r\n          this.$router.push('/interface/dapps/unstoppable/claim-pending');\r\n        })\r\n        .catch(() => {\r\n          this.paymentError = true;\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'ConfirmContainer.scss';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmContainer.vue?vue&type=template&id=70edac50&scoped=true&lang=html&\"\nimport script from \"./ConfirmContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConfirmContainer.vue?vue&type=style&index=0&id=70edac50&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70edac50\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmContainer.vue?vue&type=style&index=0&id=70edac50&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmContainer.vue?vue&type=style&index=0&id=70edac50&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/domain.ead4c542.svg\";"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/dapps/Unstoppable/Unstoppable.vue?f859","webpack:///./src/assets/images/icons/dapps/unstoppable-blue.png","webpack:///./src/dapps/Unstoppable/Unstoppable.vue?2e0f","webpack:///src/dapps/Unstoppable/Unstoppable.vue","webpack:///./src/dapps/Unstoppable/Unstoppable.vue?b08e","webpack:///./src/dapps/Unstoppable/Unstoppable.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","orderNumber","expression","attrs","$route","$t","scopedSlots","_u","key","fn","class","on","navigateHeaderButtons","_v","_s","proxy","cart","domainsClaimed","search","searchErr","domainName","searchResults","tokenId","checkDomain","domainNameErr","loading","account","web3","email","copiedToClipboard","setTokenId","setOrderNumber","setDomain","setDomainsClaimed","addItemToCart","removeItemFromCart","updateSearch","staticRenderFns","components","BackButton","data","computed","tld","tldPosition","mounted","$nextTick","methods","path","$router","push","setup","domainPrice","registrarTLD","parsedTld","parsedHostName","length","hasTld","searchLabel","replace","Error","filter","component"],"mappings":"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","file":"js/chunk-be68e876.19414db9.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unstoppable.vue?vue&type=style&index=0&id=5c7c81e6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unstoppable.vue?vue&type=style&index=0&id=5c7c81e6&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/unstoppable-blue.ac7ef481.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"unstoppable-container\"},[_c('back-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.orderNumber),expression:\"!orderNumber\"}],attrs:{\"path\":_vm.$route.name === 'manageCrypto'\n        ? '/interface/dapps/unstoppable/manage'\n        : '/interface/dapps/',\"title\":_vm.$t('common.exit-dapp')},scopedSlots:_vm._u([{key:\"center\",fn:function(){return [_c('div',{staticClass:\"button-container\"},[_c('b-button',{class:[\n            'action-btn',\n            _vm.$route.name === 'unstoppableInitialState' ? 'active-btn' : ''\n          ],on:{\"click\":function () {\n              _vm.navigateHeaderButtons('register');\n            }}},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.register-domain'))+\" \")]),_c('b-button',{class:[\n            'action-btn',\n            _vm.$route.name === 'manageInitialState' ||\n            _vm.$route.name === 'manageCrypto'\n              ? 'active-btn'\n              : ''\n          ],on:{\"click\":function () {\n              _vm.navigateHeaderButtons('manager');\n            }}},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.manage-domain'))+\" \")])],1)]},proxy:true}])}),_c('div',{staticClass:\"branding-container\"},[_c('div',{staticClass:\"name-container\"},[_c('img',{attrs:{\"height\":\"33\",\"src\":require(\"@/assets/images/icons/dapps/unstoppable-blue.png\"),\"alt\":\"Unstoppable\"}}),_c('span',[_vm._v(_vm._s(_vm.$t('unstoppable.title')))])]),_c('div',{staticClass:\"about-text\"},[_vm._v(_vm._s(_vm.$t('unstoppable.about-unstoppable')))])]),_c('router-view',{attrs:{\"cart\":_vm.cart,\"domains-claimed\":_vm.domainsClaimed,\"search\":_vm.search,\"search-err\":_vm.searchErr,\"domain-name\":_vm.domainName,\"search-results\":_vm.searchResults,\"token-id\":_vm.tokenId,\"check-domain\":_vm.checkDomain,\"domain-name-err\":_vm.domainNameErr,\"loading\":_vm.loading,\"account\":_vm.account,\"web3\":_vm.web3,\"email\":_vm.email,\"copied-to-clipboard\":_vm.copiedToClipboard,\"order-number\":_vm.orderNumber,\"set-token-id\":_vm.setTokenId,\"set-order-number\":_vm.setOrderNumber,\"set-domain\":_vm.setDomain,\"set-domains-claimed\":_vm.setDomainsClaimed,\"add-item-to-cart\":_vm.addItemToCart,\"remove-item-from-cart\":_vm.removeItemFromCart},on:{\"searchChange\":_vm.updateSearch}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"unstoppable-container\">\n    <back-button\n      v-show=\"!orderNumber\"\n      :path=\"\n        $route.name === 'manageCrypto'\n          ? '/interface/dapps/unstoppable/manage'\n          : '/interface/dapps/'\n      \"\n      :title=\"$t('common.exit-dapp')\"\n    >\n      <template v-slot:center>\n        <div class=\"button-container\">\n          <b-button\n            :class=\"[\n              'action-btn',\n              $route.name === 'unstoppableInitialState' ? 'active-btn' : ''\n            ]\"\n            @click=\"\n              () => {\n                navigateHeaderButtons('register');\n              }\n            \"\n          >\n            {{ $t('unstoppable.register-domain') }}\n          </b-button>\n          <b-button\n            :class=\"[\n              'action-btn',\n              $route.name === 'manageInitialState' ||\n              $route.name === 'manageCrypto'\n                ? 'active-btn'\n                : ''\n            ]\"\n            @click=\"\n              () => {\n                navigateHeaderButtons('manager');\n              }\n            \"\n          >\n            {{ $t('unstoppable.manage-domain') }}\n          </b-button>\n        </div>\n      </template>\n    </back-button>\n    <div class=\"branding-container\">\n      <div class=\"name-container\">\n        <img\n          height=\"33\"\n          src=\"@/assets/images/icons/dapps/unstoppable-blue.png\"\n          alt=\"Unstoppable\"\n        />\n        <span>{{ $t('unstoppable.title') }}</span>\n      </div>\n      <div class=\"about-text\">{{ $t('unstoppable.about-unstoppable') }}</div>\n    </div>\n    <router-view\n      :cart=\"cart\"\n      :domains-claimed=\"domainsClaimed\"\n      :search=\"search\"\n      :search-err=\"searchErr\"\n      :domain-name=\"domainName\"\n      :search-results=\"searchResults\"\n      :token-id=\"tokenId\"\n      :check-domain=\"checkDomain\"\n      :domain-name-err=\"domainNameErr\"\n      :loading=\"loading\"\n      :account=\"account\"\n      :web3=\"web3\"\n      :email=\"email\"\n      :copied-to-clipboard=\"copiedToClipboard\"\n      :order-number=\"orderNumber\"\n      :set-token-id=\"setTokenId\"\n      :set-order-number=\"setOrderNumber\"\n      :set-domain=\"setDomain\"\n      :set-domains-claimed=\"setDomainsClaimed\"\n      :add-item-to-cart=\"addItemToCart\"\n      :remove-item-from-cart=\"removeItemFromCart\"\n      @searchChange=\"updateSearch\"\n    />\n  </div>\n</template>\n\n<script>\nimport '@stripe/stripe-js';\nimport { mapState } from 'vuex';\nimport BackButton from '@/layouts/InterfaceLayout/components/BackButton';\nimport { Toast } from '@/helpers';\nimport { get } from '@/helpers/httpRequests';\n\nexport default {\n  components: {\n    'back-button': BackButton\n  },\n  data() {\n    return {\n      search: '',\n      searchResults: [],\n      cart: [],\n      domainsClaimed: [],\n      searchErr: false,\n      domainName: '',\n      tokenId: '',\n      domainNameErr: false,\n      loading: false,\n      orderNumber: 0,\n      email: 'mew@unstoppabledomains.com'\n    };\n  },\n  computed: {\n    ...mapState('main', ['web3', 'network', 'account']),\n    tld() {\n      if (!this.search) {\n        return '';\n      }\n      const tldPosition = this.search.lastIndexOf('.');\n      return tldPosition !== -1\n        ? this.search.substr(tldPosition + 1, this.search.length)\n        : '';\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.setup();\n    });\n  },\n  methods: {\n    navigateHeaderButtons(path) {\n      if (path === 'register') {\n        this.$router.push({ name: `unstoppableInitialState` });\n      } else {\n        this.$router.push({\n          name: `manageInitialState`\n        });\n      }\n    },\n    setDomainsClaimed(domainsClaimed) {\n      this.domainsClaimed = domainsClaimed;\n    },\n    setDomain(domainName) {\n      this.domainName = domainName;\n      if (domainName !== '') {\n        this.$router.push({ name: `manageCrypto` });\n      } else {\n        this.$router.push({\n          name: `manageInitialState`\n        });\n      }\n    },\n    setup() {\n      this.domainNameErr = false;\n      this.loading = false;\n      this.domainPrice = 0;\n      this.registrarTLD = 'crypto';\n    },\n    copiedToClipboard() {\n      Toast.responseHandler(this.$t('common.copied'), Toast.INFO);\n    },\n    parsedTld() {\n      if (this.parsedHostName().length) {\n        const hasTld = this.search.lastIndexOf('.');\n        return hasTld > -1\n          ? this.search.substr(hasTld + 1, this.search.length)\n          : this.registrarTLD;\n      }\n      return '';\n    },\n    searchLabel() {\n      return this.search.replace(`.${this.registrarTLD}`, '');\n    },\n    updateSearch(value) {\n      try {\n        this.search =\n          value.replace(`.${this.registrarTLD}`, '') + `.${this.registrarTLD}`;\n        if (\n          this.searchLabel() &&\n          (!/^[a-z\\d-]+$/.test(this.searchLabel()) ||\n            this.searchLabel().startsWith('xn--') ||\n            this.searchLabel().startsWith('0x'))\n        ) {\n          throw Error('Domain contains invalid characters');\n        }\n      } catch (e) {\n        Toast.responseHandler(e, Toast.WARN);\n        this.searchErr = true;\n        return;\n      }\n      if (this.searchLabel() && this.searchLabel().length < 6) {\n        this.searchErr = true;\n      } else {\n        this.searchErr = false;\n      }\n    },\n    setOrderNumber(orderNumber) {\n      this.orderNumber = orderNumber;\n    },\n    setTokenId(tokenId) {\n      this.tokenId = tokenId;\n    },\n    addItemToCart(item) {\n      this.cart = [\n        ...this.cart,\n        { price: item.price, label: item.label, extension: item.extension }\n      ];\n    },\n    removeItemFromCart(item) {\n      this.cart = this.cart.filter(cartItem => cartItem.label !== item.label);\n    },\n    async checkDomain() {\n      this.loading = true;\n      try {\n        const { domain } = await get(\n          `https://unstoppabledomains.com/api/v1/resellers/myetherwallet/domains/${this.search}`\n        );\n        const results = [\n          {\n            price: domain?.reselling?.price,\n            label: this.searchLabel(),\n            available: domain?.reselling?.price,\n            extension: this.registrarTLD,\n            first: true\n          }\n        ];\n        const url = `https://unstoppabledomains.com/api/v1/resellers/myetherwallet/domains/variations?domains=[\"${this.search}\"]`;\n        const similarities = await fetch(url).then(res => res.json());\n        for (const d in similarities) {\n          for (const similarity of similarities[d]) {\n            if (similarity.extension === this.registrarTLD) {\n              if (!results.map(r => r.label).includes(similarity.label)) {\n                results.push({\n                  label: similarity.label,\n                  extension: this.registrarTLD,\n                  price: similarity.price / 100,\n                  available: true\n                });\n              }\n            }\n          }\n        }\n        this.searchResults = results;\n      } catch (e) {\n        const toastText = this.$t('unstoppable.error.something-went-wrong');\n        Toast.responseHandler(toastText, Toast.ERROR);\n      }\n      this.loading = false;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'Unstoppable.scss';\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unstoppable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Unstoppable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Unstoppable.vue?vue&type=template&id=5c7c81e6&scoped=true&\"\nimport script from \"./Unstoppable.vue?vue&type=script&lang=js&\"\nexport * from \"./Unstoppable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Unstoppable.vue?vue&type=style&index=0&id=5c7c81e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c7c81e6\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/dapps/BuySubdomain/BuySubdomain.vue?6746","webpack:///./src/dapps/BuySubdomain/BuySubdomain.vue?7fd8","webpack:///./src/helpers/subdomainAbi.js","webpack:///src/dapps/BuySubdomain/BuySubdomain.vue","webpack:///./src/dapps/BuySubdomain/BuySubdomain.vue?5d2a","webpack:///./src/dapps/BuySubdomain/BuySubdomain.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","class","hasError","attrs","on","debounceInput","query","_e","directives","name","rawName","value","results","length","expression","_l","item","index","key","domainName","domain","active","web3","utils","fromWei","price","$event","buyDomain","staticRenderFns","SubdomainAbi","constant","inputs","type","outputs","payable","stateMutability","anonymous","indexed","components","InterfaceBottomText","BackButton","data","subdomainContract","ensContract","knownRegistrarInstances","computed","sortedResults","newArr","sort","ab","available","concat","taken","watch","mounted","domains","forEach","updatedDomain","contract","web3C","methods","component"],"mappings":"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","file":"js/chunk-3c097272.bb1f269d.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuySubdomain.vue?vue&type=style&index=0&id=3ce0ce68&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuySubdomain.vue?vue&type=style&index=0&id=3ce0ce68&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buy-subdomain-container\"},[_c('back-button'),_c('div',{staticClass:\"buy-subdomain-content\"},[_c('div',{staticClass:\"buy-subdomain-form-container\"},[_c('div',{staticClass:\"title\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('subDomain.title')))])]),_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"subdomain-input\"},[_c('input',{class:_vm.hasError ? 'errorInput' : '',attrs:{\"placeholder\":_vm.$t('subDomain.ph-enter-name'),\"type\":\"text\"},on:{\"input\":_vm.debounceInput}}),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.query}},[_vm._v(\" \"+_vm._s(_vm.$t('subDomain.check'))+\" \")])]),(_vm.hasError)?_c('p',{staticClass:\"errorText\"},[_c('span',[_vm._v(_vm._s(_vm.$t('subDomain.invalid-symbol')))])]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.results.length > 0),expression:\"results.length > 0\"}],staticClass:\"result-section\"},[_c('div',{staticClass:\"title\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('subDomain.all')))])]),_c('div',{staticClass:\"results-container\"},_vm._l((_vm.sortedResults),function(item,index){return _c('div',{key:_vm.domainName + item.domain + index,class:[item.active ? '' : 'disabled', 'result-item']},[_c('span',{staticClass:\"domain-name\"},[_vm._v(_vm._s(_vm.domainName)+\".\"+_vm._s(item.domain)+\".eth\")]),_c('div',{staticClass:\"buy-button-container\"},[_c('span',{staticClass:\"amt\"},[_vm._v(_vm._s(_vm.web3.utils.fromWei(item.price, 'ether'))+\" \"+_vm._s(_vm.$t('common.currency.eth')))]),_c('button',{on:{\"click\":function($event){return _vm.buyDomain(item)}}},[(item.active)?_c('span',[_vm._v(_vm._s(_vm.$t('subDomain.buy')))]):_c('span',[_c('i',{staticClass:\"fa fa-times\"})])])])])}),0)])]),_c('div',[_c('interface-bottom-text',{attrs:{\"link-text\":_vm.$t('common.help-center'),\"question\":_vm.$t('common.have-issues'),\"link\":\"https://kb.myetherwallet.com\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const SubdomainAbi = [\r\n  {\r\n    constant: true,\r\n    inputs: [\r\n      {\r\n        name: 'interfaceID',\r\n        type: 'bytes4'\r\n      }\r\n    ],\r\n    name: 'supportsInterface',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'bool'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'pure',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [\r\n      {\r\n        name: 'label',\r\n        type: 'bytes32'\r\n      }\r\n    ],\r\n    name: 'owner',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [],\r\n    name: 'stop',\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: 'name',\r\n        type: 'string'\r\n      }\r\n    ],\r\n    name: 'upgrade',\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'migration',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'registrarOwner',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [\r\n      {\r\n        name: 'label',\r\n        type: 'bytes32'\r\n      },\r\n      {\r\n        name: 'subdomain',\r\n        type: 'string'\r\n      }\r\n    ],\r\n    name: 'query',\r\n    outputs: [\r\n      {\r\n        name: 'domain',\r\n        type: 'string'\r\n      },\r\n      {\r\n        name: 'price',\r\n        type: 'uint256'\r\n      },\r\n      {\r\n        name: 'rent',\r\n        type: 'uint256'\r\n      },\r\n      {\r\n        name: 'referralFeePPM',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'hashRegistrar',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'ens',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: 'label',\r\n        type: 'bytes32'\r\n      },\r\n      {\r\n        name: 'subdomain',\r\n        type: 'string'\r\n      },\r\n      {\r\n        name: 'subdomainOwner',\r\n        type: 'address'\r\n      },\r\n      {\r\n        name: 'referrer',\r\n        type: 'address'\r\n      },\r\n      {\r\n        name: 'resolver',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    name: 'register',\r\n    outputs: [],\r\n    payable: true,\r\n    stateMutability: 'payable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: '_migration',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    name: 'setMigrationAddress',\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [\r\n      {\r\n        name: 'label',\r\n        type: 'bytes32'\r\n      },\r\n      {\r\n        name: 'subdomain',\r\n        type: 'string'\r\n      }\r\n    ],\r\n    name: 'rentDue',\r\n    outputs: [\r\n      {\r\n        name: 'timestamp',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: 'name',\r\n        type: 'string'\r\n      },\r\n      {\r\n        name: 'resolver',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    name: 'setResolver',\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'stopped',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'bool'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: 'TLD_NODE',\r\n    outputs: [\r\n      {\r\n        name: '',\r\n        type: 'bytes32'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'view',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: 'name',\r\n        type: 'string'\r\n      }\r\n    ],\r\n    name: 'migrate',\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: 'label',\r\n        type: 'bytes32'\r\n      },\r\n      {\r\n        name: 'subdomain',\r\n        type: 'string'\r\n      }\r\n    ],\r\n    name: 'payRent',\r\n    outputs: [],\r\n    payable: true,\r\n    stateMutability: 'payable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: 'name',\r\n        type: 'string'\r\n      },\r\n      {\r\n        name: 'price',\r\n        type: 'uint256'\r\n      },\r\n      {\r\n        name: 'referralFeePPM',\r\n        type: 'uint256'\r\n      },\r\n      {\r\n        name: '_owner',\r\n        type: 'address'\r\n      },\r\n      {\r\n        name: '_transfer',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    name: 'configureDomainFor',\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: 'name',\r\n        type: 'string'\r\n      },\r\n      {\r\n        name: 'price',\r\n        type: 'uint256'\r\n      },\r\n      {\r\n        name: 'referralFeePPM',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    name: 'configureDomain',\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: 'name',\r\n        type: 'string'\r\n      },\r\n      {\r\n        name: 'transfer',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    name: 'setTransferAddress',\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: 'name',\r\n        type: 'string'\r\n      }\r\n    ],\r\n    name: 'unlistDomain',\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: 'newOwner',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    name: 'transferOwnership',\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: 'name',\r\n        type: 'string'\r\n      },\r\n      {\r\n        name: 'newOwner',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    name: 'transfer',\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'function'\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        name: '_ens',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: 'nonpayable',\r\n    type: 'constructor'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        name: 'label',\r\n        type: 'bytes32'\r\n      },\r\n      {\r\n        indexed: false,\r\n        name: 'addr',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    name: 'TransferAddressSet',\r\n    type: 'event'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        name: 'label',\r\n        type: 'bytes32'\r\n      },\r\n      {\r\n        indexed: false,\r\n        name: 'name',\r\n        type: 'string'\r\n      }\r\n    ],\r\n    name: 'DomainTransferred',\r\n    type: 'event'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        name: 'label',\r\n        type: 'bytes32'\r\n      },\r\n      {\r\n        indexed: true,\r\n        name: 'oldOwner',\r\n        type: 'address'\r\n      },\r\n      {\r\n        indexed: true,\r\n        name: 'newOwner',\r\n        type: 'address'\r\n      }\r\n    ],\r\n    name: 'OwnerChanged',\r\n    type: 'event'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        name: 'label',\r\n        type: 'bytes32'\r\n      }\r\n    ],\r\n    name: 'DomainConfigured',\r\n    type: 'event'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        name: 'label',\r\n        type: 'bytes32'\r\n      }\r\n    ],\r\n    name: 'DomainUnlisted',\r\n    type: 'event'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        name: 'label',\r\n        type: 'bytes32'\r\n      },\r\n      {\r\n        indexed: false,\r\n        name: 'subdomain',\r\n        type: 'string'\r\n      },\r\n      {\r\n        indexed: true,\r\n        name: 'owner',\r\n        type: 'address'\r\n      },\r\n      {\r\n        indexed: true,\r\n        name: 'referrer',\r\n        type: 'address'\r\n      },\r\n      {\r\n        indexed: false,\r\n        name: 'price',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    name: 'NewRegistration',\r\n    type: 'event'\r\n  },\r\n  {\r\n    anonymous: false,\r\n    inputs: [\r\n      {\r\n        indexed: true,\r\n        name: 'label',\r\n        type: 'bytes32'\r\n      },\r\n      {\r\n        indexed: false,\r\n        name: 'subdomain',\r\n        type: 'string'\r\n      },\r\n      {\r\n        indexed: false,\r\n        name: 'amount',\r\n        type: 'uint256'\r\n      },\r\n      {\r\n        indexed: false,\r\n        name: 'expirationDate',\r\n        type: 'uint256'\r\n      }\r\n    ],\r\n    name: 'RentPaid',\r\n    type: 'event'\r\n  }\r\n];\r\n\r\nexport default SubdomainAbi;\r\n","<template>\r\n  <div class=\"buy-subdomain-container\">\r\n    <back-button />\r\n    <div class=\"buy-subdomain-content\">\r\n      <div class=\"buy-subdomain-form-container\">\r\n        <div class=\"title\">\r\n          <h4>{{ $t('subDomain.title') }}</h4>\r\n        </div>\r\n        <div class=\"form\">\r\n          <div class=\"subdomain-input\">\r\n            <input\r\n              :placeholder=\"$t('subDomain.ph-enter-name')\"\r\n              :class=\"hasError ? 'errorInput' : ''\"\r\n              type=\"text\"\r\n              @input=\"debounceInput\"\r\n            />\r\n            <button type=\"button\" @click=\"query\">\r\n              {{ $t('subDomain.check') }}\r\n            </button>\r\n          </div>\r\n          <p v-if=\"hasError\" class=\"errorText\">\r\n            <span>{{ $t('subDomain.invalid-symbol') }}</span>\r\n          </p>\r\n        </div>\r\n        <div v-show=\"results.length > 0\" class=\"result-section\">\r\n          <div class=\"title\">\r\n            <h4>{{ $t('subDomain.all') }}</h4>\r\n          </div>\r\n          <div class=\"results-container\">\r\n            <div\r\n              v-for=\"(item, index) in sortedResults\"\r\n              :key=\"domainName + item.domain + index\"\r\n              :class=\"[item.active ? '' : 'disabled', 'result-item']\"\r\n            >\r\n              <span class=\"domain-name\"\r\n                >{{ domainName }}.{{ item.domain }}.eth</span\r\n              >\r\n              <div class=\"buy-button-container\">\r\n                <span class=\"amt\"\r\n                  >{{ web3.utils.fromWei(item.price, 'ether') }}\r\n                  {{ $t('common.currency.eth') }}</span\r\n                >\r\n                <button @click=\"buyDomain(item)\">\r\n                  <span v-if=\"item.active\">{{ $t('subDomain.buy') }}</span>\r\n                  <span v-else>\r\n                    <i class=\"fa fa-times\" />\r\n                  </span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <interface-bottom-text\r\n          :link-text=\"$t('common.help-center')\"\r\n          :question=\"$t('common.have-issues')\"\r\n          link=\"https://kb.myetherwallet.com\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport InterfaceBottomText from '@/components/InterfaceBottomText';\r\nimport BackButton from '@/layouts/InterfaceLayout/components/BackButton';\r\nimport SubdomainAbi from '@/helpers/subdomainAbi.js';\r\nimport domains from './domains.json';\r\nimport normalise from '@/helpers/normalise';\r\nimport BigNumber from 'bignumber.js';\r\nimport web3 from 'web3';\r\nimport { mapState } from 'vuex';\r\nimport { Toast } from '@/helpers';\r\nexport default {\r\n  components: {\r\n    'interface-bottom-text': InterfaceBottomText,\r\n    'back-button': BackButton\r\n  },\r\n  data() {\r\n    return {\r\n      subdomainContract: function () {},\r\n      ensContract: function () {},\r\n      results: [],\r\n      domainName: '',\r\n      knownRegistrarInstances: {},\r\n      hasError: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('main', ['ethDonationAddress', 'ens', 'account', 'web3']),\r\n    sortedResults() {\r\n      const newArr = this.results;\r\n      newArr.sort((a, b) => {\r\n        const ab = new BigNumber(a.price).gt(b.price)\r\n          ? -1\r\n          : new BigNumber(a.price).eq(b.price)\r\n          ? 0\r\n          : 1;\r\n        return ab;\r\n      });\r\n      const taken = newArr.filter(item => {\r\n        return item.active === false;\r\n      });\r\n      const available = newArr.filter(item => {\r\n        return item.active === true;\r\n      });\r\n      return available.concat(taken);\r\n    }\r\n  },\r\n  watch: {\r\n    domainName() {\r\n      this.query();\r\n    }\r\n  },\r\n  mounted() {\r\n    const web3C = this.web3.eth.Contract;\r\n    domains.forEach(domain => {\r\n      const updatedDomain = Object.assign({}, domain);\r\n      updatedDomain.contract = new web3C(SubdomainAbi, domain.registrar);\r\n      this.knownRegistrarInstances[domain.name] = updatedDomain;\r\n    });\r\n  },\r\n  methods: {\r\n    debounceInput: web3.utils._.debounce(function (e) {\r\n      try {\r\n        this.domainName = normalise(e.target.value);\r\n        this.hasError = false;\r\n      } catch (e) {\r\n        Toast.responseHandler(e, Toast.WARN);\r\n        this.hasError = true;\r\n        return;\r\n      }\r\n    }, 1500),\r\n    async query() {\r\n      this.results = [];\r\n      const sha3 = this.web3.utils.sha3;\r\n      if (this.domainName.length > 1) {\r\n        for (const key in this.knownRegistrarInstances) {\r\n          const getSubdomain = await this.knownRegistrarInstances[\r\n            key\r\n          ].contract.methods\r\n            .query(sha3(key), this.domainName)\r\n            .call();\r\n          getSubdomain.version = this.knownRegistrarInstances[key].version;\r\n          if (getSubdomain[0] !== '') {\r\n            getSubdomain.active = true;\r\n          } else {\r\n            getSubdomain.active = false;\r\n            getSubdomain.domain = key;\r\n          }\r\n          this.results.push(getSubdomain);\r\n        }\r\n      }\r\n    },\r\n    async buyDomain(item) {\r\n      const domain = this.web3.utils.sha3(item.domain);\r\n      const subdomain = this.domainName;\r\n      const ownerAddress = this.account.address;\r\n      const referrerAddress = this.ethDonationAddress;\r\n      const resolverAddress = await this.ens.resolver('resolver.eth').addr();\r\n      const itemContract = this.knownRegistrarInstances[item.domain];\r\n      const data = await (item.version === '1.0'\r\n        ? itemContract.contract.methods\r\n            .register(\r\n              domain,\r\n              subdomain,\r\n              ownerAddress,\r\n              referrerAddress,\r\n              resolverAddress\r\n            )\r\n            .encodeABI()\r\n        : itemContract.contract.methods\r\n            .register(\r\n              domain,\r\n              subdomain,\r\n              ownerAddress,\r\n              resolverAddress,\r\n              referrerAddress\r\n            )\r\n            .encodeABI());\r\n      const raw = {\r\n        from: ownerAddress,\r\n        data: data,\r\n        to: itemContract.registrar,\r\n        value: item.price\r\n      };\r\n      this.web3.eth.sendTransaction(raw).catch(err => {\r\n        Toast.responseHandler(err, Toast.ERROR);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'BuySubdomain.scss';\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuySubdomain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuySubdomain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuySubdomain.vue?vue&type=template&id=3ce0ce68&scoped=true&\"\nimport script from \"./BuySubdomain.vue?vue&type=script&lang=js&\"\nexport * from \"./BuySubdomain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuySubdomain.vue?vue&type=style&index=0&id=3ce0ce68&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ce0ce68\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
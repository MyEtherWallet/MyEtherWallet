{"version":3,"sources":["webpack:///./src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue?2cfc","webpack:///./src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue?fae1","webpack:///src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue","webpack:///./src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue?b552","webpack:///./src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue","webpack:///./src/assets/images/icons/copy.svg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","cartItem","key","_v","_s","label","extension","price","convertedEthPrice","$t","cartTotal","directives","name","rawName","value","chargeId","expression","on","handlePayWithCardClick","paymentAddress","paymentAmount","attrs","balance","$event","goBack","class","loading","submit","copyIcon","copyPaymentAddress","ref","domProps","size","pendingPayment","confirmationsRequired","confirmations","sendPayment","staticRenderFns","props","cart","type","Array","default","email","String","account","Object","web3","copiedToClipboard","setOrderNumber","data","complete","cryptoOptions","ethPrice","computed","reduce","a","b","ethConvertPrice","beforeMount","length","$router","push","interval","setInterval","mounted","online","getEthPrice","beforeDestroy","clearInterval","methods","copyPaymentAmount","$refs","setAttribute","select","document","execCommand","eth","getCharge","fetch","address","owner","resolution","crypto","component","module","exports"],"mappings":"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","file":"js/chunk-2b40652b.e66a67ee.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CryptoContainer.vue?vue&type=style&index=0&id=6c4b27af&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CryptoContainer.vue?vue&type=style&index=0&id=6c4b27af&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crypto-container\"},[_c('div',{staticClass:\"domain-header\"},[_c('div',{staticClass:\"items-container\"},_vm._l((_vm.cart),function(cartItem){return _c('h4',{key:((cartItem.label) + \".\" + (cartItem.extension))},[_vm._v(\" \"+_vm._s(cartItem.label + '.' + cartItem.extension)+\" - $\"+_vm._s(cartItem.price)+\" \")])}),0),_c('h4',{staticClass:\"domain-price\"},[_c('span',{staticClass:\"eth-text\"},[_vm._v(_vm._s(_vm.convertedEthPrice)+\" \"+_vm._s(_vm.$t('common.currency.eth')))]),_c('span',{staticClass:\"price-text\"},[_vm._v(\"($\"+_vm._s(_vm.cartTotal)+\")\")])])]),_c('div',{staticClass:\"crypto-form-container\"},[_c('div',{staticClass:\"crypto-form-header\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('unstoppable.pay-with-crypto')))]),_c('h5',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.chargeId),expression:\"!chargeId\"}],staticClass:\"pay-with-card\",on:{\"click\":_vm.handlePayWithCardClick}},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.pay-with-credit-card'))+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.paymentAddress || !_vm.paymentAmount),expression:\"!paymentAddress || !paymentAmount\"}]},[_c('div',{staticClass:\"eth-balance-container\"},[_c('span',{staticClass:\"your-bal\"},[_vm._v(_vm._s(_vm.$t('unstoppable.your-balance')))]),_c('div',{staticClass:\"right-container\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/currency/eth.svg\"),\"alt\":\"eth\"}}),_c('div',{staticClass:\"balance\"},[_c('span',[_vm._v(_vm._s(_vm.balance))]),_c('span',{staticClass:\"eth-text\"},[_vm._v(_vm._s(_vm.$t('common.currency.eth')))])])])]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.balance < _vm.convertedEthPrice),expression:\"balance < convertedEthPrice\"}],staticClass:\"error-message\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.insufficient-balance'))+\" \")]),_c('div',{staticClass:\"btn-container\"},[_c('button',{staticClass:\"back-btn\",on:{\"click\":function($event){return _vm.goBack()}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('common.back'))+\" \")])]),_c('button',{class:[\n              _vm.balance < _vm.convertedEthPrice ? 'disabled' : '',\n              'large-round-button-green-filled clickable pay-button'\n            ],attrs:{\"disabled\":_vm.loading || _vm.balance < _vm.convertedEthPrice},on:{\"click\":_vm.submit}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.continue'))+\" \")]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fa fa-spinner fa-spin\"})])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.paymentAddress && _vm.paymentAmount),expression:\"paymentAddress && paymentAmount\"}]},[_c('div',{staticClass:\"crypto-payment-field-container\"},[_c('div',{staticClass:\"crypto-field-container\"},[_c('div',{staticClass:\"crypto-field\"},[_c('div',{staticClass:\"right\"},[_c('img',{staticClass:\"copy-button\",attrs:{\"src\":_vm.copyIcon,\"alt\":\"\"},on:{\"click\":_vm.copyPaymentAddress}}),_c('input',{ref:\"payment-address\",attrs:{\"type\":\"hidden\"},domProps:{\"value\":_vm.paymentAddress}}),_c('div',{staticClass:\"payment-addr\"},[_vm._v(_vm._s(_vm.paymentAddress))])]),_c('span',{staticClass:\"crypto-field-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.address'))+\" \")])])]),_c('div',{class:['crypto-field-container margin-bottom']},[_c('div',{staticClass:\"crypto-field-container\"},[_c('div',{staticClass:\"crypto-field\"},[_c('div',{staticClass:\"right\"},[_c('img',{staticClass:\"eth-icon\",attrs:{\"src\":require(\"@/assets/images/currency/eth.svg\"),\"alt\":\"eth\"}}),_c('input',{ref:\"payment-amount\",attrs:{\"type\":\"hidden\"},domProps:{\"value\":_vm.paymentAmount}}),_c('div',{staticClass:\"amount-container\"},[_c('div',{staticClass:\"amount-text\"},[_vm._v(_vm._s(_vm.paymentAmount))]),_c('span',{staticClass:\"eth-text\"},[_vm._v(_vm._s(_vm.$t('common.currency.eth')))])])]),_c('span',{staticClass:\"crypto-field-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.payment-amount'))+\" \")])])])]),_c('div',{class:['qr-code margin-bottom']},[_c('qrcode',{attrs:{\"value\":_vm.paymentAddress,\"options\":{ size: 160 }}})],1),_c('h6',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pendingPayment && _vm.confirmationsRequired),expression:\"pendingPayment && confirmationsRequired\"}],staticClass:\"payment-pending\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.pending-crypto-payment', { confirmations: _vm.confirmations, confirmationsRequired: _vm.confirmationsRequired }))+\" \")]),_c('div',{staticClass:\"btn-container\"},[_c('button',{staticClass:\"back-btn\",on:{\"click\":function($event){return _vm.goBack()}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('common.back'))+\" \")])]),_c('button',{class:[\n                'large-round-button-green-filled clickable pay-button send-payment-button'\n              ],attrs:{\"disabled\":_vm.loading || _vm.pendingPayment},on:{\"click\":_vm.sendPayment}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && !_vm.pendingPayment),expression:\"!loading && !pendingPayment\"}]},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.send-payment'))+\" \")]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading || _vm.pendingPayment),expression:\"loading || pendingPayment\"}],staticClass:\"fa fa-spinner fa-spin\"})])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\r\n  <div>\r\n    <div class=\"crypto-container\">\r\n      <div class=\"domain-header\">\r\n        <div class=\"items-container\">\r\n          <h4\r\n            v-for=\"cartItem of cart\"\r\n            :key=\"`${cartItem.label}.${cartItem.extension}`\"\r\n          >\r\n            {{ cartItem.label + '.' + cartItem.extension }} - ${{\r\n              cartItem.price\r\n            }}\r\n          </h4>\r\n        </div>\r\n        <h4 class=\"domain-price\">\r\n          <span class=\"eth-text\"\r\n            >{{ convertedEthPrice }} {{ $t('common.currency.eth') }}</span\r\n          >\r\n          <span class=\"price-text\">(${{ cartTotal }})</span>\r\n        </h4>\r\n      </div>\r\n      <div class=\"crypto-form-container\">\r\n        <div class=\"crypto-form-header\">\r\n          <h3>{{ $t('unstoppable.pay-with-crypto') }}</h3>\r\n          <h5\r\n            v-show=\"!chargeId\"\r\n            class=\"pay-with-card\"\r\n            @click=\"handlePayWithCardClick\"\r\n          >\r\n            {{ $t('unstoppable.pay-with-credit-card') }}\r\n          </h5>\r\n        </div>\r\n        <div v-show=\"!paymentAddress || !paymentAmount\">\r\n          <div class=\"eth-balance-container\">\r\n            <span class=\"your-bal\">{{ $t('unstoppable.your-balance') }}</span>\r\n            <div class=\"right-container\">\r\n              <img src=\"@/assets/images/currency/eth.svg\" alt=\"eth\" />\r\n              <div class=\"balance\">\r\n                <span>{{ balance }}</span>\r\n                <span class=\"eth-text\">{{ $t('common.currency.eth') }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <span v-show=\"balance < convertedEthPrice\" class=\"error-message\">\r\n            {{ $t('unstoppable.insufficient-balance') }}\r\n          </span>\r\n          <div class=\"btn-container\">\r\n            <button class=\"back-btn\" @click=\"goBack()\">\r\n              <span>\r\n                {{ $t('common.back') }}\r\n              </span>\r\n            </button>\r\n            <button\r\n              :class=\"[\r\n                balance < convertedEthPrice ? 'disabled' : '',\r\n                'large-round-button-green-filled clickable pay-button'\r\n              ]\"\r\n              :disabled=\"loading || balance < convertedEthPrice\"\r\n              @click=\"submit\"\r\n            >\r\n              <span v-show=\"!loading\">\r\n                {{ $t('unstoppable.continue') }}\r\n              </span>\r\n              <i v-show=\"loading\" class=\"fa fa-spinner fa-spin\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div v-show=\"paymentAddress && paymentAmount\">\r\n          <div class=\"crypto-payment-field-container\">\r\n            <div class=\"crypto-field-container\">\r\n              <div class=\"crypto-field\">\r\n                <div class=\"right\">\r\n                  <img\r\n                    :src=\"copyIcon\"\r\n                    class=\"copy-button\"\r\n                    alt\r\n                    @click=\"copyPaymentAddress\"\r\n                  />\r\n                  <input\r\n                    ref=\"payment-address\"\r\n                    type=\"hidden\"\r\n                    :value=\"paymentAddress\"\r\n                  />\r\n                  <div class=\"payment-addr\">{{ paymentAddress }}</div>\r\n                </div>\r\n                <span class=\"crypto-field-label\">\r\n                  {{ $t('unstoppable.address') }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div :class=\"['crypto-field-container margin-bottom']\">\r\n              <div class=\"crypto-field-container\">\r\n                <div class=\"crypto-field\">\r\n                  <div class=\"right\">\r\n                    <img\r\n                      class=\"eth-icon\"\r\n                      src=\"@/assets/images/currency/eth.svg\"\r\n                      alt=\"eth\"\r\n                    />\r\n                    <input\r\n                      ref=\"payment-amount\"\r\n                      type=\"hidden\"\r\n                      :value=\"paymentAmount\"\r\n                    />\r\n                    <div class=\"amount-container\">\r\n                      <div class=\"amount-text\">{{ paymentAmount }}</div>\r\n                      <span class=\"eth-text\">{{\r\n                        $t('common.currency.eth')\r\n                      }}</span>\r\n                    </div>\r\n                  </div>\r\n                  <span class=\"crypto-field-label\">\r\n                    {{ $t('unstoppable.payment-amount') }}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div :class=\"['qr-code margin-bottom']\">\r\n              <qrcode :value=\"paymentAddress\" :options=\"{ size: 160 }\" />\r\n            </div>\r\n\r\n            <h6\r\n              v-show=\"pendingPayment && confirmationsRequired\"\r\n              class=\"payment-pending\"\r\n            >\r\n              {{\r\n                $t('unstoppable.pending-crypto-payment', {\r\n                  confirmations: confirmations,\r\n                  confirmationsRequired: confirmationsRequired\r\n                })\r\n              }}\r\n            </h6>\r\n            <div class=\"btn-container\">\r\n              <button class=\"back-btn\" @click=\"goBack()\">\r\n                <span>\r\n                  {{ $t('common.back') }}\r\n                </span>\r\n              </button>\r\n              <button\r\n                :disabled=\"loading || pendingPayment\"\r\n                :class=\"[\r\n                  'large-round-button-green-filled clickable pay-button send-payment-button'\r\n                ]\"\r\n                @click=\"sendPayment\"\r\n              >\r\n                <span v-show=\"!loading && !pendingPayment\">\r\n                  {{ $t('unstoppable.send-payment') }}\r\n                </span>\r\n                <i\r\n                  v-show=\"loading || pendingPayment\"\r\n                  class=\"fa fa-spinner fa-spin\"\r\n                />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BigNumber from 'bignumber.js';\r\nimport copyIcon from '@/assets/images/icons/copy.svg';\r\nimport { mapState } from 'vuex';\r\nimport { Toast } from '@/helpers';\r\n\r\nexport default {\r\n  props: {\r\n    cart: {\r\n      type: Array,\r\n      default: () => {\r\n        return [];\r\n      }\r\n    },\r\n    email: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    account: {\r\n      type: Object,\r\n      default: function () {}\r\n    },\r\n    web3: {\r\n      type: Object,\r\n      default: function () {}\r\n    },\r\n    copiedToClipboard: { type: Function, default: function () {} },\r\n    setOrderNumber: { type: Function, default: function () {} }\r\n  },\r\n  data() {\r\n    return {\r\n      complete: false,\r\n      cryptoOptions: {},\r\n      loading: false,\r\n      pendingPayment: false,\r\n      paymentAddress: '',\r\n      paymentAmount: 0,\r\n      chargeId: '',\r\n      confirmations: 0,\r\n      confirmationsRequired: 0,\r\n      copyIcon,\r\n      ethPrice: 0\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('main', ['online']),\r\n    cartTotal() {\r\n      return this.cart.reduce((a, b) => {\r\n        return a + b.price;\r\n      }, 0);\r\n    },\r\n    convertedEthPrice() {\r\n      let ethConvertPrice = 0;\r\n      if (this.cartTotal > 0) {\r\n        ethConvertPrice = new BigNumber(this.cartTotal)\r\n          .dividedBy(this.ethPrice)\r\n          .toFixed(8);\r\n      }\r\n      return ethConvertPrice;\r\n    },\r\n    balance() {\r\n      return this.account && this.account.balance\r\n        ? new BigNumber(\r\n            this.web3.utils.fromWei(this.account.balance.toString())\r\n          ).toFixed(8)\r\n        : '0';\r\n    }\r\n  },\r\n  beforeMount() {\r\n    if (!this.cart.length) {\r\n      this.$router.push({ name: 'unstoppableInitialState' });\r\n    }\r\n    this.interval = setInterval(() => {\r\n      if (this.chargeId) {\r\n        this.getCharge(this.chargeId);\r\n      }\r\n    }, 8000);\r\n  },\r\n  mounted() {\r\n    if (this.online) this.getEthPrice();\r\n  },\r\n  beforeDestroy() {\r\n    if (this.interval) {\r\n      clearInterval(this.interval);\r\n    }\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      this.$router.push('/interface/dapps/unstoppable');\r\n    },\r\n    async getEthPrice() {\r\n      const price = await fetch(\r\n        'https://cryptorates.mewapi.io/ticker?filter=ETH'\r\n      )\r\n        .then(res => {\r\n          return res.json();\r\n        })\r\n        .catch(e => {\r\n          Toast.responseHandler(e, Toast.ERROR);\r\n        });\r\n      this.ethPrice =\r\n        typeof price === 'object' ? price.data.ETH.quotes.USD.price : 0;\r\n    },\r\n    copyPaymentAmount() {\r\n      this.$refs['payment-amount'].setAttribute('type', 'text');\r\n      this.$refs['payment-amount'].select();\r\n      document.execCommand('copy');\r\n      this.$refs['payment-amount'].setAttribute('type', 'hidden');\r\n      this.copiedToClipboard();\r\n    },\r\n    copyPaymentAddress() {\r\n      this.$refs['payment-address'].setAttribute('type', 'text');\r\n      this.$refs['payment-address'].select();\r\n      document.execCommand('copy');\r\n      this.$refs['payment-address'].setAttribute('type', 'hidden');\r\n      this.copiedToClipboard();\r\n    },\r\n    sendPayment() {\r\n      this.loading = true;\r\n      this.web3.eth\r\n        .sendTransaction({\r\n          from: this.account.address,\r\n          to: this.paymentAddress,\r\n          value: this.web3.utils.toWei(this.paymentAmount.toString())\r\n        })\r\n        .on('transactionHash', () => {\r\n          this.pendingPayment = true;\r\n          this.loading = false;\r\n        })\r\n        .on('error', () => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    getCharge(chargeId) {\r\n      return fetch(\r\n        `https://unstoppabledomains.com/api/v1/resellers/myetherwallet/users/${this.email}/orders/coinbase-charge/${chargeId}`\r\n      )\r\n        .then(resp => {\r\n          if (resp.status === 200) {\r\n            return resp.json();\r\n          }\r\n          throw new Error('Failed to get charge info');\r\n        })\r\n        .then(({ charge }) => {\r\n          if (!this.paymentAddress || !this.paymentAmount) {\r\n            this.paymentAddress = charge.data.addresses.ethereum;\r\n            this.paymentAmount = +charge.data.pricing.ethereum.amount;\r\n          }\r\n          for (const payment of charge.data.payments) {\r\n            if (\r\n              payment.network === 'ethereum'\r\n              // +payment.value.crypto.amount >= this.paymentAmount\r\n            ) {\r\n              if (payment.status === 'PENDING') {\r\n                this.pendingPayment = true;\r\n              }\r\n              this.confirmations = payment.block.confirmations;\r\n              this.confirmationsRequired = payment.block.confirmations_required;\r\n              if (payment.status === 'CONFIRMED') {\r\n                this.$router.push({ name: 'claimPending' });\r\n              }\r\n            }\r\n          }\r\n        });\r\n    },\r\n    handlePayWithCardClick() {\r\n      this.$router.push({ name: 'payWithStripe' });\r\n    },\r\n    submit() {\r\n      if (!this.account || !this.account.address) {\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      fetch(\r\n        `https://unstoppabledomains.com/api/v1/resellers/myetherwallet/users/${this.email}/orders`,\r\n        {\r\n          method: 'POST',\r\n          headers: {\r\n            'content-type': 'Application/JSON'\r\n          },\r\n          body: JSON.stringify({\r\n            order: {\r\n              domains: this.cart.map(cartItem => ({\r\n                name: cartItem.label + '.' + cartItem.extension,\r\n                owner: { address: this.account.address },\r\n                resolution: {\r\n                  crypto: { ETH: { address: this.account.address } }\r\n                }\r\n              })),\r\n              payment: { type: 'coinbase' }\r\n            }\r\n          })\r\n        }\r\n      )\r\n        .then(resp => {\r\n          if (resp.status === 200) {\r\n            return resp.json();\r\n          }\r\n          throw new Error('Failed to create charge');\r\n        })\r\n        .then(({ order }) => {\r\n          this.setOrderNumber(order.orderNumber);\r\n          this.getCharge(order.payment.tokenId).then(() => {\r\n            this.chargeId = order.payment.tokenId;\r\n            this.loading = false;\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import 'CryptoContainer.scss';\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CryptoContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CryptoContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CryptoContainer.vue?vue&type=template&id=6c4b27af&scoped=true&lang=html&\"\nimport script from \"./CryptoContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./CryptoContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CryptoContainer.vue?vue&type=style&index=0&id=6c4b27af&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c4b27af\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/copy.31adb254.svg\";"],"sourceRoot":""}
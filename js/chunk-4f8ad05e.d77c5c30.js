(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f8ad05e"],{34:function(e,t){},35:function(e,t){},36:function(e,t){},37:function(e,t){},38:function(e,t){},39:function(e,t){},"5b42":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="5b42"},"5e71":function(e,t,n){"use strict";t["a"]=[{constant:!1,inputs:[{internalType:"address",name:"owner_",type:"address"}],name:"setOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_target",type:"address"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"execute",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"cache",outputs:[{internalType:"contract DSProxyCache",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"contract DSAuthority",name:"authority_",type:"address"}],name:"setAuthority",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_cacheAddr",type:"address"}],name:"setCache",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"authority",outputs:[{internalType:"contract DSAuthority",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_cacheAddr",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!0,inputs:[{indexed:!0,internalType:"bytes4",name:"sig",type:"bytes4"},{indexed:!0,internalType:"address",name:"guy",type:"address"},{indexed:!0,internalType:"bytes32",name:"foo",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"bar",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"},{indexed:!1,internalType:"bytes",name:"fax",type:"bytes"}],name:"LogNote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authority",type:"address"}],name:"LogSetAuthority",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"LogSetOwner",type:"event"}]},ac5d:function(e,t,n){var a={"./Auction.json":"64ef","./AuthGemJoin.json":"28fc","./BAT.json":"9371","./Cat.json":"f4c4a","./ChiefUser.json":"82d7","./Common.json":"ccaf","./DGD.json":"c7eb","./DSAuth.json":"728a","./DSAuthEvents.json":"28ef","./DSAuthority.json":"75b0","./DSChief.json":"c139","./DSChiefApprovals.json":"8822","./DSGuard.json":"c0a4","./DSGuardEvents.json":"e6fd","./DSGuardFactory.json":"9f7f7","./DSMath.json":"c477","./DSNote.json":"ea44","./DSPause.json":"2273","./DSPauseProxy.json":"4d05","./DSProxy.json":"beb1","./DSProxyCache.json":"7f91","./DSProxyFactory.json":"11b1","./DSRoles.json":"0c7d","./DSStop.json":"069d","./DSThing.json":"55d9","./DSToken.json":"4162","./DSTokenBase.json":"70e7","./DSValue.json":"fd83","./Dai.json":"17c08","./DaiJoin.json":"62f0","./DssCdpManager.json":"a9bb","./DssDeploy.json":"061f","./DssDeployPauseProxyActions.json":"a8c1","./DssProxyActions.json":"6d04","./DssProxyActionsDsr.json":"9823","./DssProxyActionsEnd.json":"82dd","./ERC20.json":"f540","./ERC20Events.json":"49f7","./ESM.json":"eea3","./ETHJoin.json":"fa241","./End.json":"6b31","./FakeUser.json":"f049","./FaucetUser.json":"445b","./Flapper.json":"8679","./Flipper.json":"3d56","./Flippy.json":"bb97","./Flopper.json":"3bd2","./Fusspot.json":"377d","./GNT.json":"0d91","./GemBag.json":"8bb4","./GemJoin.json":"ba9f","./GemJoin1.json":"855a","./GemJoin2.json":"d08a","./GemJoin3.json":"145ec","./GemJoin4.json":"4162d","./GemPit.json":"b3fb","./GetCdps.json":"4ea8","./GovActions.json":"5c27","./GovPollingGenerator.json":"a829","./Hevm.json":"18a8","./Hopeful.json":"4f76","./Jug.json":"15fb9","./Kicker.json":"0448","./LibNote.json":"d66d","./Median.json":"e821","./MigrationProxyActions.json":"ca3d","./MkrAuthority.json":"81ab","./MockOtc.json":"5e92","./MockSaiPip.json":"d3b0","./MultiCall.json":"9c44","./MulticallHelper.json":"97a0","./OMG.json":"594b","./OSM.json":"4a81","./OwnerUpdate.json":"ba25","./Plan.json":"8d99","./Pot.json":"e46a","./ProxyActions.json":"cac1","./ProxyCalls.json":"0842","./ProxyRegistry.json":"91b7","./REP.json":"5e6f","./RestrictedTokenFaucet.json":"645d","./SaiMom.json":"65af","./SaiTap.json":"a2ea","./SaiTop.json":"35b4","./SaiTub.json":"f8c9","./SaiTubEvents.json":"1ad3","./SaiVox.json":"f204","./ScdMcdMigration.json":"ed6b","./Setter.json":"d43f","./Spotter.json":"9cd6","./Spotty.json":"2f16","./Store.json":"24ab","./Token1.json":"bc0e","./Token2.json":"5eab","./Token3.json":"1079","./Token4.json":"eccb","./Token5.json":"c660","./Token6.json":"ae51","./TokenFaucet.json":"9e35","./USDC.json":"c598","./UrnHandler.json":"e266","./User.json":"e246","./Utils.json":"ca43","./Value.json":"80f00","./Vat.json":"f944","./VoteNo.json":"02fc7","./VoteProxy.json":"e5bb","./VoteProxyFactory.json":"7835","./VoteUser.json":"6034","./VoteYes.json":"566e","./Voter.json":"5c52","./Vow.json":"d135","./WETH9.json":"9a44","./WETH9_.json":"8ec5","./ZRX.json":"7b3c"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="ac5d"},d1fb:function(e,t,n){"use strict";n.d(t,"v",(function(){return ye})),n.d(t,"x",(function(){return u})),n.d(t,"y",(function(){return c})),n.d(t,"D",(function(){return K})),n.d(t,"E",(function(){return z})),n.d(t,"s",(function(){return Z})),n.d(t,"m",(function(){return ne})),n.d(t,"n",(function(){return re})),n.d(t,"C",(function(){return ie})),n.d(t,"t",(function(){return ee})),n.d(t,"G",(function(){return le})),n.d(t,"w",(function(){return ce})),n.d(t,"j",(function(){return he})),n.d(t,"u",(function(){return Te})),n.d(t,"l",(function(){return Be})),n.d(t,"A",(function(){return Fe})),n.d(t,"k",(function(){return Ue})),n.d(t,"z",(function(){return Ne})),n.d(t,"o",(function(){return Ie})),n.d(t,"p",(function(){return Oe})),n.d(t,"q",(function(){return Se})),n.d(t,"b",(function(){return Ee})),n.d(t,"r",(function(){return ge})),n.d(t,"F",(function(){return De})),n.d(t,"i",(function(){return Ve})),n.d(t,"h",(function(){return h})),n.d(t,"B",(function(){return we})),n.d(t,"c",(function(){return Ce})),n.d(t,"d",(function(){return _e})),n.d(t,"e",(function(){return je})),n.d(t,"a",(function(){return Pe})),n.d(t,"g",(function(){return Re})),n.d(t,"f",(function(){return Ae}));n("99af"),n("d81d"),n("13d5");var a=n("d0ff"),r=(n("96cf"),n("c964")),i=n("b7d3"),s=n("f4d9");function u(e){return o.apply(this,arguments)}function o(){return o=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.cdpsWithoutProxy=[],t.cdps=[],n=[],!t.proxyAddress){e.next=7;break}return e.next=6,Object(s["a"])(t.web3,t.proxyAddress);case 6:n=e.sent;case 7:return t.allCdpIds=Object(a["a"])(n).map((function(e){return"number"!==typeof e?e.id:e})),r=Object(a["a"])(n).reduce((function(e,t){return e[t.id]=t.ilk,e}),{}),t.cdpsWithType=r,e.abrupt("return",{withType:r,withProxy:n.map((function(e){return"number"!==typeof e?e.id:e})),withoutProxy:[]});case 11:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function c(e,t){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.cdpsWithoutProxy=[],e.next=3,y(t,n);case 3:if(r=e.sent,t.cdps=[],i=[],!t.proxyAddress){e.next=10;break}return e.next=9,l(t,n);case 9:i=e.sent;case 10:return t.allCdpIds=[].concat(Object(a["a"])(r),Object(a["a"])(i)).map((function(e){return"number"!==typeof e?e.id:e})),s=[].concat(Object(a["a"])(r),Object(a["a"])(i)).reduce((function(e,t){return e[t.id]=t.ilk,e}),{}),t.cdpsWithType=s,e.abrupt("return",{withType:s,withProxy:i.map((function(e){return"number"!==typeof e?e.id:e})),withoutProxy:r.map((function(e){return"number"!==typeof e?e.id:e}))});case 14:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function y(e,t){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.getCdpIds(t.account.address);case 2:return a=e.sent,e.next=5,n.getCdpIds(Object(i["b"])(t.account.address));case 5:return r=e.sent,e.abrupt("return",a.concat(r));case 7:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function l(e,t){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getProxy();case 2:return t.proxyAddress=e.sent,e.next=5,n.getCdpIds(t.proxyAddress);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}var h={DEPLOYER:"0xdDb108893104dE4E1C6d0E47c42237dB4E617ACc",MULTICALL:"0x5e227ad1969ea493b43f840cff78d08a6fc17796",FAUCET:"0x0000000000000000000000000000000000000000",MCD_DEPLOY:"0xbaa65281c2fa2baacb2cb550ba051525a480d3f4",MCD_GOV:"0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2",MCD_ADM:"0x9eF05f7F6deB616fd37aC3c959a2dDD25A54E4F5",MCD_VAT:"0x35d1b3f3d7966a1dfe207aa4514c12a259a0492b",MCD_JUG:"0x19c0976f590d67707e62397c87829d896dc0f1f1",MCD_CAT:"0x78f2c2af65126834c51822f56be0d7469d7a523e",MCD_VOW:"0xa950524441892a31ebddf91d3ceefa04bf454466",MCD_JOIN_DAI:"0x9759a6ac90977b93b58547b4a71c78317f391a28",MCD_FLAP:"0xdfe0fb1be2a52cdbf8fb962d5701d7fd0902db9f",MCD_FLOP:"0xbe00fe8dfd9c079f1e5f5ad7ae9a3ad2c571fcac",MCD_PAUSE:"0xbe286431454714f511008713973d3b053a2d38f3",MCD_PAUSE_PROXY:"0xbe8e3e3618f7474f8cb1d074a26affef007e98fb",MCD_GOV_ACTIONS:"0x4f5f0933158569c026d617337614d00ee6589b6e",MCD_DAI:"0x6b175474e89094c44da98b954eedeac495271d0f",MCD_SPOT:"0x65c79fcb50ca1594b025960e539ed7a9a6d434a3",MCD_POT:"0x197e90f9fad81970ba7976f33cbd77088e5d7cf7",MCD_END:"0xab14d3ce3f733cacb76ec2abe7d2fcb00c99f3d5",MCD_ESM:"0x0581a0abe32aae9b5f0f68defab77c6759100085",PROXY_ACTIONS:"0x82ecd135dce65fbc6dbdd0e4237e0af93ffd5038",PROXY_ACTIONS_END:"0x069b2fb501b6f16d1f5fe245b16f6993808f1008",PROXY_ACTIONS_DSR:"0x07ee93aeea0a36fff2a9b95dd22bd6049ee54f26",CDP_MANAGER:"0x5ef30b9986345249bc32d8928b7ee64de9435e39",GET_CDPS:"0x36a724bd100c39f0ea4d3a20f7097ee01a8ff573",PROXY_FACTORY:"0xa26e15c895efc0616177b7c1e7270a4c7d51c997",PROXY_REGISTRY:"0x4678f0a6958e4d2bc4f1baf7bc52e8f3564f3fe4",ETH:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",VAL_ETH:"0x81fe72b5a8d1a857d176c3e7d5bd2679a9b85763",PIP_ETH:"0x81fe72b5a8d1a857d176c3e7d5bd2679a9b85763",MCD_JOIN_ETH_A:"0x2f0b23f53734252bda2277357e97e1517d6b042a",MCD_FLIP_ETH_A:"0xd8a04f5412223f513dc55f839574430f5ec15531",BAT:"0x0d8775f648430679a709e98d2b0cb6250d2887ef",VAL_BAT:"0xb4eb54af9cc7882df0121d26c5b97e802915abe6",PIP_BAT:"0xb4eb54af9cc7882df0121d26c5b97e802915abe6",MCD_JOIN_BAT_A:"0x3d0b1912b66114d4096f48a8cee3a56c231772ca",MCD_FLIP_BAT_A:"0xaa745404d55f88c108a28c86abe7b5a1e7817c07",SAI:"0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359",PIP_SAI:"0x54003dbf6ae6cba6ddae571ccdc34d834b44ab1e",MCD_JOIN_SAI:"0xad37fd42185ba63009177058208dd1be4b136e6b",MCD_FLIP_SAI:"0x5432b2f3c0dff95aa191c45e5cbd539e2820ae72",PROXY_PAUSE_ACTIONS:"0x6bda13d43b7edd6cafe1f70fb98b5d40f61a1370",PROXY_DEPLOYER:"0x1b93556ab8dccef01cd7823c617a6d340f53fb58",SAI_TUB:"0x448a5065aebb8e423f0896e6c5d525c040f59af3",MIGRATION:"0xc73e0383f3aff3215e6f04b0331d58cecf0ab849",MIGRATION_PROXY_ACTIONS:"0xe4b22d484958e582098a98229a24e8a43801b674"},f=(n("4de4"),n("4160"),n("caad"),n("b0c0"),n("b64b"),n("d3b7"),n("25f0"),n("2532"),n("3ca3"),n("159b"),n("ddb0"),n("0122")),m=n("f3f3"),v=n("901e"),g=n.n(v),x=n("c52a"),k=n("a7ac"),T=n.n(k),w=(n("b680"),n("276c")),M=n("e954"),C=n("e1a7"),_=n("f20d"),j=n("920b"),P=n("70c1"),A=n.n(P),R=(n("ac1f"),n("5319"),new g.a("1e18"),new g.a("1e27"),new g.a("1e45"),"ETH-A"),D=n("ce3b"),S=Object(D["createCurrency"])("USD"),O=Object(D["createCurrency"])("MDAI");function I(e,t){return e.times(t)}function E(e,t){return e=O.wei(e),e.times(t).shiftedBy(-27)}function V(e,t){if(t.eq(0)){var n=Object(D["createCurrencyRatio"])(S,O);return n(1/0)}return e.div(t)}function N(e,t,n){if(e.eq(0)){var a=Object(D["createCurrencyRatio"])(S,e.type);return a(1/0)}return t.times(n).div(e)}function F(e,t,n){return e.times(t).div(n)}var U=function(e){return new g.a(e)},B=function(){function e(t,n,a,r){Object(w["a"])(this,e),this.cdpId=null===t?t:"number"!==typeof t?t.id:t,this.cdpIdFull=t,this.cdp={},this.web3=n||{},this.ready=!1,this.doUpdate=0,this.cdps=[],this.noProxy=r.noProxy||!1,this.sysVars=r,this.cdpType=this.cdpId?r.cdpsWithType[this.cdpId]:R,this.services=a||null,this.needsUpdate=!1,this.closing=!1,this.opening=!1,this.migrated=!1,this.migrateCdpActive=!1,this.migrateCdpStage=0,this.cdpTypeObject=a._mcdManager?a._mcdManager.get("mcd:cdpType").getCdpType(null,this.cdpType):a.mcdCurrencies["ETH"],this._liqPrice=U(0),this.isSafe=!1,this._collatRatio=0,this.pethCollateral=U(0),this._usdCollateral=U(0),this._governanceFee=U(12345),this.tokenMapping={};for(var i=0;i<a._typeService.cdpTypes.length;i++)this.tokenMapping[a._typeService.cdpTypes[i].currency.symbol]=a._typeService.cdpTypes[i],this.tokenMapping[a._typeService.cdpTypes[i].currency.name]=a._typeService.cdpTypes[i];this.override={},this.afterInitialization=!1}return Object(M["a"])(e,[{key:"getCollateralIlk",value:function(){return this.cdpType}},{key:"toUSD",value:function(e){var t=U(this.currentPrice).times(e);return t.lt(0)?U(0):t.toFixed(2,g.a.ROUND_DOWN)}},{key:"cdpCollateralType",get:function(){return this.cdpType.replace(/-[A-Z]/,"")}},{key:"currentAddress",get:function(){return this.services.address}},{key:"currentPrice",get:function(){return this.mcdCurrencies[this.cdpCollateralType].price._amount.toString()}},{key:"collatRatio",get:function(){return this._collatRatio}},{key:"collateralAmount",get:function(){try{return this._collateralAmount.toBigNumber()}catch(e){return"--"}}},{key:"_collateralAmount",get:function(){return this.override["collateralAmount"]?this.override["collateralAmount"]:this.cdp.collateralAmount}},{key:"collateralAvailable",get:function(){try{return this._collateralAvailable.toBigNumber()}catch(e){return"--"}}},{key:"_collateralAvailable",get:function(){return this.cdp.collateralAvailable}},{key:"collateralStatus",get:function(){return this.collateralizationRatio.gte(this.liquidationRatio.plus(.5))?"green":this.collateralizationRatio.gte(this.liquidationRatio.plus(.25))&&this.collateralizationRatio.lte(this.liquidationRatio.plus(.5))?"orange":"red"}},{key:"collateralValue",get:function(){try{return this._collateralValue.toBigNumber()}catch(e){return"--"}}},{key:"_collateralValue",get:function(){return I(this._collateralAmount,this.cdpTypeObject.price)}},{key:"collateralizationRatio",get:function(){try{return this._collateralizationRatio.toBigNumber()}catch(e){return"--"}}},{key:"_collateralizationRatio",get:function(){return V(this._collateralValue,this._debtValue)}},{key:"cdpService",get:function(){return this.services._cdpService}},{key:"daiToken",get:function(){return this.getTokens["DAI"]}},{key:"daiBalance",get:function(){return this.services.daiBalance}},{key:"debtValue",get:function(){if(this.cdp)try{return this.override["debtValue"]?this._debtValue.toBigNumber():U(U(this._debtValue.toBigNumber()).toFixed(18))}catch(e){return"--"}return U(0)}},{key:"_debtValue",get:function(){return this.cdp?this.override["debtValue"]?this.override["debtValue"]:this.cdp.debtValue:U(0)}},{key:"dustValues",get:function(){return this.services.dustValues}},{key:"ethPrice",get:function(){return this.services.ethPrice}},{key:"ethCollateral",get:function(){try{return this._ethCollateral.toBigNumber()}catch(e){return"--"}}},{key:"_ethCollateral",get:function(){return this._collateralAmount}},{key:"getTokens",get:function(){return this.sysVars.tokens}},{key:"governanceFeeOwed",get:function(){return this._governanceFee}},{key:"hasProxy",get:function(){return this.services.hasProxy}},{key:"liquidationPenalty",get:function(){if(this.cdp&&this.cdp.type)return U(this.cdp.type.liquidationPenalty);var e=this.mcdManager.get("mcd:cdpType").getCdpType(null,this.cdpType);return U(e.liquidationPenalty._amount)}},{key:"liquidationRatio",get:function(){return U(this._liquidationRatio._amount)}},{key:"_liquidationRatio",get:function(){if(Object.keys(this.cdp).length>0)return this.cdp.type.liquidationRatio;var e=this.mcdManager.get("mcd:cdpType").getCdpType(null,this.cdpType);return e.liquidationRatio}},{key:"liquidationPrice",get:function(){try{return this._liquidationPrice.toBigNumber()}catch(e){return"--"}}},{key:"_liquidationPrice",get:function(){return N(this._collateralAmount,this._debtValue,this._liquidationRatio)}},{key:"maxDai",get:function(){return this.currentPrice&&this.collateralAmount&&this.liquidationRatio&&this.debtValue?Ne(this.currentPrice,this.collateralAmount,this.liquidationRatio.plus(.001),this.debtValue):U(0)}},{key:"maxEthDraw",get:function(){return this.collateralAmount.minus(this.minSafeCollateralAmount)}},{key:"maxPethDraw",get:function(){return this.pethPrice&&this.pethCollateral&&this.liquidationRatio?this.zeroDebt?Fe(this.pethCollateral,this.liquidationRatio,this.debtValue,this.pethPrice,this.pethMin.times(0)):Fe(this.pethCollateral,this.liquidationRatio,this.debtValue,this.pethPrice):U(0)}},{key:"maxDaiDraw",get:function(){var e=U(this.currentPrice).times(U(this.collateralAmount)),t=U(this.debtValue).times(U(this.liquidationRatio));return e.minus(t).div(U(this.currentPrice))}},{key:"maxUsdDraw",get:function(){return this.toUSD(this.collateralAmount.minus(this.minSafeCollateralAmount))}},{key:"mcdCurrencies",get:function(){return this.services.mcdCurrencies}},{key:"mkrToken",get:function(){return this.services._mkrToken}},{key:"mkrBalance",get:function(){return this.services.mkrBalance}},{key:"mcdManager",get:function(){return this.services._mcdManager}},{key:"minSafeCollateralAmount",get:function(){var e=this.mcdManager.get("mcd:cdpType").getCdpType(null,this.cdpType);return F(this._debtValue,e.liquidationRatio,e.price).toBigNumber()}},{key:"minEth",get:function(){return this.services.minEth}},{key:"needToFinishMigrating",get:function(){return this._proxyAddress&&this.noProxy}},{key:"proxyService",get:function(){return this.services._proxyService}},{key:"proxyAddress",get:function(){return this.services._proxyAddress}},{key:"proxyAllowanceDai",get:function(){return this.services.proxyAllowances["DAI"]}},{key:"proxyAllowanceMkr",get:function(){return this.services.proxyAllowances["MKR"]}},{key:"pethMin",get:function(){return this.services.pethMin}},{key:"pethPrice",get:function(){return this.services._pethPrice}},{key:"stabilityFee",get:function(){return this.cdp?U(this.cdp.type.annualStabilityFee):U(0)}},{key:"tokenService",get:function(){return this.services._tokenService}},{key:"wethToPethRatio",get:function(){return this.services.wethToPethRatio}},{key:"usdCollateral",get:function(){return this.toUSD(this.ethCollateral)}},{key:"zeroDebt",get:function(){return U(this.debtValue).eq(0)}}],[{key:"toNumber",value:function(e){return g.a.isBigNumber(e)?e.toNumber():U(e).toNumber()}},{key:"displayPercentValue",value:function(e){return g.a.isBigNumber(e)||(e=new g.a(e)),e.times(100).toString()}},{key:"displayFixedValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Oe(e,t,n)}}]),e}(),q=n("e14b"),L=T.a.DAI,G=function(e){function t(e,n,a,r){var i;return Object(w["a"])(this,t),i=Object(C["a"])(this,Object(_["a"])(t).call(this,e,n,a,r)),i.minDai=20.5,i.DAI_NAME="MDAI",i}return Object(j["a"])(t,e),Object(M["a"])(t,[{key:"init",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.cdpId,e.next=3,this.updateValues(t);case 3:return e.prev=3,e.next=6,this.cdp.getGovernanceFee();case 6:this._governanceFee=e.sent.toBigNumber(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),this._governanceFee=!1;case 12:return this.ready=!0,e.abrupt("return",this);case 14:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateSystemVariables",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.services=Object(m["a"])({},this.services,{},t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateValues",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this.cdpId,e.prev=1,e.next=4,this.services.getProxy();case 4:if(this._proxyAddress=e.sent,this.noProxy=null===this._proxyAddress,e.prev=6,!this._proxyAddress){e.next=13;break}return e.next=10,this.services.getMakerCdp(t,this._proxyAddress);case 10:this.cdp=e.sent,e.next=16;break;case 13:return e.next=15,this.services.getMakerCdp(t,!1);case 15:this.cdp=e.sent;case 16:return this.isSafe=this.cdp.isSafe,e.next=19,this.getValuesFromChain();case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](6),console.error(e.t0);case 24:e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](1),console.error(e.t1);case 29:case"end":return e.stop()}}),e,this,[[1,26],[6,21]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getValuesFromChain",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.afterInitialization){e.next=3;break}return this.afterInitialization=!this.afterInitialization,e.abrupt("return");case 3:return e.next=5,Object(q["b"])(this.web3,this.cdpId,this.cdpType);case 5:t=e.sent,n=this.cdpTypeObject.currency.wei(t.ink),this.cdp.collateralAmount.toBigNumber().eq(n.toBigNumber())||(this.override["collateralAmount"]=this.cdpTypeObject.currency.wei(t.ink)),this.override["debtValue"]=E(t.art,this.dustValues[this.cdpCollateralType].rate);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.migrated){e.next=8;break}return e.next=3,this.proxyService.currentProxy();case 3:if(t=e.sent,!t){e.next=8;break}return this.migrated=!1,e.next=8,this.cdpService.give(this.cdpId,this._proxyAddress);case 8:if(!this.needsUpdate){e.next=15;break}return this.opening=!1,this.needsUpdate=!1,e.next=13,this.updateValues(this.cdpId);case 13:return this.doUpdate++,e.abrupt("return",this);case 15:return e.abrupt("return",this);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"approveProxyFor",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTokens[t].approveUnlimited(this.proxyAddress);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"approveDai",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.daiToken.approveUnlimited(this.proxyAddress);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"approveMkr",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.proxyAddress){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.mkrToken.approveUnlimited(this.proxyAddress);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"calcCollatRatio",value:function(e,t){if(e<=0||t<=0)return De(0);var n=this.getPriceOfCurrency(this.cdpCollateralType);return Ue(n,e,t)}},{key:"calcCollatRatioDaiChg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(e=De(this.debtValue).plus(De(e))),De(this.calcCollatRatio(this.collateralAmount,e))}},{key:"calcCollatRatioEthChg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(e=De(this.debtValue).plus(De(e))),De(this.calcCollatRatio(e,this.debtValue))}},{key:"calcLiquidationPrice",value:function(e,t){if(e<=0||t<=0)return De(0);var n=this.getPriceOfCurrency(this.cdpCollateralType);return Be(e,t,n,this.liquidationRatio)}},{key:"calcLiquidationPriceDaiChg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(e=De(this.debtValue).plus(De(e))),De(this.calcLiquidationPrice(this.collateralAmount,e))}},{key:"calcLiquidationPriceEthChg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(e=De(this.debtValue).plus(De(e))),De(this.calcLiquidationPrice(e,this.debtValue))}},{key:"checkIfDestAddressHasProxy",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getProxy();case 2:return e.next=4,this.proxyService.getProxyAddress(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"collateralOptions",value:function(){var e=this;return Object.keys(this.services.tokens).reduce((function(t,n){return t.push({symbol:n,name:e.services.tokens[n].ilk}),t}),[])}},{key:"convertToTokenWei",value:function(e,t){var n=new g.a(10).pow(t);return new g.a(e).times(n).toFixed(0).toString(10)}},{key:"convertToTokenBase",value:function(e,t){var n=new g.a(10).pow(t);return new g.a(e).div(n).toString(10)}},{key:"enoughMkrToWipe",value:function(e){return this.cdpService.enoughMkrToWipe(e,L.wei)}},{key:"getProxy",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.services.getProxy();case 2:this._proxyAddress=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCombinedDebtValue",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:this._proxyAddress,e.abrupt("return",this.mcdManager.getCombinedDebtValue(t));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBalanceOf",value:function(e){return this.services.balances[e]?this.services.balances[e]:De(0)}},{key:"getProxyAllowancefor",value:function(e){return this.services.proxyAllowances[e]}},{key:"getRawProxyAllowanceforMkr",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new this.web3.eth.Contract(Ce,h.MCD_GOV),e.next=3,t.methods.allowance(this.currentAddress,this.proxyAddress).call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getTokenObjectFor",value:function(e){return this.services.tokens[e]}},{key:"getCurrentPriceFor",value:function(e){return e?this.getPriceOfCurrency(e):0}},{key:"getEventHistory",value:function(){return this.mcdManager.getEventHistory(this.cdp)}},{key:"getPriceOfCurrency",value:function(e){var t=this.mcdCurrencies[e];return t?t.price._amount:0}},{key:"getDaiBalances",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTokens[this.DAI_NAME].balance();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hasEnough",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ETH",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(De(e).isNaN())return!1;var a=De(e).toFixed(18);return"ETH"===t&&null!==n?De(A.a.toWei(De(a),"ether").toString()).lte(n):De(A.a.toWei(a,"ether").toString()).lte(A.a.toWei(this.getBalanceOf(t),"ether"))}},{key:"hasEnoughAllowance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ETH";if("ETH"===t)return!0;var n=this.getProxyAllowancefor(t);try{var a=De(e).toFixed(18);return De(n.toString()).gte(De(this.convertToTokenWei(a,18).toString()))}catch(r){console.error(r)}return De(n).gte(De(10))}},{key:"minDeposit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.minDai,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentPrice,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.liquidationRatio;return e<=0&&(e=this.minDai),Ve(n,e,t)}},{key:"minDepositFor",value:function(e){return this.minDeposit(this.minDai,this.getCurrentPriceFor(e))}},{key:"minInSelectedCurrency",value:function(e){var t=De(this.pethMin).times(this.wethToPethRatio);return De(t).times(this.getCurrentPriceFor("ETH")).div(this.getCurrentPriceFor(e))}},{key:"setType",value:function(e){null===this.cdpId&&(this.cdpTypeObject=this.mcdManager.get("mcd:cdpType").getCdpType(null,e.name))}},{key:"toPeth",value:function(e){return this.services.toPeth(e)}},{key:"migrateCdp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getProxy();case 2:if(t=e.sent,t){e.next=10;break}return this.needsUpdate=!0,e.next=7,this.proxyService.ensureProxy();case 7:return e.abrupt("return",e.sent);case 10:if(!this.needToFinishMigrating){e.next=14;break}return this.needsUpdate=!0,e.next=14,this.cdpService.give(this.cdpId,this._proxyAddress);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openCdp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(n<=0)){e.next=2;break}return e.abrupt("return",0);case 2:return this.opening=!0,this.needsUpdate=!0,e.next=6,this.mcdManager.openLockAndDraw(t.ilk,Te()[t.currency.symbol](n),Object(x["MDAI"])(a));case 6:return r=e.sent,e.abrupt("return",r.id);case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"lockEth",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.noProxy){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.mcdManager.getOwner(this.cdpId);case 5:return n=e.sent,this.needsUpdate=!0,e.next=9,this.mcdManager.lock(this.cdpId,this.cdpType,this.mcdCurrencies[this.cdpCollateralType].currency(t),n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"drawDai",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!this.calcCollatRatio(this.collateralAmount,this.debtValue.plus(t)).gt(2)&&!n){e.next=13;break}if(e.prev=2,!this.noProxy){e.next=5;break}return e.abrupt("return");case 5:return this.needsUpdate=!0,e.next=8,this.cdp.drawDai(Object(x["MDAI"])(t));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"freeEth",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!(this.debtValue.eq(0)||this.calcCollatRatio(this.ethCollateral.minus(t),this.debtValue).gt(1.5)||n)){e.next=13;break}if(e.prev=2,!this.noProxy){e.next=5;break}return e.abrupt("return");case 5:return this.needsUpdate=!0,e.next=8,this.cdp.freeCollateral(t.toString());case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"wipeDai",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],e.prev=1,!this.noProxy){e.next=4;break}return e.abrupt("return");case 4:if(this.needsUpdate=!0,!n){e.next=10;break}return e.next=8,this.cdp.wipeAll();case 8:e.next=12;break;case 10:return e.next=12,this.cdp.wipeDai(t.toString());case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,this,[[1,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"canCloseCdp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.debtValue.toNumber(),e.next=3,this.cdpService.enoughMkrToWipe(this.cdpId,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"closeCdp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.needsUpdate=!0,this.closing=!0,!this.hasProxy){e.next=6;break}return e.next=6,this.cdpService.shutProxy(this._proxyAddress,this.cdpId);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log("closeCdp Error:"),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"moveCdp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getProxy();case 2:return e.next=4,this.proxyService.getProxyAddress(t);case 4:if(n=e.sent,!n){e.next=12;break}return this.needsUpdate=!0,this.closing=!0,e.next=10,this.cdp.giveToProxy(t);case 10:e.next=30;break;case 12:if(this.noProxy||!n){e.next=19;break}return this.needsUpdate=!0,this.closing=!0,e.next=17,this.cdp.giveToProxy(t);case 17:e.next=30;break;case 19:if(this.noProxy){e.next=26;break}return this.needsUpdate=!0,this.closing=!0,e.next=24,this.cdp.give(t);case 24:e.next=30;break;case 26:return this.needsUpdate=!0,this.closing=!0,e.next=30,this.cdp.give(t);case 30:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),t}(B),W=G,J=T.a.DAI,H=function(e){return new g.a(e)},Y={PRICE:"price",CDP:"cdp",PROXY:"proxy",TOKEN:"token",CDP_MANAGER:"mcd:cdpManager",CDP_TYPE:"mcd:cdpType",AUCTION:"mcd:auction",SYSTEM_DATA:"mcd:systemData",QUERY_API:"mcd:queryApi",SAVINGS:"mcd:savings"};function z(e,t){return X.apply(this,arguments)}function X(){return X=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t._priceService=n.service(Y.PRICE),e.next=3,Promise.all([n.service(Y.CDP),n.service(Y.PROXY),n.service(Y.TOKEN)]);case 3:return a=e.sent,t._cdpService=a[0],t._proxyService=a[1],t._tokenService=a[2],t._mcdManager=n.service(Y.CDP_MANAGER),t._mcdSaving=n.service(Y.SAVINGS),t._typeService=n.service(Y.CDP_TYPE),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function K(e,t,n){return $.apply(this,arguments)}function $(){return $=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.pethMin=H(.005),e.next=3,Promise.all([n.getEthPrice(),n.getPethPrice(),n.getPethPrice(),a.getLiquidationRatio(),a.getLiquidationPenalty(),a.getAnnualGovernanceFee(),n.getWethToPethRatio()]);case 3:return r=e.sent,t.ethPrice=H(r[0].toNumber()),t.pethPrice=H(r[1].toNumber()),t._targetPrice=H(r[2].toNumber()),t.liquidationRatio=H(r[3]),t.liquidationPenalty=H(r[4]),t.stabilityFee=H(r[5]),t.wethToPethRatio=H(r[6]),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function Z(e,t){return Q.apply(this,arguments)}function Q(){return Q=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.balances={},t.tokens={},t.daiToken=t._tokenService.getToken(J),t.daiToken.balance().then((function(e){t.daiBalance=e.toBigNumber()})),t.mkrToken=t._tokenService.getToken(x["MKR"]),t.mkrToken.balance().then((function(e){t.mkrBalance=e.toBigNumber()})),a=function(e){var a=t._tokenService.getToken(n[e].currency);t.tokens[n[e].currency.symbol]=a,a.balance().then((function(a){t.balances[n[e].currency.symbol]=a.toBigNumber()}))},r=0;r<n.length;r++)a(r);return i=t._tokenService.getToken(x["MDAI"]),t.tokens[i.symbol]=i,e.next=12,i.balance();case 12:return t.balances[i.symbol]=e.sent.toBigNumber(),t.tokens["MKR"]=t.mkrToken,t.tokens["DAI"]=t.daiToken,t.balances["DAI"]=t.daiBalance,t.balances["MKR"]=t.mkrBalance,e.next=19,ee(t,n);case 19:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return te=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t.dustValues={},a=function(e){Object(q["a"])(t.web3,n[e].ilk).then((function(a){t.dustValues[n[e].currency.symbol]=a}))},r=0;r<n.length;r++)a(r);case 3:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e,t,n){return ae.apply(this,arguments)}function ae(){return ae=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.proxyAllowances={},a&&function(){var e=Object.keys(t.tokens);e.push("MKR"),e.push("DAI"),e.push("MDAI");for(var r=function(r){try{"undefined"!==typeof t.tokens[e[r]]&&"undefined"!==typeof t.tokens[e[r]]._contract&&"function"===typeof t.tokens[e[r]]._contract.allowance?t.tokens[e[r]]._contract.allowance(n,a).then((function(n){t.proxyAllowances[e[r]]=H(n)})):t.proxyAllowances[e[r]]=H(0),t.proxyAllowances[e[r]].isNaN()&&(t.proxyAllowances[e[r]]=H(0))}catch(i){t.proxyAllowances[e[r]]=H(0)}},i=0;i<e.length;i++)r(i)}(),e.abrupt("return",t.proxyAllowances);case 3:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function re(e){return Object.keys(e).reduce((function(t,n){return t.push({symbol:n,name:e[n].ilk}),t}),[])}function ie(e,t){return se.apply(this,arguments)}function se(){return se=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.allCdpIds.includes(n)&&t.allCdpIds.length>0&&(n=t.allCdpIds[0]),0!==t.allCdpIds.length){e.next=5;break}t.activeValues=t.systemValues,e.next=9;break;case 5:return t.currentCdpId=n,e.next=8,ue.bind(t)(n);case 8:t.activeValues=e.sent;case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function ue(e){return oe.apply(this,arguments)}function oe(){return oe=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"number"!==typeof t&&(t=t.id),n=this.activeCdps[t],this.currentCdp=n,a=this.systemValues,e.abrupt("return",Object(m["a"])({},a,{cdpId:t,maxEthDraw:n.maxEthDraw,maxUsdDraw:n.maxUsdDraw,ethCollateral:n.ethCollateral,usdCollateral:n.usdCollateral,debtValue:n.debtValue,maxDai:n.maxDai,collateralRatio:n.collatRatio,liquidationPrice:n.liquidationPrice,minEth:n.minEth,isSafe:!1,governanceFeeOwed:n.governanceFeeOwed,ethCollateralNum:n.ethCollateral,zeroDebt:n.zeroDebt,cdpsWithType:this.cdpsWithType}));case 5:case"end":return e.stop()}}),e,this)}))),oe.apply(this,arguments)}function ce(e){return pe.apply(this,arguments)}function pe(){return pe=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,s,u,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:t.cdps,a=o.length>2&&void 0!==o[2]?o[2]:t.cdpsWithoutProxy,r=0;case 3:if(!(r<n.length)){e.next=11;break}return i="number"!==typeof n[r]?n[r].id:n[r],e.next=7,me.bind(t)(i);case 7:t.activeCdps[i]=e.sent;case 8:r++,e.next=3;break;case 11:s=0;case 12:if(!(s<a.length)){e.next=20;break}return u="number"!==typeof a[s]?a[s].id:a[s],e.next=16,me.bind(t)(u,{noProxy:!0});case 16:t.activeCdps[u]=e.sent;case 17:s++,e.next=12;break;case 20:case"end":return e.stop()}}),e)}))),pe.apply(this,arguments)}function ye(e,t){return de.apply(this,arguments)}function de(){return de=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me.bind(t)(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}function le(e){return be.apply(this,arguments)}function be(){return be=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,s,o,c,p,y,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=function(e){return"number"===typeof e?e:"object"===Object(f["a"])(e)?e.hasOwnProperty("id")?e.id:0:e},a=Object.keys(t.activeCdps),e.next=4,u(t,t._mcdManager);case 4:if(r=e.sent,i=r.withType,s=r.withProxy,o=r.withoutProxy,t.cdpsWithType=i,t.cdps=s.map(n),t.cdpsWithoutProxy=o,c=t.cdps.filter((function(e){return!a.includes(e.toString())})),p=t.cdpsWithoutProxy.filter((function(e){return!Object.keys(t.activeCdps).includes(e)})),y=a.filter((function(e){return!(t.cdps.includes(e.toString())||t.cdps.includes(parseInt(e))||t.cdpsWithoutProxy.includes(e.toString())||t.cdpsWithoutProxy.includes(parseInt(e)))})),y.length>0&&y.forEach((function(e){return delete t.activeCdps[e]})),!(c.length>0)){e.next=24;break}d=0;case 17:if(!(d<c.length)){e.next=24;break}return e.next=20,me.bind(t)(c[d]);case 20:t.activeCdps[c[d]]=e.sent;case 21:d++,e.next=17;break;case 24:if(!(p.length>0)){e.next=33;break}l=0;case 26:if(!(l<p.length)){e.next=33;break}return e.next=29,me.bind(t)(p[l],{noProxy:!0});case 29:t.activeCdps[p[l]]=e.sent;case 30:l++,e.next=26;break;case 33:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}function he(e){return fe.apply(this,arguments)}function fe(){return fe=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me.bind(t)(null);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function me(e){return ve.apply(this,arguments)}function ve(){return ve=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,i,s,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:{},a=u.length>2&&void 0!==u[2]&&u[2],r=Object(m["a"])({},n,{tokens:this.tokens,balances:this.balances,_proxyAddress:this.proxyAddress,liquidationPenalty:this.liquidationPenalty,stabilityFee:this.stabilityFee,ethPrice:this.ethPrice,_targetPrice:this._targetPrice,liquidationRatio:this.liquidationRatio,proxyAllowances:this.proxyAllowances,_daiToken:this._daiToken,daiBalance:this.daiBalance,_mkrToken:this._mkrToken,mkrBalance:this.mkrBalance,minEth:this.minEth,cdpsWithType:this.cdpsWithType}),i={address:this.account.address,_typeService:this._typeService,_mcdManager:this._mcdManager,_mcdSaving:this._mcdSaving,_proxyService:this._proxyService,priceService:this.priceService,_cdpService:this._cdpService,_tokenService:this._tokenService,doUpdate:this.doUpdate,getProxy:this.getProxy,hasProxy:this.hasProxy,getMakerCdp:this.getMakerCdp,toUSD:this.toUSD,_proxyAddress:this.proxyAddress,liquidationPenalty:this.liquidationPenalty,stabilityFee:this.stabilityFee,ethPrice:this.ethPrice,_targetPrice:this._targetPrice,liquidationRatio:this.liquidationRatio,_daiToken:this._daiToken,daiBalance:this.daiBalance,_mkrToken:this._mkrToken,mkrBalance:this.mkrBalance,minEth:this.minEth,tokens:this.tokens,balances:this.balances,proxyAllowances:this.proxyAllowances,mcdCurrencies:this.mcdCurrencies,dustValues:this.dustValues},e.prev=4,s=new W(t,this.web3,i,r),!t){e.next=14;break}if(!a){e.next=11;break}return e.next=10,s.init(t,a);case 10:return e.abrupt("return",e.sent);case 11:return e.next=13,s.init(t);case 13:return e.abrupt("return",e.sent);case 14:return e.abrupt("return",s);case 17:return e.prev=17,e.t0=e["catch"](4),console.log(e.t0),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e,this,[[4,17]])}))),ve.apply(this,arguments)}function ge(e,t){return xe.apply(this,arguments)}function xe(){return xe=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var a,r,i,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getProxy();case 2:return t.proxyAddress=e.sent,a=!1,r="create"===t.$route.name,e.next=7,Promise.all([t.updateActiveCdp(),t.checkBalances(),t.checkAllowances()]);case 7:i=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.activeCdps[n].needsUpdate){e.next=17;break}if(!t.activeCdps[n].closing){e.next=8;break}a=!0,delete t.activeCdps[n],t.cdps=t.cdps.filter((function(e){return e!==n})),t.cdpsWithoutProxy=t.cdpsWithoutProxy.filter((function(e){return e!==n})),e.next=17;break;case 8:if(!t.activeCdps[n].opening){e.next=13;break}return e.next=11,t.activeCdps[n].updateValues();case 11:e.next=17;break;case 13:return e.next=15,t.activeCdps[n].update();case 15:t.activeCdps[n]=e.sent,t.activeCdps[n].updateSystemVariables({tokens:t.tokens,balances:t.balances,proxyAllowances:t.proxyAllowances,dustValues:t.dustValues});case 17:if(n!==t.currentCdpId){e.next=22;break}return e.next=20,t.currentCdp.update();case 20:return e.next=22,t.setupCdpManage(t.currentCdpId);case 22:case"end":return e.stop()}}),e)})),e.t0=regeneratorRuntime.keys(t.activeCdps);case 9:if((e.t1=e.t0()).done){e.next=14;break}return s=e.t1.value,e.delegateYield(i(s),"t2",12);case 12:e.next=9;break;case 14:if(!Object.keys(t.activeCdps).includes(t.currentCdpId.toString())&&!Object.keys(t.activeCdps).includes(t.currentCdpId)){e.next=19;break}return e.next=17,t.setupCdpManageFunc(t.currentCdpId);case 17:e.next=23;break;case 19:return e.next=21,t.loadCdpDetails();case 21:return e.next=23,t.setupCdpManageFunc(t.currentCdpId);case 23:if(u=function e(){if(t.afterUpdate.length>0){var n=t.afterUpdate.pop();n(),e()}},u(),(a||r||t.creatingCdp)&&(t.cdps.length>0||t.cdpsWithoutProxy.length>0?t.goToManage():"save"===t.$route.name?t.goToSave():t.gotoCreate()),!t.creatingCdp){e.next=33;break}return t.creatingCdp=!1,e.next=30,t.updateActiveCdp();case 30:n.responseHandler(t.$t("dappsMCDMaker.vault-created"),n.INFO),e.next=35;break;case 33:t.valuesUpdated++,n.responseHandler(t.$t("dappsMCDMaker.vault-updated"),n.INFO);case 35:case"end":return e.stop()}}),e)}))),xe.apply(this,arguments)}var ke=T.a.DAI;function Te(){var e=Object(m["a"])({DAI:ke},x);return e}var we=[{constant:!0,inputs:[],name:"saiJoin",outputs:[{internalType:"contract JoinLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"wethJoin",outputs:[{internalType:"contract JoinLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tub",outputs:[{internalType:"contract SaiTubLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"vat",outputs:[{internalType:"contract VatLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"cdpManager",outputs:[{internalType:"contract ManagerLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"daiJoin",outputs:[{internalType:"contract JoinLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"wad",type:"uint256"}],name:"swapDaiToSai",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"cup",type:"bytes32"}],name:"migrate",outputs:[{internalType:"uint256",name:"cdp",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"wad",type:"uint256"}],name:"swapSaiToDai",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tub_",type:"address"},{internalType:"address",name:"cdpManager_",type:"address"},{internalType:"address",name:"saiJoin_",type:"address"},{internalType:"address",name:"wethJoin_",type:"address"},{internalType:"address",name:"daiJoin_",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"}],Me=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}],Ce=Me,_e=[{constant:!0,inputs:[{internalType:"address",name:"manager",type:"address"},{internalType:"address",name:"guy",type:"address"}],name:"getCdpsAsc",outputs:[{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"address[]",name:"urns",type:"address[]"},{internalType:"bytes32[]",name:"ilks",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"manager",type:"address"},{internalType:"address",name:"guy",type:"address"}],name:"getCdpsDesc",outputs:[{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"address[]",name:"urns",type:"address[]"},{internalType:"bytes32[]",name:"ilks",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"}],je=[{constant:!1,inputs:[],name:"build",outputs:[{internalType:"address payable",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"proxies",outputs:[{internalType:"contract DSProxy",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"build",outputs:[{internalType:"address payable",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"factory_",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"}],Pe=(n("5e71"),[{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"count",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"ok",type:"uint256"}],name:"cdpAllow",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"flux",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"dst",type:"address"}],name:"quit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"urns",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"ilks",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"vat",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"int256",name:"dink",type:"int256"},{internalType:"int256",name:"dart",type:"int256"}],name:"frob",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"dst",type:"address"},{internalType:"int256",name:"dink",type:"int256"},{internalType:"int256",name:"dart",type:"int256"}],name:"frob",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"cdpCan",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"address",name:"usr",type:"address"}],name:"open",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"uint256",name:"cdp",type:"uint256"}],name:"enter",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"list",outputs:[{internalType:"uint256",name:"prev",type:"uint256"},{internalType:"uint256",name:"next",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"owns",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"last",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"flux",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"urnCan",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"cdpi",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"ok",type:"uint256"}],name:"urnAllow",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"}],name:"open",outputs:[{internalType:"uint256",name:"cdp",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdpSrc",type:"uint256"},{internalType:"uint256",name:"cdpDst",type:"uint256"}],name:"shift",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"rad",type:"uint256"}],name:"move",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"first",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"cdp",type:"uint256"},{internalType:"address",name:"dst",type:"address"}],name:"give",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"vat_",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"usr",type:"address"},{indexed:!0,internalType:"address",name:"own",type:"address"},{indexed:!1,internalType:"uint256",name:"cdp",type:"uint256"}],name:"NewCdp",type:"event"},{anonymous:!0,inputs:[{indexed:!0,internalType:"bytes4",name:"sig",type:"bytes4"},{indexed:!0,internalType:"address",name:"usr",type:"address"},{indexed:!0,internalType:"bytes32",name:"arg1",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"arg2",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"LogNote",type:"event"}]),Ae=[{inputs:[{internalType:"address",name:"vat_",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!0,inputs:[{indexed:!0,internalType:"bytes4",name:"sig",type:"bytes4"},{indexed:!0,internalType:"address",name:"usr",type:"address"},{indexed:!0,internalType:"bytes32",name:"arg1",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"arg2",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"LogNote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"ilk",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"val",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"spot",type:"uint256"}],name:"Poke",type:"event"},{constant:!1,inputs:[],name:"cage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"guy",type:"address"}],name:"deny",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"bytes32",name:"what",type:"bytes32"},{internalType:"uint256",name:"data",type:"uint256"}],name:"file",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"what",type:"bytes32"},{internalType:"uint256",name:"data",type:"uint256"}],name:"file",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"bytes32",name:"what",type:"bytes32"},{internalType:"address",name:"pip_",type:"address"}],name:"file",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"ilks",outputs:[{internalType:"contract PipLike",name:"pip",type:"address"},{internalType:"uint256",name:"mat",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"live",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"par",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"}],name:"poke",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"guy",type:"address"}],name:"rely",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"vat",outputs:[{internalType:"contract VatLike",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"wards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],Re=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!0,inputs:[{indexed:!0,internalType:"bytes4",name:"sig",type:"bytes4"},{indexed:!0,internalType:"bytes32",name:"arg1",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"arg2",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"arg3",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"LogNote",type:"event"},{constant:!0,inputs:[],name:"Line",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"cage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"can",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"dai",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"debt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"}],name:"deny",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"bytes32",name:"what",type:"bytes32"},{internalType:"uint256",name:"data",type:"uint256"}],name:"file",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"what",type:"bytes32"},{internalType:"uint256",name:"data",type:"uint256"}],name:"file",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"flux",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"i",type:"bytes32"},{internalType:"address",name:"u",type:"address"},{internalType:"int256",name:"rate",type:"int256"}],name:"fold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"int256",name:"dink",type:"int256"},{internalType:"int256",name:"dart",type:"int256"}],name:"fork",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"i",type:"bytes32"},{internalType:"address",name:"u",type:"address"},{internalType:"address",name:"v",type:"address"},{internalType:"address",name:"w",type:"address"},{internalType:"int256",name:"dink",type:"int256"},{internalType:"int256",name:"dart",type:"int256"}],name:"frob",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"}],name:"gem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"i",type:"bytes32"},{internalType:"address",name:"u",type:"address"},{internalType:"address",name:"v",type:"address"},{internalType:"address",name:"w",type:"address"},{internalType:"int256",name:"dink",type:"int256"},{internalType:"int256",name:"dart",type:"int256"}],name:"grab",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"rad",type:"uint256"}],name:"heal",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"}],name:"hope",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"ilks",outputs:[{internalType:"uint256",name:"Art",type:"uint256"},{internalType:"uint256",name:"rate",type:"uint256"},{internalType:"uint256",name:"spot",type:"uint256"},{internalType:"uint256",name:"line",type:"uint256"},{internalType:"uint256",name:"dust",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"}],name:"init",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"live",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"rad",type:"uint256"}],name:"move",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"}],name:"nope",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"usr",type:"address"}],name:"rely",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"sin",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"address",name:"usr",type:"address"},{internalType:"int256",name:"wad",type:"int256"}],name:"slip",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"u",type:"address"},{internalType:"address",name:"v",type:"address"},{internalType:"uint256",name:"rad",type:"uint256"}],name:"suck",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"}],name:"urns",outputs:[{internalType:"uint256",name:"ink",type:"uint256"},{internalType:"uint256",name:"art",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"vice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"wards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function De(e){var t=new g.a(e);return t.displayFixed=Oe.bind(this,t),new g.a(e)}function Se(e){return g.a.isBigNumber(e)||(e=new g.a(e)),e.times(100).toString()}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{return g.a.isBigNumber(e)||(e=new g.a(e)),isFinite(e)&&!isNaN(e)||!n?a&&!r?e.toFixed(t,g.a.ROUND_DOWN).toString():a&&r?e.toFixed(t,g.a.ROUND_UP).toString():e.toFixed(t).toString():"--"}catch(i){return"--"}}function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{var a=Oe(Se(e),t,n);return isFinite(a)&&new g.a(a).gt(0)?a:"--"}catch(r){return"--"}}function Ee(e){return void 0===e?0:"number"===typeof e?e:"object"===Object(f["a"])(e)?0:e.hasOwnProperty("id")?e.id:0}function Ve(e,t,n){return De(e).times(De(t)).div(De(n))}function Ne(e,t,n,a){return Ve(De(e),De(t),De(n)).minus(De(a))}function Fe(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return De(e).minus(Ve(De(t).plus(.001),De(n),De(a))).minus(De(r).times(1))}function Ue(e,t,n){return Ve(De(e),t,n)}function Be(e,t,n,a){for(var r=parseInt(n),i=r;i>0;i--){var s=Ve(i,e,t).lte(De(a));if(s)return i}for(var u=100;u>0;u--){var o=Ve(u/100,e,t).lte(De(a));if(o)return u/100}return De(.01)}},e14b:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return p}));n("a15b"),n("d81d"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("96cf");var a=n("c964"),r=n("d1fb");n("f654");function i(e,t,n){return e+new Array(t-e.length+1).join(n||"0")}function s(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.with0x,a=void 0===n||n,r=t.rightPadding,s=void 0===r?64:r,u="",o=0;o<e.length;o++)u+=e.charCodeAt(o).toString(16);return s>0&&(u=i(u,s)),a?"0x"+u:u}function u(t){return"0x"+e.from(t).toString("hex")}function o(e,t){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new t.eth.Contract(r["g"],r["h"].MCD_VAT),e.next=3,a.methods.ilks(s(n)).call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function p(e,t,n){return y.apply(this,arguments)}function y(){return y=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a){var i,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i=new t.eth.Contract(r["a"],r["h"].CDP_MANAGER),s=new t.eth.Contract(r["g"],r["h"].MCD_VAT),e.next=5,i.methods.urns(n).call();case 5:return o=e.sent,e.next=8,s.methods.urns(u(a),o).call();case 8:return c=e.sent,e.abrupt("return",c);case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),y.apply(this,arguments)}}).call(this,n("1c35").Buffer)},f4d9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));n("a15b"),n("d81d"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("96cf");var a=n("c964"),r=n("d1fb"),i=n("f654"),s=n.n(i);function u(t){return e.from(t.replace(/^0x/,""),"hex").toString().replace(/\x00/g,"")}function o(e,t){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,i,o,c,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new t.eth.Contract(r["d"],r["h"].GET_CDPS),e.next=3,a.methods.getCdpsDesc(r["h"].CDP_MANAGER,n).call();case 3:return i=e.sent,o=i.ids,c=i.ilks,s()(o.length===c.length,"ids and ilks must be the same length"),p=o.map((function(e,t){return{id:parseInt(e),ilk:u(c[t])}})),e.abrupt("return",p);case 9:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}}).call(this,n("1c35").Buffer)}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-4f8ad05e.d77c5c30.js.map
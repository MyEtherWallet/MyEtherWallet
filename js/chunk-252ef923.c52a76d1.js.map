{"version":3,"sources":["webpack:///./src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue?794b","webpack:///./src/dapps/MakerSai/MakerDai.vue?9c73","webpack:///./src/dapps/MakerSai/components/CloseCdpModal/CloseCdpModal.vue?309e","webpack:///src/dapps/MakerSai/components/CloseCdpModal/CloseCdpModal.vue","webpack:///./src/dapps/MakerSai/components/CloseCdpModal/CloseCdpModal.vue?7a52","webpack:///./src/dapps/MakerSai/components/CloseCdpModal/CloseCdpModal.vue","webpack:///./src/dapps/MakerSai/components/MoveCdpModal/MoveCdp.vue?4dfe","webpack:///./src/dapps/MakerSai/components/CheckBox/CheckBox.vue?94c3","webpack:///src/dapps/MakerDai/components/CheckBox/CheckBox.vue","webpack:///./src/dapps/MakerSai/components/CheckBox/CheckBox.vue?5722","webpack:///./src/dapps/MakerSai/components/CheckBox/CheckBox.vue","webpack:///src/dapps/MakerSai/components/MoveCdpModal/MoveCdp.vue","webpack:///./src/dapps/MakerSai/components/MoveCdpModal/MoveCdp.vue?03c2","webpack:///./src/dapps/MakerSai/components/MoveCdpModal/MoveCdp.vue","webpack:///./src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue?bdf9","webpack:///src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue","webpack:///./src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue?9d7a","webpack:///./src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue","webpack:///./src/dapps/MakerSai/components/DepositModal/DepositModal.vue?9d30","webpack:///src/dapps/MakerSai/components/DepositModal/DepositModal.vue","webpack:///./src/dapps/MakerSai/components/DepositModal/DepositModal.vue?0bd8","webpack:///./src/dapps/MakerSai/components/DepositModal/DepositModal.vue","webpack:///./src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue?5b52","webpack:///src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue","webpack:///./src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue?956c","webpack:///./src/dapps/MakerSai/components/WithdrawModal/WithdrawModal.vue","webpack:///./src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue?74e2","webpack:///src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue","webpack:///./src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue?cb99","webpack:///./src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue","webpack:///./src/dapps/MakerSai/ethersHelpers.js","webpack:///./src/dapps/MakerSai/MakerCDP.js","webpack:///src/dapps/MakerSai/MakerDai.vue","webpack:///./src/dapps/MakerSai/MakerDai.vue?41aa","webpack:///./src/dapps/MakerSai/MakerDai.vue","webpack:///./src/dapps/MakerSai/components/DepositModal/DepositModal.vue?4053","webpack:///./src/dapps/MakerSai/components/CheckBox/CheckBox.vue?acd7","webpack:///./src/dapps/MakerSai/components/GenerateModal/GenerateModal.vue?35d1","webpack:///./src/dapps/MakerSai/MakerDai.vue?17d1","webpack:///./src/dapps/MakerSai/components/CloseCdpModal/CloseCdpModal.vue?bfac","webpack:///./src/dapps/MakerSai/helpers.js","webpack:///./src/dapps/MakerSai/components/PaybackModal/PaybackModal.vue?aa5e","webpack:///./src/dapps/MakerSai/components/MoveCdpModal/MoveCdp.vue?eb70"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","activeValues","calcCollatRatioDaiChg","calcCollatRatioEthChg","calcLiquidationPriceEthChg","calcLiquidationPriceDaiChg","tokensWithBalance","on","lockEth","drawDai","approveDai","approveMkr","freeEth","wipeDai","closeCdp","destAddressHasProxy","destAddressProxy","moveCdp","checkIfDestAddressHasProxy","showMove","_v","_s","$t","hasProxy","onCreate","showCdpMigrateButtons","_e","showClose","buildProxy","_l","value","idx","key","$event","migrateCdpExternal","directives","name","rawName","expression","showCreateProxy","cdpsWithoutProxy","length","class","cdpId","openMigrate","makerActive","listCdps","openManage","buildEmpty","ethPrice","pethPrice","pethMin","wethToPethRatio","liquidationPenalty","stabilityFee","liquidationRatio","priceService","cdpService","proxyService","cdps","cdpDetailsLoaded","migrationInProgress","openCloseModal","openMoveModal","valuesUpdated","getCdp","hasCdp","setupCdpManage","addCdp","removeCdp","modalHidden","doUpdate","showWithdraw","showPayback","showGenerate","showDeposit","staticRenderFns","enoughMkr","enoughDai","mkrBalance","getMkr","daiBalance","getDai","values","debtValue","displayFixedValue","displayPercentValue","getfeeOwed","title","buttonStyle","fullWidth","noMinWidth","closeModal","canClose","components","HelpCenterButton","StandardButton","props","type","Array","default","action","String","Object","maxPethDraw","maxEthDraw","maxUsdDraw","ethCollateral","pethCollateral","usdCollateral","maxDai","collateralRatio","makerManager","data","amount","amountEth","amountDai","govFee","closable","modalDetailInformation","textValues","mkrToken","daiToken","cancelButton","closeButton","suppliedFrom","symbol","suppliedTo","suppliedToAmount","destAddress","computed","result","newCollateralRatio","collatRatio","newCollateralRatioSafe","newLiquidationPrice","liquidationPrice","balance","mkrNeeded","zeroDebt","daiNeeded","needsDaiApprove","needsMkrApprove","watch","getBalances","methods","$refs","modal","hide","delayCloseModal","setTimeout","raw","times","toString","toFixed","decimals","currentDai","find","item","$nextTick","$eventHub","$emit","component","checkBoxClicked","scopedSlots","_u","fn","proxy","domProps","target","composing","address","btnActive","_t","checkboxChecked","CheckBox","Boolean","checkBoxChecked","newVal","mounted","$on","activeCdp","newTotal","allOk","canGenerateDaiAmount","fiatCurrency","notZero","canProceed","submitBtn","ExpandingOption","Function","riskyBypass","digitalCurrency","amountPresent","canCompute","showWarning","hasEnoughEth","calcCollateralRatio","displayFixedPercent","gte","newCollateralRatioInvalid","lte","checked","$forceUpdate","toPeth","canWithdrawEthAmount","ratioOk","maxWithdraw","canWithdrawEthNotice","hasEnoughMkr","hasEnoughDai","governanceFeeOwed","paybackFee","addSlice","array","slice","args","prototype","call","arguments","Uint8Array","apply","isArrayish","parseInt","i","v","arrayify","toHexString","isHexString","substring","push","substr","padZeros","Error","set","match","HexCharacters","hexlify","hex","join","MKR","Maker","DAI","ETH","toBigNumber","num","BigNumber","MakerCDP","web3","services","sysVars","cdp","ready","noProxy","needsUpdate","closing","opening","migrated","migrateCdpActive","migrateCdpStage","_liqPrice","isSafe","_collatRatio","_usdCollateral","_governanceFee","updateValues","getGovernanceFee","byte32Id","utils","numberToHex","e","console","error","getProxy","_proxyAddress","getLiquidationPrice","liqPrice","getDebtValue","getCollateralizationRatio","getCollateralValue","PETH","USD","currentProxy","give","ensureProxy","needToFinishMigrating","ethQty","daiQty","openProxyCdpLockEthAndDrawDai","newCdp","proxyAddress","id","lockEthProxy","acknowledgeBypass","calcCollatRatio","plus","gt","drawDaiProxy","eq","minus","currencies","createCurrency","getCurrency","createGetCurrency","contractAddress","contract","eth","Contract","SaiProxy","data1","free","_tubContract","encodeABI","proxyContract","DSProxy","execute","sendTransaction","to","from","currentAddress","gas","catch","err","Toast","responseHandler","ERROR","wipeDaiProxy","toNumber","enoughMkrToWipe","shutProxy","log","getProxyAddress","giveProxy","wei","toUsd","toUSD","lt","tl","tr","div","calcLiquidationPrice","approveUnlimited","account","_pethPrice","proxyAllowanceDai","proxyAllowanceMkr","_daiToken","_mkrToken","_proxyService","_cdpService","minEth","val","isBigNumber","round","ROUND_DOWN","GenerateModal","DepositModal","WithdrawModal","PaybackModal","BackButton","CloseCdpModal","MoveCdp","getBalance","highestGas","afterUpdate","allCdpIds","availableCdps","currentCdpId","creatingCdp","daiPrice","makerCdp","priceFloor","sysServices","targetPrice","maxDaiDraw","bnOver","minEthDeposit","showMoveOrClose","showManage","showRefresh","$route","currentProxyAddress","destroyed","gotoHome","$router","gotoCreate","path","includes","systemValues","goToManage","params","deposit","show","withdraw","payback","generate","vals","currentCdp","then","keys","activeCdps","undefined","one","two","three","isFinite","isNaN","getInt","atValue"],"mappings":"oKAAA,yBAAymB,EAAG,G,oECA5mB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,gBAAgB,CAACG,IAAI,UAAUC,MAAM,CAAC,OAASR,EAAIS,aAAa,4BAA4BT,EAAIU,sBAAsB,4BAA4BV,EAAIW,sBAAsB,iCAAiCX,EAAIY,2BAA2B,iCAAiCZ,EAAIa,2BAA2B,sBAAsBb,EAAIc,mBAAmBC,GAAG,CAAC,QAAUf,EAAIgB,WAAWZ,EAAG,iBAAiB,CAACG,IAAI,WAAWC,MAAM,CAAC,OAASR,EAAIS,aAAa,4BAA4BT,EAAIU,sBAAsB,4BAA4BV,EAAIW,sBAAsB,iCAAiCX,EAAIY,2BAA2B,iCAAiCZ,EAAIa,2BAA2B,sBAAsBb,EAAIc,mBAAmBC,GAAG,CAAC,QAAUf,EAAIiB,WAAWb,EAAG,iBAAiB,CAACG,IAAI,WAAWC,MAAM,CAAC,OAASR,EAAIS,aAAa,4BAA4BT,EAAIU,sBAAsB,4BAA4BV,EAAIW,sBAAsB,iCAAiCX,EAAIY,2BAA2B,iCAAiCZ,EAAIa,2BAA2B,sBAAsBb,EAAIc,mBAAmBC,GAAG,CAAC,WAAaf,EAAIkB,WAAW,WAAalB,EAAImB,WAAW,QAAUnB,EAAIoB,WAAWhB,EAAG,gBAAgB,CAACG,IAAI,UAAUC,MAAM,CAAC,OAASR,EAAIS,aAAa,4BAA4BT,EAAIU,sBAAsB,4BAA4BV,EAAIW,sBAAsB,iCAAiCX,EAAIY,2BAA2B,iCAAiCZ,EAAIa,2BAA2B,sBAAsBb,EAAIc,mBAAmBC,GAAG,CAAC,WAAaf,EAAIkB,WAAW,WAAalB,EAAImB,WAAW,QAAUnB,EAAIqB,WAAWjB,EAAG,kBAAkB,CAACG,IAAI,WAAWC,MAAM,CAAC,OAASR,EAAIS,aAAa,4BAA4BT,EAAIU,sBAAsB,4BAA4BV,EAAIW,sBAAsB,iCAAiCX,EAAIY,2BAA2B,iCAAiCZ,EAAIa,2BAA2B,sBAAsBb,EAAIc,mBAAmBC,GAAG,CAAC,WAAaf,EAAIkB,WAAW,WAAalB,EAAImB,WAAW,SAAWnB,EAAIsB,YAAYlB,EAAG,iBAAiB,CAACG,IAAI,UAAUC,MAAM,CAAC,OAASR,EAAIS,aAAa,4BAA4BT,EAAIU,sBAAsB,4BAA4BV,EAAIW,sBAAsB,iCAAiCX,EAAIY,2BAA2B,iCAAiCZ,EAAIa,2BAA2B,yBAAyBb,EAAIuB,oBAAoB,qBAAqBvB,EAAIwB,iBAAiB,sBAAsBxB,EAAIc,mBAAmBC,GAAG,CAAC,QAAUf,EAAIyB,QAAQ,cAAgBzB,EAAI0B,8BAA8BtB,EAAG,cAAc,CAACI,MAAM,CAAC,KAAO,sBAAsB,CAACJ,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAAEN,EAAmB,gBAAEI,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,SAAS,CAACE,YAAY,WAAWS,GAAG,CAAC,MAAQf,EAAI2B,WAAW,CAACvB,EAAG,KAAK,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,gCAAoC9B,EAAI+B,WAAa/B,EAAIgC,UAAahC,EAAIiC,sBAAoKjC,EAAIkC,KAAhJ9B,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,YAAY,YAAYS,GAAG,CAAC,MAAQf,EAAImC,YAAY,CAAC/B,EAAG,KAAK,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,sCAA+C9B,EAAIkC,SAAUlC,EAAe,YAAEI,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAAEN,EAAmB,gBAAEI,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,eAAeS,GAAG,CAAC,MAAQf,EAAIoC,aAAa,CAAChC,EAAG,KAAK,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,mCAAmC9B,EAAIkC,KAAMlC,EAAmB,gBAAEI,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,kCAAkC,OAAO9B,EAAIkC,KAAMlC,EAAyB,sBAAEI,EAAG,MAAMJ,EAAIqC,GAAIrC,EAAoB,kBAAE,SAASsC,EAAMC,GAAK,OAAOnC,EAAG,MAAM,CAACoC,IAAID,EAAMD,GAAO,CAAClC,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACW,GAAG,CAAC,MAAQ,SAAS0B,GAAQ,OAAOzC,EAAI0C,mBAAmBJ,MAAU,CAAClC,EAAG,KAAK,CAACJ,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,yBAA0B,CAAEQ,MAAOA,KAAU,gBAAe,GAAGtC,EAAIkC,KAAMlC,EAAyB,sBAAEI,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,oCAAoC,OAAO9B,EAAIkC,OAAOlC,EAAIkC,KAAK9B,EAAG,MAAM,CAACuC,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASP,MAAOtC,EAAe,YAAE8C,WAAW,gBAAgBxC,YAAY,qBAAqB,CAAEN,EAAI+C,iBAAmB/C,EAAIgD,iBAAiBC,OAAS,EAAG7C,EAAG,MAAMJ,EAAIqC,GAAIrC,EAAoB,kBAAE,SAASsC,EAAMC,GAAK,OAAOnC,EAAG,MAAM,CAACoC,IAAID,EAAMD,GAAO,CAAClC,EAAG,MAAM,CAAC8C,MAAM,CAC52I,eACAlD,EAAIS,aAAa0C,QAAUb,EAAQ,SAAW,KAC7C,CAAClC,EAAG,MAAM,CAACW,GAAG,CAAC,MAAQ,SAAS0B,GAAQ,OAAOzC,EAAIoD,YAAYd,MAAU,CAAClC,EAAG,KAAK,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,mBAAmB,KAAK9B,EAAI6B,GAAGS,eAAkB,GAAGtC,EAAIkC,OAAO9B,EAAG,MAAM,CAACuC,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASP,MAAOtC,EAAIqD,aAAerD,EAAIsD,SAAUR,WAAW,4BAA4BxC,YAAY,qBAAqBN,EAAIqC,GAAIrC,EAAQ,MAAE,SAASsC,EAAMC,GAAK,OAAOnC,EAAG,MAAM,CAACoC,IAAID,EAAMD,GAAO,CAAClC,EAAG,MAAM,CAAC8C,MAAM,CACva,eACAlD,EAAIS,aAAa0C,QAAUb,EAAQ,SAAW,KAC7C,CAAClC,EAAG,MAAM,CAACW,GAAG,CAAC,MAAQ,SAAS0B,GAAQ,OAAOzC,EAAIuD,WAAWjB,MAAU,CAAClC,EAAG,KAAK,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,mBAAmB,KAAK9B,EAAI6B,GAAGS,eAAkB,GAAGlC,EAAG,cAAc,CAACI,MAAM,CAAC,cAAcR,EAAIwD,WAAW,eAAexD,EAAIqD,YAAY,YAAYrD,EAAIyD,SAAS,aAAazD,EAAI0D,UAAU,WAAW1D,EAAI2D,QAAQ,qBAAqB3D,EAAI4D,gBAAgB,sBAAsB5D,EAAI6D,mBAAmB,gBAAgB7D,EAAI8D,aAAa,oBAAoB9D,EAAI+D,iBAAiB,gBAAgB/D,EAAIgE,aAAa,cAAchE,EAAIiE,WAAW,gBAAgBjE,EAAIkE,aAAa,KAAOlE,EAAImE,KAAK,qBAAqBnE,EAAIoE,iBAAiB,sBAAsBpE,EAAIc,kBAAkB,wBAAwBd,EAAIqE,oBAAoB,mBAAmBrE,EAAIsE,eAAe,kBAAkBtE,EAAIuE,cAAc,iBAAiBvE,EAAIwE,cAAc,OAASxE,EAAIS,aAAa,UAAUT,EAAIyE,OAAO,UAAUzE,EAAI0E,OAAO,mBAAmB1E,EAAI8B,GAAG,kCAAkC,mBAAmB9B,EAAI8B,GAAG,mCAAmCf,GAAG,CAAC,YAAcf,EAAI2E,eAAe,UAAY3E,EAAI4E,OAAO,UAAY5E,EAAI6E,UAAU,YAAc7E,EAAI8E,YAAY,cAAgB9E,EAAI+E,SAAS,aAAe/E,EAAIgF,aAAa,YAAchF,EAAIiF,YAAY,aAAejF,EAAIkF,aAAa,YAAclF,EAAImF,YAAY,WAAanF,EAAI0C,uBAAuB,IACtzC0C,EAAkB,G,8MCPlB,EAAS,WAAa,IAAIpF,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,UAAU,CAACG,IAAI,QAAQD,YAAY,4BAA4BE,MAAM,CAAC,MAAQR,EAAI8B,GAAG,0BAA0B,SAAW,GAAG,OAAS,GAAG,KAAO,GAAG,cAAc,KAAK,CAAC1B,EAAG,MAAM,CAACE,YAAY,YAAY,CAAGN,EAAIqF,UAA2HrF,EAAIkC,KAApH9B,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,oCAAoC,OAAkB9B,EAAIsF,UAA2HtF,EAAIkC,KAApH9B,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,oCAAoC,OAAgB1B,EAAG,IAAI,CAACE,YAAY,YAAY,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,8BAA8B,OAAO1B,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,gCAAgC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAIuF,YAAY,IAAIvF,EAAI6B,GAAG7B,EAAI8B,GAAG,0BAA0B1B,EAAG,IAAI,CAACuC,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASP,OAAQtC,EAAIqF,UAAWvC,WAAW,eAAexC,YAAY,UAAUS,GAAG,CAAC,MAAQ,SAAS0B,GAAQ,OAAOzC,EAAIwF,YAAY,CAACxF,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,uBAAuB,SAAS1B,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,gCAAgC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAIyF,YAAY,IAAIzF,EAAI6B,GAAG7B,EAAI8B,GAAG,0BAA0B1B,EAAG,IAAI,CAACuC,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASP,OAAQtC,EAAIsF,UAAWxC,WAAW,eAAexC,YAAY,UAAUS,GAAG,CAAC,MAAQ,SAAS0B,GAAQ,OAAOzC,EAAI0F,YAAY,CAAC1F,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,uBAAuB,SAAS1B,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,kCAAkC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI2F,OAAOC,WAAW,IAAI5F,EAAI6B,GAAG7B,EAAI8B,GAAG,0BAA0B1B,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,kCAAmC,CAAEQ,MAAOtC,EAAI6F,kBAAmB7F,EAAI8F,oBAAoB9F,EAAI2F,OAAO7B,kBAAoB,OAAO1D,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI+F,YAAY,IAAI/F,EAAI6B,GAAG7B,EAAI8B,GAAG,8BAA8B1B,EAAG,MAAM,CAACE,YAAY,WAAW,CAAEN,EAAmB,gBAAEI,EAAG,MAAM,CAACA,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CAC/yEwF,MAAOhG,EAAI8B,GAAG,0BACdmE,YAAa,eACbC,WAAW,EACXC,YAAY,GACZ,iBAAiBnG,EAAIkB,eAAe,GAAGlB,EAAIkC,KAAMlC,EAAmB,gBAAEI,EAAG,MAAM,CAACA,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CACvHwF,MAAOhG,EAAI8B,GAAG,4BACdmE,YAAa,eACbC,WAAW,EACXC,YAAY,GACZ,iBAAiBnG,EAAImB,eAAe,GAAGnB,EAAIkC,OAAO9B,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CAC7HwF,MAAOhG,EAAI8B,GAAG,iBACdmE,YAAa,eACbC,WAAW,EACXC,YAAY,GACZ,iBAAiBnG,EAAIoG,cAAchG,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CAC1EwF,MAAOhG,EAAI8B,GAAG,gBACdmE,YAAa,QACbC,WAAW,EACXC,YAAY,GACZ,mBAAkBnG,EAAIqG,SAAwB,iBAAiBrG,EAAIsB,aAAa,GAAGlB,EAAG,uBAAuB,MAAM,IAC3H,EAAkB,G,mEC8GtB,cACE,OAAO,IAAI,EAAb,MAGA,GACEkG,WAAY,CACV,qBAAsBC,EAA1B,KACI,kBAAmBC,EAAvB,MAEEC,MAAO,CACL3F,kBAAmB,CACjB4F,KAAMC,MACNC,QAAS,WACP,MAAO,KAGXC,OAAQ,CACNH,KAAMI,OACNF,QAAS,IAEXjB,OAAQ,CACNe,KAAMK,OACNH,QAAS,WACP,MAAO,CACLI,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,cAAe,GACfC,eAAgB,GAChBC,cAAe,GACfzB,UAAW,GACX0B,OAAQ,GACRC,gBAAiB,GACjBpE,MAAO,MAIbqE,aAAc,CACZd,KAAMK,OACNH,QAAS,WACP,MAAO,MAIba,KAxCF,WAyCI,MAAO,CACLC,OAAQ,EACRC,UAAW,EACXC,UAAW,EACXC,OAAQ,EACRC,UAAU,EACVC,wBAAwB,EACxBC,WAAY,GACZC,SAAU,GACVC,SAAU,GACVC,aAAc,CACZnC,MAAO,SACPC,YAAa,eACbC,WAAW,EACXC,YAAY,GAEdiC,YAAa,CACXpC,MAAO,QACPC,YAAa,QACbC,WAAW,EACXC,YAAY,GAEdkC,aAAc,CACZC,OAAQ,MACR1F,KAAM,YAER2F,WAAY,CACVD,OAAQ,MACR1F,KAAM,SAER4F,iBAAkB,EAClBC,YAAa,KAGjBC,SAAU,OAAZ,OAAY,CAAZ,GACA,qEADA,CAEI3C,WAFJ,WAGM,IAAN,gCACM,OAAO9F,KAAK4F,kBAAkB8C,EAAQ,IAExCC,mBANJ,WAOM,OAAI3I,KAAK0F,OACA1F,KAAK0F,OAAOkD,YAEd,GAETC,uBAZJ,WAaM,OAAI7I,KAAK0F,QACA,EAAf,iCAIIoD,oBAlBJ,WAmBM,OAAI9I,KAAK0F,OACA1F,KAAK0F,OAAOqD,iBAEd,GAETzD,WAxBJ,WAyBM,OAAItF,KAAKgI,SACAhI,KAAKgI,SAASgB,QAEhB,GAETxD,WA9BJ,WA+BM,OAAIxF,KAAKiI,SACAjI,KAAKiI,SAASe,QAEhB,GAET5D,UApCJ,WAqCM,IAAN,gCACM,QAAI6D,GACK,EAAf,iBACA,SACA,QAII5D,UA7CJ,WA8CM,GAAIrF,KAAK0F,OAAOwD,SAAU,OAAO,EACjC,IAAN,wBACM,QAAIC,GACK,EAAf,iBACA,SACA,QAIIC,gBAvDJ,WAwDM,SAAI,EAAV,uCAEA,8DAKa,EAAb,sCAEIC,gBAjEJ,WAkEM,SAAI,EAAV,uCAEA,oCACA,iCAMa,EAAb,sCAEIjD,SA7EJ,WA8EM,OACN,gBACA,iBACA,uBACA,wBAIEkD,MAAO,CACLzI,kBADJ,WAEMb,KAAKuJ,gBAGT,QAtKF,WAsKA,wJACA,gCACA,gBACA,gKACA,gBADA,4CAHA,8CAOEC,QAAS,CACPrD,WADJ,WAEMnG,KAAKyJ,MAAMC,MAAMC,QAEnBC,gBAJJ,WAIA,WACMC,YAAW,WACT,EAAR,eACA,MAEI,SATJ,WASA,wJACA,oBACA,oBAFA,8CAIIhE,oBAbJ,SAaA,GAEM,OADK,EAAX,iCACaiE,EAAIC,MAAM,KAAKC,YAExBpE,kBAjBJ,SAiBA,kEAEM,OADK,EAAX,iCACakE,EAAIG,QAAQC,EAAU,EAAnC,0BAEI7C,OArBJ,WAsBMrH,KAAKyH,OAASzH,KAAK0F,OAAO2B,QAE5B8C,WAxBJ,WAyBMnK,KAAKyH,OAASzH,KAAK0F,OAAOC,WAE5B4D,YA3BJ,WA4BMvJ,KAAKgI,SAAWhI,KAAKa,kBAAkBuJ,MAAK,SAAlD,GACQ,MAAuB,QAAhBC,EAAKhC,UAEdrI,KAAKiI,SAAWjI,KAAKa,kBAAkBuJ,MAAK,SAAlD,GACQ,MAAuB,QAAhBC,EAAKhC,WAGhB9C,OAnCJ,WAmCA,WACA,kBACU,EAAV,yBACQvF,KAAKuI,iBAAmB,EAAhC,GACA,0BACA,sBACA,WACY,EAAZ,kCACUvI,KAAKuI,iBAAmB,MAE1BvI,KAAKoI,aAAe,CAClBC,OAAQ,MACR1F,KAAM,YAER3C,KAAKsI,WAAa,CAChBD,OAAQ,MACR1F,KAAM,SAER3C,KAAKsK,WAAU,WACb,EAAV,yCAII7E,OA1DJ,WA2DM,IAAN,wBACU,EAAV,yBACQzF,KAAKuI,iBAAmB,EAAhC,GACA,0BACA,WACY,EAAZ,kCACUvI,KAAKuI,iBAAmB,MAE1BvI,KAAKoI,aAAe,CAClBC,OAAQ,MACR1F,KAAM,YAER3C,KAAKsI,WAAa,CAChBD,OAAQ,MACR1F,KAAM,OAER3C,KAAKuK,UAAUC,MACvB,mBACA,qBACA,kBACA,gBACA,yBAKI,WArFJ,WAqFA,wJACA,sBADA,8CAGI,WAxFJ,WAwFA,wJACA,sBADA,gDC5YoY,I,wBCQhYC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAI1K,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,UAAU,CAACG,IAAI,QAAQD,YAAY,4BAA4BE,MAAM,CAAC,MAAQR,EAAI8B,GAAG,yBAAyB,cAAc,GAAG,SAAW,GAAG,OAAS,GAAG,KAAO,KAAK,CAAC1B,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,IAAI,CAACE,YAAY,YAAY,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,2BAA2B,OAAO1B,EAAG,YAAY,CAACW,GAAG,CAAC,aAAef,EAAI2K,iBAAiBC,YAAY5K,EAAI6K,GAAG,CAAC,CAACrI,IAAI,QAAQsI,GAAG,WAAW,MAAO,CAAC1K,EAAG,IAAI,CAACE,YAAY,kBAAkB,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,oCAAoC,SAASiJ,OAAM,OAAU3K,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,QAAQ,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,gCAAgC1B,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACuC,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUP,MAAOtC,EAAW,QAAE8C,WAAW,YAAYkI,SAAS,CAAC,MAAShL,EAAW,SAAGe,GAAG,CAAC,MAAQ,SAAS0B,GAAWA,EAAOwI,OAAOC,YAAqBlL,EAAImL,QAAQ1I,EAAOwI,OAAO3I,eAAclC,EAAG,MAAM,CAAEJ,EAAuB,oBAAEI,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,2BAA4B,CAAEQ,MAAOtC,EAAIwB,oBAAqB,OAAOxB,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,+BAA+B,OAAO9B,EAAIkC,KAAOlC,EAAIuB,oBAAiGvB,EAAIkC,KAAhF9B,EAAG,MAAM,CAACJ,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,kCAAkC,SAAkB1B,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CAC56CwF,MAAOhG,EAAI8B,GAAG,iBACdmE,YAAa,eACbE,YAAY,GACZ,iBAAiBnG,EAAIoG,cAAchG,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CAC1EwF,MAAOhG,EAAI8B,GAAG,iBACdmE,YAAa,QACbE,YAAY,EACZD,WAAW,GACX,mBAAkBlG,EAAIoL,UAAyB,iBAAiBpL,EAAIyB,YAAY,GAAGrB,EAAG,uBAAuB,MAAM,IAC3H,EAAkB,GCVlB,EAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACE,YAAY,uBAAuB,CAACF,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,YAAYO,GAAG,CAAC,MAAQf,EAAI2K,mBAAmBvK,EAAG,OAAO,CAACE,YAAY,cAAcN,EAAIqL,GAAG,UAAU,MAC/S,EAAkB,GCWtB,GACE5D,KADF,WAEI,MAAO,CACL6D,iBAAiB,IAGrB7B,QAAS,CACPkB,gBADJ,WAEM1K,KAAKqL,iBAAmBrL,KAAKqL,gBAC7BrL,KAAKwK,MAAM,eAAgBxK,KAAKqL,oBCrByV,ICQ3X,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,oBCwDf,GACEhF,WAAY,CACV,YAAaiF,EACb,qBAAsBhF,EAA1B,KACI,kBAAmBC,EAAvB,MAEEC,MAAO,CACL3F,kBAAmB,CACjB4F,KAAMC,MACNC,QAAS,WACP,MAAO,KAGXC,OAAQ,CACNH,KAAMI,OACNF,QAAS,IAEXjB,OAAQ,CACNe,KAAMK,OACNH,QAAS,WACP,MAAO,CACLI,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,cAAe,GACfC,eAAgB,GAChBC,cAAe,GACfzB,UAAW,GACX0B,OAAQ,GACRC,gBAAiB,GACjBpE,MAAO,MAIb5B,oBAAqB,CACnBmF,KAAM8E,QACN5E,SAAS,GAEXpF,iBAAkB,CAChBkF,KAAMI,OACNF,QAAS,KAGba,KA3CF,WA4CI,MAAO,CACL0D,QAAS,GACTxD,UAAW,EACXC,UAAW,EACXC,OAAQ,EACRE,wBAAwB,EACxB0D,iBAAiB,EACjBzD,WAAY,GACZC,SAAU,KAGdS,SAAU,OAAZ,OAAY,CAAZ,GACA,qEADA,CAEI0C,UAFJ,WAGM,OAAO,EAAb,8DAGE7B,MAAO,CACL4B,QADJ,SACA,GACU,EAAV,2BACQlL,KAAKwK,MAAM,gBAAiBiB,KAIlCC,QApEF,WAoEA,WACI1L,KAAKyJ,MAAMC,MAAMiC,IAAI,SAAS,WAC5B,EAAN,eAGEnC,QAAS,CACPnI,SADJ,WAEMrB,KAAK4L,UAAUvK,YAEjBqJ,gBAJJ,WAKM1K,KAAKwL,iBAAmBxL,KAAKwL,iBAE/B3F,oBAPJ,SAOA,GAEM,OADK,EAAX,iCACaiE,EAAIC,MAAM,KAAKC,YAExBpE,kBAXJ,SAWA,kEAEM,OADK,EAAX,iCACakE,EAAIG,QAAQC,EAAU,EAAnC,0BAEI,QAfJ,WAeA,wJACA,sCACA,6BACA,gBAHA,8CAMI/D,WArBJ,WAsBMnG,KAAKyJ,MAAMC,MAAMC,UC1KuW,ICQ1X,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAI5J,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,UAAU,CAACG,IAAI,QAAQD,YAAY,4BAA4BE,MAAM,CAAC,MAAQR,EAAI8B,GAAG,6BAA6B,SAAW,GAAG,cAAc,GAAG,OAAS,GAAG,KAAO,KAAK,CAAC1B,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,iCAAiC,OAAO1B,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACE,YAAY,SAAS,CAACF,EAAG,OAAO,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,wBAAwB9B,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8L,UAAU,IAAI9L,EAAI6B,GAAG7B,EAAI8B,GAAG,mBAAmB,OAAO1B,EAAG,IAAI,CAACE,YAAY,MAAMS,GAAG,CAAC,MAAQf,EAAIsH,SAAS,CAACtH,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,6BAA6B,SAAS1B,EAAG,MAAM,CAAC8C,MAAM,CAAC,YAAalD,EAAI+L,MAAQ,GAAK,WAAW,CAAC3L,EAAG,QAAQ,CAACuC,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUP,MAAOtC,EAAU,OAAE8C,WAAW,WAAWkI,SAAS,CAAC,MAAShL,EAAU,QAAGe,GAAG,CAAC,MAAQ,SAAS0B,GAAWA,EAAOwI,OAAOC,YAAqBlL,EAAI0H,OAAOjF,EAAOwI,OAAO3I,WAAUlC,EAAG,IAAI,CAACE,YAAY,cAAc,CAACN,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,wBAAwB1B,EAAG,MAAM,CAACE,YAAY,YAAY,CAAGN,EAAIgM,qBAAqHhM,EAAIkC,KAAnG9B,EAAG,IAAI,CAACE,YAAY,aAAa,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,6BAA6B,OAAgB1B,EAAG,IAAI,CAACJ,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,kCAAmC,CAAEQ,MAAOtC,EAAI4I,sBAAuB,WAAWxI,EAAG,mBAAmB,CAACI,MAAM,CAAC,MAAQ,YAAY,CAACJ,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,yCAAyC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI2F,OAAO2B,OAAStH,EAAI6F,kBAAkB7F,EAAI2F,OAAO2B,QAAU,GAAG,OAAOtH,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,mBAAmB,SAAS1B,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,wCAAwC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI6F,kBAAkB7F,EAAI+I,oBAAqB,OAAO/I,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAIiM,cAAc,SAAS7L,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,yCAAyC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI4I,oBAAoB,gBAAiB5I,EAAI8I,wBAA0B9I,EAAIkM,QAAQlM,EAAI0H,QAAStH,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAI4B,GAAG,QAAQxB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,0BAA0B1B,EAAG,IAAI,CAACE,YAAY,mBAAmB,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,8BAA+B,CAAEQ,MAAOtC,EAAI4I,sBAAuB,OAAOxI,EAAG,YAAY,CAACW,GAAG,CAAC,aAAef,EAAI2K,iBAAiBC,YAAY5K,EAAI6K,GAAG,CAAC,CAACrI,IAAI,QAAQsI,GAAG,WAAW,MAAO,CAAC1K,EAAG,IAAI,CAACE,YAAY,kBAAkB,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,oCAAoC,SAASiJ,OAAM,IAAO,MAAK,EAAM,cAAc,OAAO/K,EAAIkC,KAAK9B,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CACj8FwF,MAAOhG,EAAI8B,GAAG,iBACdmE,YAAa,eACbE,YAAY,GACZ,iBAAiBnG,EAAIoG,cAAchG,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CAC1EwF,MAAOhG,EAAI8B,GAAG,uBACdmE,YAAa,QACbE,YAAY,GACZ,mBAAkBnG,EAAImM,WAA0B,iBAAiBnM,EAAIoM,cAAc,GAAGhM,EAAG,uBAAuB,MAAM,IAC9H,EAAkB,G,6CC8HtB,cACE,OAAO,IAAI,EAAb,MAGA,GACEkG,WAAY,CACV,qBAAsBC,EAA1B,KACI,YAAagF,EACb,mBAAoBc,EAAxB,KACI,kBAAmB7F,EAAvB,MAEEC,MAAO,CACL3F,kBAAmB,CACjB4F,KAAMC,MACNC,QAAS,WACP,MAAO,KAGXC,OAAQ,CACNH,KAAMI,OACNF,QAAS,IAEXjB,OAAQ,CACNe,KAAMK,OACNH,QAAS,WACP,MAAO,CACLI,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,cAAe,GACfC,eAAgB,GAChBC,cAAe,GACfzB,UAAW,GACX0B,OAAQ,GACRC,gBAAiB,GACjBpE,MAAO,MAIbxC,sBAAuB,CACrB+F,KAAM4F,SACN1F,QAAS,cAEXhG,2BAA4B,CAC1B8F,KAAM4F,SACN1F,QAAS,cAEXlG,sBAAuB,CACrBgG,KAAM4F,SACN1F,QAAS,cAEX/F,2BAA4B,CAC1B6F,KAAM4F,SACN1F,QAAS,eAGba,KApDF,WAqDI,MAAO,CACLC,OAAQ,EACRC,UAAW,EACXC,UAAW,EACX2E,aAAa,EACbxE,wBAAwB,EACxBC,WAAY,GACZiE,aAAc,MACdO,gBAAiB,QAGrB9D,SAAU,OAAZ,OAAY,CAAZ,GACA,qEADA,CAEI+D,cAFJ,WAGM,OACN,wDAGIC,WAPJ,WAQM,OAAOzM,KAAK0F,QAAU1F,KAAKwM,eAE7BV,MAVJ,WAWM,OAAI9L,KAAKwM,eACAxM,KAAK6I,wBAA0B7I,KAAK+L,sBAI/CW,YAhBJ,WAiBM,OACN,gCACA,2BACA,kBAGIb,SAvBJ,WAwBM,OAAO,EAAb,0CAEIc,aA1BJ,WA2BM,GAAI3M,KAAKyM,WAAY,CACnB,IAAR,4CACQ,OAAO,EAAf,uBAEM,OAAO,GAETV,qBAjCJ,WAkCM,QAAI/L,KAAKyM,aAAe,EAA9B,uBACe,EAAf,yCAIIP,WAvCJ,WAwCM,QAAIlM,KAAKyM,cACH,EAAZ,sBAEA,yDACA,gCACA,2BACA,oBAKIG,oBAnDJ,WAoDM,OAAI5M,KAAKyM,WACAzM,KAAKS,sBACpB,4CAGUT,KAAK0F,OACA1F,KAAK0F,OAAO4B,gBAEd,GAETqB,mBA9DJ,WA+DM,OAAI3I,KAAKyM,YAAczM,KAAK0F,OACnB1F,KAAK6M,oBAAoB7M,KAAK4M,qBAEhC,MAET/D,uBApEJ,WAqEM,OAAI7I,KAAKyM,YACAzM,KAAK4M,oBAAoBE,IAAI,IAIxCC,0BA1EJ,WA2EM,OAAI/M,KAAKyM,YACAzM,KAAK4M,oBAAoBI,IAAI,MAIxClE,oBAhFJ,WAiFM,OAAI9I,KAAKyM,WACAzM,KAAKY,2BACpB,4CAEA,YACeZ,KAAK0F,OAAOqD,iBAEd,KAGXS,QAAS,CACP2C,UADJ,WAEWnM,KAAKkM,YACVlM,KAAKgB,WAEP0J,gBALJ,SAKA,GACM1K,KAAKsM,YAAcW,GAErBpH,oBAAJ,OACID,kBAAJ,OACIiH,oBAAJ,OACIZ,QAXJ,SAWA,GACM,OAAO,EAAb,UAEI5E,OAdJ,WAeMrH,KAAKyH,OAAS,EAApB,0BACA,kCAEMzH,KAAKkN,gBAEP/C,WApBJ,WAqBMnK,KAAKyH,OAASzH,KAAK0F,OAAOC,WAE5B,QAvBJ,WAuBA,wJACA,qBACA,oBACA,yBACA,mCAEA,6CANA,8CAUIQ,WAjCJ,WAkCMnG,KAAKyJ,MAAMC,MAAMC,QAEnBC,gBApCJ,WAoCA,WACMC,YAAW,WACT,EAAR,eACA,QC7UoY,ICQhY,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAI9J,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,UAAU,CAACG,IAAI,QAAQD,YAAY,4BAA4BE,MAAM,CAAC,MAAQR,EAAI8B,GAAG,4BAA4B,SAAW,GAAG,cAAc,GAAG,OAAS,GAAG,KAAO,KAAK,CAAC1B,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,gCAAgC,OAAO1B,EAAG,MAAM,CAAC8C,MAAM,CAAC,YAAalD,EAAI4M,aAAe,GAAK,WAAW,CAACxM,EAAG,QAAQ,CAACuC,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUP,MAAOtC,EAAU,OAAE8C,WAAW,WAAWkI,SAAS,CAAC,MAAShL,EAAU,QAAGe,GAAG,CAAC,MAAQ,SAAS0B,GAAWA,EAAOwI,OAAOC,YAAqBlL,EAAI0H,OAAOjF,EAAOwI,OAAO3I,WAAUlC,EAAG,OAAO,CAACE,YAAY,cAAc,CAACN,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAIwM,sBAAsBpM,EAAG,MAAM,CAACE,YAAY,YAAY,CAAGN,EAAI4M,aAA4G5M,EAAIkC,KAAlG9B,EAAG,IAAI,CAACE,YAAY,aAAa,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,4BAA4B,OAAgB1B,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI2F,OAAOyH,OAASpN,EAAI6F,kBAAkB7F,EAAI2F,OAAOyH,OAAOpN,EAAI0H,QAAS,GAAG,GAAS,GAAG,IAAI1H,EAAI6B,GAAG7B,EAAI8B,GAAG,yBAAyB,OAAO1B,EAAG,UAAU,CAACI,MAAM,CAAC,WAAaR,EAAI8B,GAAG,+BAA+B,SAAS1B,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,8BAA8B1B,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,QAAQ,CAACE,YAAY,UAAU,CAACF,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,YAAYO,GAAG,CAAC,MAAQ,SAAS0B,GAAQzC,EAAI+H,wBAA0B/H,EAAI+H,2BAA2B3H,EAAG,OAAO,CAACE,YAAY,uBAAuBF,EAAG,MAAM,CAACE,YAAY,gBAAgB4C,MAAMlD,EAAI+H,wBAA0B,sBAAsB,CAAC3H,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,sCAAsC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI6F,kBAAkB7F,EAAI2F,OAAOwB,cAAe,OAAOnH,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAIwM,iBAAiB,SAASpM,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,wCAAwC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI6F,kBAAkB7F,EAAI+I,oBAAqB,OAAO/I,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAIiM,cAAc,SAAS7L,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,yCAAyC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI6F,kBAAmB7F,EAAI8F,oBAAoB9F,EAAI4I,oBAAqB,IAAK,iBAAiBxI,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CACjmFwF,MAAOhG,EAAI8B,GAAG,qBACdmE,YAAa,eACbE,YAAY,GACZ,iBAAiBnG,EAAIoG,cAAchG,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CAC1EwF,MAAOhG,EAAI8B,GAAG,qBACdmE,YAAa,QACbE,YAAY,GACZ,mBAAkBnG,EAAImM,WAA0B,iBAAiBnM,EAAIoM,cAAc,GAAGhM,EAAG,uBAAuB,MAAM,IAC9H,EAAkB,GCiHtB,cACE,OAAO,IAAI,EAAb,MAGA,GACEkG,WAAY,CACV,qBAAsBC,EAA1B,KACI,kBAAmBC,EAAvB,MAEEC,MAAO,CACL3F,kBAAmB,CACjB4F,KAAMC,MACNC,QAAS,WACP,MAAO,KAGXC,OAAQ,CACNH,KAAMI,OACNF,QAAS,IAEXjB,OAAQ,CACNe,KAAMK,OACNH,QAAS,WACP,MAAO,CACLI,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,cAAe,GACfC,eAAgB,GAChBC,cAAe,GACfzB,UAAW,GACX0B,OAAQ,GACRC,gBAAiB,GACjBpE,MAAO,MAIbxC,sBAAuB,CACrB+F,KAAM4F,SACN1F,QAAS,cAEXhG,2BAA4B,CAC1B8F,KAAM4F,SACN1F,QAAS,cAEXlG,sBAAuB,CACrBgG,KAAM4F,SACN1F,QAAS,cAEX/F,2BAA4B,CAC1B6F,KAAM4F,SACN1F,QAAS,eAGba,KAlDF,WAmDI,MAAO,CACLC,OAAQ,EACRC,UAAW,EACXC,UAAW,EACX2E,aAAa,EACbxE,wBAAwB,EACxBC,WAAY,GACZiE,aAAc,MACdO,gBAAiB,QAGrB9D,SAAU,OAAZ,OAAY,CAAZ,GACA,qEADA,CAEI+D,cAFJ,WAGM,OACN,wDAGIG,aAPJ,WAQM,GAAI3M,KAAKyH,QAA0B,KAAhBzH,KAAKyH,OAAe,CACrC,IAAR,4CACQ,OAAO,EAAf,uBAEM,OAAO,GAET2F,qBAdJ,WAeM,SAAIpN,KAAKyH,QAA0B,KAAhBzH,KAAKyH,SACf,EAAf,iBACA,+BAKIyE,WAtBJ,WAuBM,GAAI,EAAV,6BACM,IAAN,6BACA,qBACM,OAAOlM,KAAK2M,eAAiBU,GAAWrN,KAAKsM,cAE/C3D,mBA5BJ,WA6BM,OAAI3I,KAAK0F,QAAU1F,KAAKyH,OAAS,EACxBzH,KAAKU,sBACpB,gDAEA,YACeV,KAAK0F,OAAOkD,YAEd,GAETC,uBAtCJ,WAuCM,OAAI7I,KAAK0F,QAAU1F,KAAKyH,OAAS,EACxBzH,KAAKU,sBACpB,gDACA,QACA,aACe,EAAf,iCAIIqM,0BAhDJ,WAiDM,OAAI/M,KAAK0F,QAAU1F,KAAKyH,OAAS,EACxBzH,KAAKU,sBACpB,gDACA,UACA,aACe,EAAf,mCAIIoI,oBA1DJ,WA2DM,OAAI9I,KAAK0F,QAAU1F,KAAKyH,OAAS,EACxBzH,KAAKW,2BACpB,mDAEA,YACeX,KAAK0F,OAAOqD,iBAEd,KAGXO,MAAO,GACPoC,QApIF,WAoIA,WACI1L,KAAKyJ,MAAMC,MAAMiC,IAAI,SAAS,WAC5B,EAAN,aAGEnC,QAAS,CACP2C,UADJ,WAEWnM,KAAKkM,YACVlM,KAAKe,WAEP2J,gBALJ,WAMM1K,KAAKsM,aAAetM,KAAKsM,aAE3BzG,oBAAJ,OACID,kBAAJ,OACIqG,QAVJ,SAUA,GACM,OAAO,EAAb,UAEI9B,WAbJ,WAcMnK,KAAKyH,OAASzH,KAAK0F,OAAOC,WAE5B,QAhBJ,WAgBA,wJACA,qBACA,oBACA,6BAHA,8CAMIQ,WAtBJ,WAuBMnG,KAAKyJ,MAAMC,MAAMC,QAEnBC,gBAzBJ,WAyBA,WACMC,YAAW,WACT,EAAR,eACA,QCnSmY,ICQ/X,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,GAAS,WAAa,IAAI9J,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,UAAU,CAACG,IAAI,QAAQD,YAAY,4BAA4BE,MAAM,CAAC,MAAQR,EAAI8B,GAAG,6BAA6B,SAAW,GAAG,cAAc,GAAG,OAAS,GAAG,KAAO,KAAK,CAAC1B,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,IAAI,CAACE,YAAY,WAAW,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,+BAA+B,OAAO1B,EAAG,QAAQ,CAACJ,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,oCAAoC1B,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACE,YAAY,eAAeS,GAAG,CAAC,MAAQf,EAAIuN,cAAc,CAACvN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,6BAA6B,SAAS1B,EAAG,MAAM,CAAC8C,MAAM,CAAC,YAAalD,EAAI8I,uBAAyB,GAAK,WAAW,CAAC1I,EAAG,QAAQ,CAACuC,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUP,MAAOtC,EAAU,OAAE8C,WAAW,WAAWkI,SAAS,CAAC,MAAShL,EAAU,QAAGe,GAAG,CAAC,MAAQ,SAAS0B,GAAWA,EAAOwI,OAAOC,YAAqBlL,EAAI0H,OAAOjF,EAAOwI,OAAO3I,WAAUlC,EAAG,OAAO,CAACE,YAAY,cAAc,CAACN,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAIwM,sBAAsBpM,EAAG,MAAM,CAACE,YAAY,YAAY,CAAEN,EAAwB,qBAAEI,EAAG,IAAI,CAACE,YAAY,aAAa,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,iCAAiC,OAAO9B,EAAIkC,KAAK9B,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,IAAI,CAACE,YAAY,cAAc,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI2F,OAAOyH,OAASpN,EAAI6F,kBAAkB7F,EAAI2F,OAAOyH,OAAOpN,EAAI0H,QAAS,GAAG,GAAS,GAAG,IAAI1H,EAAI6B,GAAG7B,EAAI8B,GAAG,oBAAoB,OAAO1B,EAAG,UAAU,CAACI,MAAM,CAAC,WAAaR,EAAI8B,GAAG,+BAA+B,SAAS1B,EAAG,mBAAmB,CAACI,MAAM,CAAC,MAAQ,uBAAuB,CAACJ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,gCAAgC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI2F,OAAO2B,OAAStH,EAAI6F,kBAAkB7F,EAAI2F,OAAOsB,WAAY,GAAK,MAAMjH,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAIwM,iBAAiB,SAASpM,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,wCAAwC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI6F,kBAAkB7F,EAAI+I,oBAAqB,OAAO/I,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAIiM,cAAc,SAAS7L,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,yCAAyC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI6F,kBAAmB7F,EAAI8F,oBAAoB9F,EAAI4I,oBAAqB,IAAK,gBAAiB5I,EAAI8I,wBAA0B9I,EAAIkM,QAAQlM,EAAI0H,QAAStH,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAI4B,GAAG,QAAQxB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,0BAA0B1B,EAAG,IAAI,CAACE,YAAY,mBAAmB,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,8BAA+B,CAAEQ,MAAOtC,EAAI6F,kBAAmB7F,EAAI8F,oBAAoB9F,EAAI4I,wBAA0B,OAAOxI,EAAG,YAAY,CAACW,GAAG,CAAC,aAAef,EAAI2K,iBAAiBC,YAAY5K,EAAI6K,GAAG,CAAC,CAACrI,IAAI,QAAQsI,GAAG,WAAW,MAAO,CAAC1K,EAAG,IAAI,CAACE,YAAY,kBAAkB,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,oCAAoC,SAASiJ,OAAM,IAAO,MAAK,EAAM,cAAc,OAAO/K,EAAIkC,KAAK9B,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CACntGwF,MAAOhG,EAAI8B,GAAG,iBACdmE,YAAa,eACbE,YAAY,GACZ,iBAAiBnG,EAAIoG,cAAchG,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CAC1EwF,MAAOhG,EAAI8B,GAAG,iBACdmE,YAAa,QACbE,YAAY,GACZ,mBAAkBnG,EAAImM,WAA0B,iBAAiBnM,EAAIoM,cAAc,GAAGhM,EAAG,uBAAuB,MAAM,IAC9H,GAAkB,GCuItB,eACE,OAAO,IAAI,EAAb,MAGA,IACEkG,WAAY,CACV,qBAAsBC,EAA1B,KACI,YAAagF,EACb,mBAAoBc,EAAxB,KACI,kBAAmB7F,EAAvB,MAEEC,MAAO,CACL3F,kBAAmB,CACjB4F,KAAMC,MACNC,QAAS,WACP,MAAO,KAGXC,OAAQ,CACNH,KAAMI,OACNF,QAAS,IAEXjB,OAAQ,CACNe,KAAMK,OACNH,QAAS,WACP,MAAO,CACLI,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,cAAe,GACfC,eAAgB,GAChBC,cAAe,GACfzB,UAAW,GACX0B,OAAQ,GACRC,gBAAiB,GACjBpE,MAAO,MAIbxC,sBAAuB,CACrB+F,KAAM4F,SACN1F,QAAS,cAEXhG,2BAA4B,CAC1B8F,KAAM4F,SACN1F,QAAS,cAEXlG,sBAAuB,CACrBgG,KAAM4F,SACN1F,QAAS,cAEX/F,2BAA4B,CAC1B6F,KAAM4F,SACN1F,QAAS,eAGba,KApDF,WAqDI,MAAO,CACLC,OAAQ,EACRC,UAAW,EACXC,UAAW,EACX2E,aAAa,EACbxE,wBAAwB,EACxBC,WAAY,GACZiE,aAAc,MACdO,gBAAiB,QAGrB9D,SAAU,OAAZ,OAAY,CAAZ,GACA,qEADA,CAEI+D,cAFJ,WAGM,OACN,yDAGIC,WAPJ,WAQM,OAAOzM,KAAK0F,QAAU1F,KAAKwM,eAE7Be,qBAVJ,WAWM,QAAIvN,KAAKwM,gBACC,GAAhB,iBACA,6BAKIY,qBAlBJ,WAmBM,QAAIpN,KAAKwM,eACA,GAAf,iBACA,gCAKIN,WA1BJ,WA2BM,QAAIlM,KAAKwM,iBACH,GAAZ,sBAEA,yDACA,gCACA,2BACA,oBAKII,oBAtCJ,WAuCM,OAAI5M,KAAKyM,WACAzM,KAAKS,sBACpB,6CAGUT,KAAK0F,OACA1F,KAAK0F,OAAO4B,gBAEd,GAETqB,mBAjDJ,WAkDM,OAAI3I,KAAKyM,WACAzM,KAAKU,sBACpB,kDAEA,YACeV,KAAK0F,OAAOkD,YAEd,MAETC,uBA3DJ,WA4DM,OAAI7I,KAAKyM,eACHzM,KAAK0F,OAAOwD,UACTlJ,KAAK2I,mBAAmBmE,IAAI,KAIvCC,0BAlEJ,WAmEM,OAAI/M,KAAKyM,aACHzM,KAAK0F,OAAOwD,UACTlJ,KAAK2I,mBAAmBqE,IAAI,MAIvClE,oBAzEJ,WA0EM,OAAI9I,KAAKyM,WACAzM,KAAKW,2BACpB,kDAEA,YACeX,KAAK0F,OAAOqD,iBAEd,KAGXO,MAAO,GACPoC,QArJF,WAqJA,WACI1L,KAAKyJ,MAAMC,MAAMiC,IAAI,SAAS,WAC5B,EAAN,YAEI3L,KAAKyJ,MAAMC,MAAMiC,IAAI,UAAU,WAC7B,EAAN,aAGEnC,QAAS,CACP2C,UADJ,WAEWnM,KAAKkM,YACVlM,KAAKmB,WAEPuJ,gBALJ,SAKA,GACM1K,KAAKsM,YAAcW,GAErBpH,oBAAJ,OACID,kBAAJ,OACIqG,QAVJ,SAUA,GACM,OAAO,GAAb,UAEIqB,YAbJ,WAcMtN,KAAKyH,OAASzH,KAAK0F,OAAOsB,WAC1BhH,KAAKkN,gBAEP/C,WAjBJ,WAkBMnK,KAAKyH,OAASzH,KAAK0F,OAAOC,WAE5B,QApBJ,WAoBA,wJACA,sBACA,oBACA,yBACA,mCAEA,6CANA,8CAUIQ,WA9BJ,WA+BMnG,KAAKyJ,MAAMC,MAAMC,QAEnBC,gBAjCJ,WAiCA,WACMC,YAAW,WACT,EAAR,eACA,QCrVoY,MCQhY,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAI9J,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,UAAU,CAACG,IAAI,QAAQD,YAAY,4BAA4BE,MAAM,CAAC,MAAQR,EAAI8B,GAAG,4BAA4B,SAAW,GAAG,cAAc,GAAG,OAAS,GAAG,KAAO,KAAK,CAAC1B,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,eAAe,CAACN,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,8BAA8B,OAAS9B,EAAIyN,aAAyWzN,EAAIkC,KAA/V9B,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,gCAAgC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAIuF,YAAY,IAAIvF,EAAI6B,GAAG7B,EAAI8B,GAAG,0BAA0B1B,EAAG,IAAI,CAACE,YAAY,UAAUS,GAAG,CAAC,MAAQ,SAAS0B,GAAQ,OAAOzC,EAAIwF,YAAY,CAACxF,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,uBAAuB,SAAkB1B,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACW,GAAG,CAAC,MAAQf,EAAIoK,aAAa,CAACpK,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,kCAAkC1B,EAAG,MAAM,CAAC8C,MAAM,CAAC,aAAclD,EAAI0N,aAAe,GAAK,WAAW,CAACtN,EAAG,QAAQ,CAACuC,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUP,MAAOtC,EAAU,OAAE8C,WAAW,WAAWkI,SAAS,CAAC,MAAShL,EAAU,QAAGe,GAAG,CAAC,MAAQ,SAAS0B,GAAWA,EAAOwI,OAAOC,YAAqBlL,EAAI0H,OAAOjF,EAAOwI,OAAO3I,WAAUlC,EAAG,IAAI,CAACE,YAAY,iBAAiB,CAACN,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,0BAA0B1B,EAAG,mBAAmB,CAACI,MAAM,CAAC,MAAQ,uBAAuB,CAACJ,EAAG,KAAK,CAACE,YAAY,WAAW,CAACF,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,kCAAkC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI2F,OAAOC,UAAY5F,EAAI6F,kBAAkB7F,EAAI2F,OAAOC,UAAW,GAAK,MAAM5F,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,mBAAmB,SAAS1B,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,qCAAqC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI2F,OAAOgI,sBAAsB3N,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAI8B,GAAG,mBAAmB,SAAS1B,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,wCAAwC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI6F,kBAAkB7F,EAAI+I,oBAAqB,OAAO/I,EAAI4B,GAAG,IAAI5B,EAAI6B,GAAG7B,EAAIiM,cAAc,SAAS7L,EAAG,KAAK,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI8B,GAAG,yCAAyC1B,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAI4B,GAAG5B,EAAI6B,GAAG7B,EAAI6F,kBAAmB7F,EAAI8F,oBAAoB9F,EAAI4I,oBAAqB,IAAK,eAAexI,EAAG,MAAM,CAACE,YAAY,WAAW,CAAEN,EAAmB,gBAAEI,EAAG,MAAM,CAACA,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CACz1EwF,MAAOhG,EAAI8B,GAAG,0BACdmE,YAAa,eACbC,WAAW,EACXC,YAAY,GACZ,iBAAiBnG,EAAIkB,eAAe,GAAGlB,EAAIkC,KAAMlC,EAAmB,gBAAEI,EAAG,MAAM,CAACA,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CACvHwF,MAAOhG,EAAI8B,GAAG,4BACdmE,YAAa,eACbC,WAAW,EACXC,YAAY,GACZ,iBAAiBnG,EAAImB,eAAe,GAAGnB,EAAIkC,OAAO9B,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CAC7HwF,MAAOhG,EAAI8B,GAAG,iBACdmE,YAAa,eACbE,YAAY,EACZD,WAAW,GACX,iBAAiBlG,EAAIoG,cAAchG,EAAG,kBAAkB,CAACI,MAAM,CAAC,QAAU,CAC1EwF,MAAOhG,EAAI8B,GAAG,iBACdmE,YAAa,QACbE,YAAY,EACZD,WAAW,GACX,mBAAkBlG,EAAImM,WAA0B,iBAAiBnM,EAAIoM,cAAc,GAAGhM,EAAG,uBAAuB,MAAM,IAC9H,GAAkB,GCoHtB,eACE,OAAO,IAAI,EAAb,MAGA,IACEkG,WAAY,CACV,qBAAsBC,EAA1B,KACI,mBAAoB8F,EAAxB,KACI,kBAAmB7F,EAAvB,MAEEC,MAAO,CACL3F,kBAAmB,CACjB4F,KAAMC,MACNC,QAAS,WACP,MAAO,KAGXC,OAAQ,CACNH,KAAMI,OACNF,QAAS,IAEXjB,OAAQ,CACNe,KAAMK,OACNH,QAAS,WACP,MAAO,CACLI,YAAa,GACbC,WAAY,GACZC,WAAY,GACZC,cAAe,GACfC,eAAgB,GAChBC,cAAe,GACfzB,UAAW,GACX0B,OAAQ,GACRC,gBAAiB,GACjBpE,MAAO,MAIbxC,sBAAuB,CACrB+F,KAAM4F,SACN1F,QAAS,cAEXhG,2BAA4B,CAC1B8F,KAAM4F,SACN1F,QAAS,cAEXlG,sBAAuB,CACrBgG,KAAM4F,SACN1F,QAAS,cAEX/F,2BAA4B,CAC1B6F,KAAM4F,SACN1F,QAAS,eAGba,KAnDF,WAoDI,MAAO,CACLC,OAAQ,EACRC,UAAW,EACXC,UAAW,EACXK,SAAU,GACVC,SAAU,GACVqE,aAAa,EACbxE,wBAAwB,EACxBC,WAAY,GACZiE,aAAc,MACdO,gBAAiB,MACjBnE,aAAc,CACZC,OAAQ,MACR1F,KAAM,YAER2F,WAAY,CACVD,OAAQ,MACR1F,KAAM,SAER4F,iBAAkB,EAClBC,YAAa,KAGjBC,SAAU,OAAZ,OAAY,CAAZ,GACA,qEADA,CAEI+D,cAFJ,WAGM,OACN,yDAGIC,WAPJ,WAQM,OAAOzM,KAAK0F,QAAU1F,KAAKwM,eAE7BV,MAVJ,WAWM,OAAI9L,KAAKwM,eACAxM,KAAK6I,wBAA0B7I,KAAK+L,sBAI/CY,aAhBJ,WAiBM,GAAI3M,KAAKyM,WAAY,CACnB,IAAR,4CACQ,OAAO,GAAf,wBAEM,OAAO,GAETkB,WAvBJ,WAwBM,OAAI3N,KAAKyM,WACA,GAAf,aACA,2BACA,qCAEa,GAETe,aA/BJ,WAgCM,OAAIxN,KAAKyM,YACA,GAAf,2CAIIgB,aArCJ,WAsCM,OAAIzN,KAAKyM,YACA,GAAf,uCAIIW,qBA3CJ,WA4CM,QAAIpN,KAAKyM,YACA,GAAf,iBACA,gCAKIV,qBAnDJ,WAoDM,OAAI/L,KAAKyM,YACA,GAAf,0CAIIP,WAzDJ,WA0DM,OAAOlM,KAAKyN,cAEdb,oBA5DJ,WA6DM,OAAI5M,KAAKyM,WACAzM,KAAKS,sBACpB,8CAGUT,KAAK0F,OACA1F,KAAK0F,OAAO4B,gBAEd,MAETqB,mBAvEJ,WAwEM,OAAI3I,KAAKyH,OAAS,EACTzH,KAAK4M,oBACpB,YACe5M,KAAK0F,OAAOkD,YAEd,MAETC,uBA/EJ,WAgFM,OAAI7I,KAAKyH,OAAS,IACZzH,KAAK4M,oBAAoBI,IAAI,IAAI,EAA7C,UAGehN,KAAK4M,oBAAoBE,IAAI,IAC5C,aACe,GAAf,iCAIIC,0BA1FJ,WA2FM,OAAI/M,KAAKyH,OAAS,IAEZzH,KAAK4M,oBAAoBI,IAAI,IAAI,EAA7C,UAGehN,KAAK4M,oBAAoBE,IAAI,MAC5C,aACe,GAAf,mCAIIhE,oBAtGJ,WAuGM,OAAI9I,KAAK0F,OAAOC,WAAa3F,KAAKyH,OAAS,EAClCzH,KAAKY,2BACpB,8CAEA,6BACeZ,KAAK0F,OAAOqD,iBAEd,GAETzD,WAhHJ,WAiHM,OAAItF,KAAKgI,SACAhI,KAAKgI,SAASgB,QAEhB,GAETxD,WAtHJ,WAuHM,OAAIxF,KAAKiI,SACAjI,KAAKiI,SAASe,QAEhB,GAETI,gBA5HJ,WA6HM,SAAI,GAAV,uCAEA,8DAKa,GAAb,sCAEIC,gBAtIJ,WAuIM,SAAI,GAAV,uCAEA,qCACA,iCAMa,GAAb,wCAGEC,MAAO,GACPoC,QA/NF,WA+NA,WACI1L,KAAKyJ,MAAMC,MAAMiC,IAAI,SAAS,WAC5B,EAAN,SACM,EAAN,kBAGEnC,QAAS,CACP2C,UADJ,WAEWnM,KAAKkM,YACVlM,KAAKoB,WAEPsJ,gBALJ,WAMM1K,KAAKsM,aAAetM,KAAKsM,aAE3BzG,oBAAJ,OACID,kBAAJ,OACIqG,QAVJ,SAUA,GACM,OAAO,GAAb,UAEI5E,OAbJ,WAcMrH,KAAKyH,OAAS,GAApB,0BACA,oCAGI0C,WAlBJ,WAmBMnK,KAAKyH,OAASzH,KAAK0F,OAAOC,WAE5B,QArBJ,WAqBA,wJACA,sBACA,oBACA,oCACA,sCAEA,6BANA,8CAUI4D,YA/BJ,WAgCMvJ,KAAKgI,SAAWhI,KAAKa,kBAAkBuJ,MAAK,SAAlD,GACQ,MAAuB,QAAhBC,EAAKhC,UAEdrI,KAAKiI,SAAWjI,KAAKa,kBAAkBuJ,MAAK,SAAlD,GACQ,MAAuB,QAAhBC,EAAKhC,WAGhB9C,OAvCJ,WAwCM,IAAN,kBACU,GAAV,yBACQvF,KAAKuI,iBAAmB,GAAhC,GACA,2BACA,uBACA,WACY,GAAZ,kCACUvI,KAAKuI,iBAAmB,MAE1BvI,KAAKoI,aAAe,CAClBC,OAAQ,MACR1F,KAAM,YAER3C,KAAKsI,WAAa,CAChBD,OAAQ,MACR1F,KAAM,SAER3C,KAAKuK,UAAUC,MACvB,mBACA,qBACA,kBACA,gBACA,yBAIIrE,WAlEJ,WAmEMnG,KAAKyJ,MAAMC,MAAMC,QAEnBC,gBArEJ,WAqEA,WACMC,YAAW,WACT,EAAR,eACA,MAEI,WA1EJ,WA0EA,wJACA,sBADA,8CAGI,WA7EJ,WA6EA,wJACA,sBADA,gDC/bmY,MCQ/X,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,sXCdf,SAAS+D,GAASC,GAChB,OAAIA,EAAMC,QAIVD,EAAMC,MAAQ,WACZ,IAAMC,EAAOrH,MAAMsH,UAAUF,MAAMG,KAAKC,WACxC,OAAO,IAAIC,WAAWzH,MAAMsH,UAAUF,MAAMM,MAAMP,EAAOE,MALlDF,EAWX,SAASQ,GAAWhM,GAClB,IACGA,GACDiM,SAASjM,EAAMW,SAAWX,EAAMW,QACf,kBAAVX,EAEP,OAAO,EAGT,IAAK,IAAIkM,EAAI,EAAGA,EAAIlM,EAAMW,OAAQuL,IAAK,CACrC,IAAMC,EAAInM,EAAMkM,GAChB,GAAIC,EAAI,GAAKA,GAAK,KAAOF,SAASE,IAAMA,EACtC,OAAO,EAIX,OAAO,EAGF,SAASC,GAASpM,GAKvB,GAJIA,GAASA,EAAMqM,cACjBrM,EAAQA,EAAMqM,eAGZC,GAAYtM,GAAQ,CACtBA,EAAQA,EAAMuM,UAAU,GACpBvM,EAAMW,OAAS,IACjBX,EAAQ,IAAMA,GAIhB,IADA,IAAMqG,EAAS,GACN6F,EAAI,EAAGA,EAAIlM,EAAMW,OAAQuL,GAAK,EACrC7F,EAAOmG,KAAKP,SAASjM,EAAMyM,OAAOP,EAAG,GAAI,KAG3C,OAAOX,GAAS,IAAIO,WAAWzF,IAEjC,GAAI2F,GAAWhM,GACb,OAAOuL,GAAS,IAAIO,WAAW9L,IAI5B,SAAS0M,GAAS1M,EAAOW,GAG9B,GAFAX,EAAQoM,GAASpM,GAEbW,EAASX,EAAMW,OACjB,MAAM,IAAIgM,MAAM,cAGlB,IAAMtG,EAAS,IAAIyF,WAAWnL,GAE9B,OADA0F,EAAOuG,IAAI5M,EAAOW,EAASX,EAAMW,QAC1B4K,GAASlF,GAGlB,SAASiG,GAAYtM,EAAOW,GAC1B,QAAqB,kBAAVX,IAAuBA,EAAM6M,MAAM,wBAG1ClM,GAAUX,EAAMW,SAAW,EAAI,EAAIA,GAMzC,IAAMmM,GAAgB,mBAEf,SAASC,GAAQ/M,GACtB,GAAIA,GAASA,EAAMqM,YACjB,OAAOrM,EAAMqM,cAGf,GAAqB,kBAAVrM,EAAoB,CAC7B,IAAIgN,EAAM,GACV,MAAOhN,EACLgN,EAAMF,GAAsB,GAAR9M,GAAgBgN,EACpChN,EAAQiM,SAASjM,EAAQ,IAG3B,OAAIgN,EAAIrM,QACFqM,EAAIrM,OAAS,IACfqM,EAAM,IAAMA,GAEP,KAAOA,GAGT,OAGT,GAAIV,GAAYtM,GAId,OAHIA,EAAMW,OAAS,IACjBX,EAAQ,MAAQA,EAAMuM,UAAU,IAE3BvM,EAGT,GAAIgM,GAAWhM,GAAQ,CAErB,IADA,IAAMqG,EAAS,GACN6F,EAAI,EAAGA,EAAIlM,EAAMW,OAAQuL,IAAK,CACrC,IAAMC,EAAInM,EAAMkM,GAChB7F,EAAOmG,KAAKM,IAAmB,IAAJX,IAAa,GAAKW,GAAkB,GAAJX,IAE7D,MAAO,KAAO9F,EAAO4G,KAAK,K,iBCxGtBC,GAAkBC,KAAlBD,IAAKE,GAAaD,KAAbC,IAAKC,GAAQF,KAARE,IAEZC,GAAc,SAAAC,GAClB,OAAO,IAAIC,IAAUD,IAGFE,G,WACnB,WAAY5M,EAAO6M,EAAMC,EAAUC,GAAS,wBAC1CjQ,KAAKkD,MAAQA,EACblD,KAAKkQ,IAAM,GACXlQ,KAAK+P,KAAOA,GAAQ,GACpB/P,KAAKmQ,OAAQ,EACbnQ,KAAK8E,SAAW,EAChB9E,KAAKkE,KAAO,GACZlE,KAAKoQ,QAAUH,EAAQG,UAAW,EAClCpQ,KAAKgQ,SAAWA,GAAY,KAC5BhQ,KAAKqQ,aAAc,EACnBrQ,KAAKsQ,SAAU,EACftQ,KAAKuQ,SAAU,EACfvQ,KAAKwQ,UAAW,EAChBxQ,KAAKyQ,kBAAmB,EACxBzQ,KAAK0Q,gBAAkB,EAEvB1Q,KAAK2Q,UAAYhB,GAAY,GAC7B3P,KAAK4Q,QAAS,EACd5Q,KAAK2F,UAAYgK,GAAY,GAC7B3P,KAAK6Q,aAAe,EACpB7Q,KAAKkH,cAAgByI,GAAY,GACjC3P,KAAKmH,eAAiBwI,GAAY,GAClC3P,KAAK8Q,eAAiBnB,GAAY,GAClC3P,KAAK+Q,eAAiBpB,GAAY,G,4NAiLzBzM,E,+BAAQlD,KAAKkD,M,SAChBlD,KAAKgR,aAAa9N,G,uBAEhBlD,KAAKgE,WAAWiN,iBAAiBjR,KAAKkD,MAAOqM,I,cADrDvP,KAAK+Q,e,OAEHpB,cAEF3P,KAAKmQ,OAAQ,E,kBACNnQ,M,8SAGUkD,E,+BAAQlD,KAAKkD,MAC9B,IACElD,KAAKkR,SAAW9B,GACdL,GAAS/O,KAAK+P,KAAKoB,MAAMC,YAAYpR,KAAKkD,OAAQ,KAEpD,MAAOmO,GAEPC,QAAQC,MAAMF,G,gBAEWrR,KAAKgQ,SAASwB,W,UAAzCxR,KAAKyR,c,OACLzR,KAAKoQ,QAAiC,OAAvBpQ,KAAKyR,eAChBzR,KAAKyR,c,iCACUzR,KAAKgQ,SAASxL,OAAOtB,EAAOlD,KAAKyR,e,OAAlDzR,KAAKkQ,I,gDAEYlQ,KAAKgQ,SAASxL,OAAOtB,GAAO,G,QAA7ClD,KAAKkQ,I,gCAEgBlQ,KAAKkQ,IAAIwB,sB,eAA1BC,E,OACN3R,KAAK2Q,UAAYgB,EAAShC,cAAc1F,QAAQ,G,UAC5BjK,KAAKkQ,IAAIU,S,eAA7B5Q,KAAK4Q,O,iBACmB5Q,KAAKkQ,IAAI0B,e,eAAjC5R,KAAK2F,U,OAA4CgK,c,UACvB3P,KAAKkQ,IAAI2B,4B,eAAnC7R,KAAK6Q,a,iBACuB7Q,KAAKkQ,IAAI4B,qB,eAArC9R,KAAKkH,c,OAAsDyI,c,UAEnD3P,KAAKkQ,IAAI4B,mBAAmBtC,KAAMuC,M,eAD1C/R,KAAKmH,e,OAEHwI,c,UAEM3P,KAAKkQ,IAAI4B,mBAAmBtC,KAAMwC,K,QAD1ChS,KAAK8Q,e,OAEHnB,c,+RAIE3P,KAAKwQ,S,gCACoBxQ,KAAKiE,aAAagO,e,UAAvCA,E,QACFA,E,uBACFjS,KAAKwQ,UAAW,E,SACVxQ,KAAKgE,WAAWkO,KAAKlS,KAAKkD,MAAOlD,KAAKyR,e,WAG5CzR,KAAKqQ,Y,wBACPrQ,KAAKuQ,SAAU,EACfvQ,KAAKqQ,aAAc,E,UACbrQ,KAAKgR,aAAahR,KAAKkD,O,eAC7BlD,KAAK8E,W,kBACE9E,M,iCAEFA,M,uSAIoBA,KAAKgQ,SAASwB,W,OAAzCxR,KAAKyR,c,qTAIsBzR,KAAKwR,W,UAA1BS,E,OACDA,E,wBACHjS,KAAKqQ,aAAc,E,SACNrQ,KAAKiE,aAAakO,c,oDACtBnS,KAAKoS,sB,wBACdpS,KAAKqQ,aAAc,E,UACbrQ,KAAKgE,WAAWkO,KAAKlS,KAAKkD,MAAOlD,KAAKyR,e,mMAIlCY,EAAQC,G,4FAChBD,GAAU,G,yCAAU,G,UAEnBrS,KAAK8B,S,wBACR9B,KAAKuQ,SAAU,EACfvQ,KAAKqQ,aAAc,E,SACJrQ,KAAKgE,WAAWuO,8BAC7BF,EACAC,EACA,M,OAHFE,E,sCAMAxS,KAAKuQ,SAAU,EACfvQ,KAAKqQ,aAAc,E,UACJrQ,KAAKgE,WAAWuO,8BAC7BF,EACAC,EACAtS,KAAKyS,c,QAHPD,E,wCAOKA,EAAOE,I,sMAGFjL,G,8FAENzH,KAAKoQ,Q,wDAGTpQ,KAAKqQ,aAAc,E,SACbrQ,KAAKgE,WAAW2O,aACpB3S,KAAKyR,cACLzR,KAAKkD,MACLuE,G,0DAIF6J,QAAQC,MAAR,M,iJAII9J,GAAmC,IAA3BmL,EAA2B,wDACzC,GACE5S,KAAK6S,gBAAgB7S,KAAKkH,cAAelH,KAAK2F,UAAUmN,KAAKrL,IAASsL,GACpE,IAEFH,EAEA,IACE,GAAI5S,KAAKoQ,QACP,OAEFpQ,KAAKqQ,aAAc,EACnBrQ,KAAKgE,WAAWgP,aAAahT,KAAKyR,cAAezR,KAAKkD,MAAOuE,GAC7D,MAAO4J,GAEPC,QAAQC,MAAMF,M,yFAMN5J,G,oHAAQmL,E,kCAElB5S,KAAK2F,UAAUsN,GAAG,IAClBjT,KAAK6S,gBAAgB7S,KAAKkH,cAAcgM,MAAMzL,GAASzH,KAAK2F,WAAWoN,GACrE,MAEFH,G,8BAGM5S,KAAKoQ,Q,wDAGTpQ,KAAKqQ,aAAc,EACb8C,EAAa,GACnBA,EAAWzD,IAAM0D,6BAAe,OAC1BC,EAAcC,gCAAkBH,GAChCI,EAAkB,6CAClBC,EAAW,IAAIxT,KAAK+P,KAAK0D,IAAIC,SAASC,GAAUJ,GAChDK,EAAQJ,EAAShK,QACpBqK,KACC7T,KAAKgE,WAAW8P,eAAe5I,QAC/BlL,KAAKkR,SACLmC,EAAY5L,EAAQiI,IAAKzF,QAAQ,QAElC8J,YACGC,EAAgB,IAAIhU,KAAK+P,KAAK0D,IAAIC,SACtCO,QACAjU,KAAKyR,eAEDjK,EAAOwM,EAAcxK,QACxB0K,QAAQX,EAAiBK,GACzBG,Y,kBACI/T,KAAK+P,KAAK0D,IACdU,gBAAgB,CACfC,GAAIpU,KAAKyR,cACT4C,KAAMrU,KAAKsU,eACX9M,KAAMA,EACN+M,IAAK,MAENC,OAAM,SAAAC,GACLC,OAAMC,gBAAgBF,EAAKC,OAAME,W,qCAIrCtD,QAAQC,MAAR,M,6MAKQ9J,G,8FAENzH,KAAKoQ,Q,wDAGTpQ,KAAKqQ,aAAc,E,SACbrQ,KAAKgE,WAAW6Q,aACpB7U,KAAKyR,cACLzR,KAAKkD,MACLuE,G,0DAIF6J,QAAQC,MAAR,M,gTAKIlP,EAAQrC,KAAK2F,UAAUmP,W,SAChB9U,KAAKgE,WAAW+Q,gBAAgB/U,KAAKkD,MAAOb,G,0UAKvDrC,KAAKqQ,aAAc,EACnBrQ,KAAKsQ,SAAU,GAEXtQ,KAAK8B,S,gCACD9B,KAAKgE,WAAWgR,UAAUhV,KAAKyR,cAAezR,KAAKkD,O,0DAI3DoO,QAAQ2D,IAAI,mBAEZ3D,QAAQC,MAAR,M,8NAK6BrG,G,uGACzBlL,KAAKwR,W,uBACSxR,KAAKiE,aAAaiR,gBAAgBhK,G,cAAhDJ,E,yBACCA,G,mMAGKI,G,uGACNlL,KAAKwR,W,uBACSxR,KAAKiE,aAAaiR,gBAAgBhK,G,UAAhDJ,E,QACFA,E,wBACF9K,KAAKqQ,aAAc,EACnBrQ,KAAKsQ,SAAU,E,UACTtQ,KAAKgE,WAAWmR,UAAUnV,KAAKyR,cAAezR,KAAKkD,MAAO4H,G,mCACtD9K,KAAKoQ,Q,wBACfpQ,KAAKqQ,aAAc,EACnBrQ,KAAKsQ,SAAU,E,UACTtQ,KAAKgE,WAAWmR,UAAUnV,KAAKyR,cAAezR,KAAKkD,MAAOgI,G,uCAEhElL,KAAKqQ,aAAc,EACnBrQ,KAAKsQ,SAAU,E,UACTtQ,KAAKgE,WAAWkO,KAAKlS,KAAKkD,MAAOgI,G,iJAI3BzD,GACd,OAAOzH,KAAKgE,WAAW+Q,gBAAgBtN,EAAQgI,GAAI2F,O,4BAI/C3B,GACJ,IAAM4B,EAAQrV,KAAKgQ,SAASsF,MAAM7B,GAClC,OAAI4B,EAAME,GAAG,GACJ5F,GAAY,GAEd0F,I,6BAGF5B,GACL,OAAOzT,KAAKgQ,SAAS7C,OAAOsG,K,mCAI5B,IAAM+B,EAAK7F,GAAY3P,KAAKwD,UAAUuG,MACpC4F,GAAY3P,KAAKkH,gBAEbuO,EAAK9F,GAAY3P,KAAK2F,WAAWoE,MACrC4F,GAAY3P,KAAK8D,mBAEnB,OAAO0R,EAAGtC,MAAMuC,GAAIC,IAAI/F,GAAY3P,KAAKwD,a,sCAG3B6O,EAAQC,GACtB,OAAID,GAAU,GAAKC,GAAU,EAAU3C,GAAY,GAC5CkD,eAAgB7S,KAAKwD,SAAU6O,EAAQC,K,2CAG3BD,EAAQC,GAC3B,OAAID,GAAU,GAAKC,GAAU,EAAU3C,GAAY,GAC5CgG,eACLtD,EACAC,EACAtS,KAAKwD,SACLxD,KAAK8D,oB,+LAMD9D,KAAKiI,SAAS2N,iBAAiB5V,KAAKyS,c,wSAIpCzS,KAAKgI,SAAS4N,iBAAiB5V,KAAKyS,c,4SAIlBzS,KAAKgQ,SAAS/H,SAASe,U,cAA/ChJ,KAAKwF,W,yBACExF,KAAKwF,Y,8IAxdZ,OAAOxF,KAAKgQ,SAAS6F,QAAQ3K,U,yCAI7B,OAAOlL,KAAKgQ,SAASpM,qB,mCAIrB,OAAO5D,KAAKgQ,SAASnM,e,+BAIrB,OAAO7D,KAAKgQ,SAASxM,W,gCAIrB,OAAOxD,KAAKgQ,SAAS8F,a,sCAIrB,OAAO9V,KAAKgQ,SAASrM,kB,uCAIrB,OAAO3D,KAAKgQ,SAASlM,mB,mCAIrB,OAAO9D,KAAKgQ,SAASyB,gB,+BAIrB,OAAOzR,KAAKgQ,SAASlO,W,wCAIrB,OAAO9B,KAAKgQ,SAAS+F,oB,wCAIrB,OAAO/V,KAAKgQ,SAASgG,oB,+BAIrB,OAAOhW,KAAKgQ,SAASiG,Y,iCAIrB,OAAOjW,KAAKgQ,SAASxK,a,+BAIrB,OAAOxF,KAAKgQ,SAASkG,Y,iCAIrB,OAAOlW,KAAKgQ,SAAS1K,a,mCAIrB,OAAOtF,KAAKgQ,SAASmG,gB,iCAIrB,OAAOnW,KAAKgQ,SAASoG,c,6BAIrB,OAAOpW,KAAKgQ,SAASqG,W,8BAIrB,OAAOrW,KAAKgQ,SAAStM,U,+BAMrB,OAAOiM,GAAY3P,KAAK2F,WAAWsN,GAAG,K,oCAItC,OAAOjT,KAAKsV,MAAMtV,KAAKkH,iB,uCAIvB,OAAOlH,KAAKkH,cAAc4N,a,kCAI1B,OAAO9U,KAAK6Q,e,uCAIZ,OAAO7Q,KAAK2Q,Y,wCAIZ,OAAO3Q,KAAK+Q,iB,6BAIZ,OACE/Q,KAAKwD,UACLxD,KAAKkH,eACLlH,KAAK8D,kBACL9D,KAAK2F,UAEE0B,eACLrH,KAAKwD,SACLxD,KAAKkH,cACLlH,KAAK8D,iBAAiBgP,KAAK,MAC3B9S,KAAK2F,WAGFgK,GAAY,K,iCAInB,OAAI3P,KAAKwD,UAAYxD,KAAK2F,WAAa3F,KAAK8D,iBACtC9D,KAAKkJ,SACAlC,eACLhH,KAAKkH,cACLlH,KAAK8D,iBACL9D,KAAK2F,UACL3F,KAAKwD,SACLxD,KAAKqW,OAAOtM,MAAM,IAClBE,QAAQ,IAELjD,eACLhH,KAAKkH,cACLlH,KAAK8D,iBACL9D,KAAK2F,UACL3F,KAAKwD,UACLyG,QAAQ,IAEL0F,GAAY,K,kCAInB,OAAI3P,KAAKyD,WAAazD,KAAKmH,gBAAkBnH,KAAK8D,iBAC5C9D,KAAKkJ,SACAnC,eACL/G,KAAKmH,eACLnH,KAAK8D,iBACL9D,KAAK2F,UACL3F,KAAKyD,UACLzD,KAAK0D,QAAQqG,MAAM,IAGhBhD,eACL/G,KAAKmH,eACLnH,KAAK8D,iBACL9D,KAAK2F,UACL3F,KAAKyD,WAGFkM,GAAY,K,iCAInB,OAAI3P,KAAKyD,WAAazD,KAAKmH,gBAAkBnH,KAAK8D,iBACzC9D,KAAKsV,MAAMtV,KAAKgH,YAElB2I,GAAY,K,4CAInB,OAAO3P,KAAKyR,eAAiBzR,KAAKoQ,W,gCAoTpBkG,GACd,OAAIzG,IAAU0G,YAAYD,GACjBA,EAAIxB,WAENnF,GAAY2G,GAAKxB,a,0CAGChL,GAEzB,OADK+F,IAAU0G,YAAYzM,KAAMA,EAAM,IAAI+F,IAAU/F,IAC9CA,EAAIC,MAAM,KAAKC,a,wCAGCF,GAAiC,IAA5BI,EAA4B,uDAAjB,EAAGsM,IAAc,yDAExD,OADK3G,IAAU0G,YAAYzM,KAAMA,EAAM,IAAI+F,IAAU/F,IACjD0M,EAAc1M,EAAIG,QAAQC,EAAU2F,IAAU4G,YAAYzM,WACvDF,EAAIG,QAAQC,GAAUF,e,+BCrVjC,wBAEA,eACE,OAAO,IAAI,EAAb,MAGA,mBACE,OAAO,GAAT,GACA,aACA,YAGA,IACE3D,WAAY,CACV,iBAAkBqQ,EAClB,gBAAiBC,EACjB,iBAAkBC,GAClB,gBAAiBC,GACjB,cAAeC,EAAnB,KACI,kBAAmBC,EACnB,iBAAkBC,GAEpBxQ,MAAO,CACL3F,kBAAmB,CACjB4F,KAAMC,MACNC,QAAS,WACP,MAAO,KAGXsQ,WAAY,CACVxQ,KAAM4F,SACN1F,QAAS,cAEXuQ,WAAY,CACVzQ,KAAMI,OACNF,QAAS,MAGba,KA1BF,WA2BI,MAAO,CACLjG,iBAAkB,GAClBD,qBAAqB,EACrB6V,YAAa,GACbC,UAAW,GACXxL,UAAW,GACXpL,aAAc,CACZuG,YAAa,GAArB,GACQC,WAAY,GAApB,GACQC,WAAY,GAApB,GACQC,cAAe,GAAvB,GACQC,eAAgB,GAAxB,GACQC,cAAe,GAAvB,GACQzB,UAAW,GAAnB,GACQ0B,OAAQ,GAAhB,GACQC,gBAAiB,GAAzB,GACQ+O,OAAQ,GAAhB,GACQnT,MAAO,MAETmU,cAAe,GACfnT,KAAM,GACNnB,iBAAkB,GAClBiB,WAAY,GACZG,kBAAkB,EAClB8N,aAAc,KACdqF,aAAc,GACdC,aAAa,EACbC,SAAU,EACVlF,OAAQ,EACR9O,SAAU,GAAhB,GACM6O,OAAQ,EACRvO,iBAAkB,GAAxB,GACMF,mBAAoB,GAA1B,GACMR,aAAa,EACbqU,SAAU,GACVlQ,aAAc,GACdnD,oBAAqB,GACrBC,gBAAgB,EAChBC,eAAe,EACfL,aAAc,GACdwO,aAAc,KACdhP,UAAW,GAAjB,GACMC,QAAS,GAAf,GACMK,aAAc,GACd2T,WAAY,EACZ7T,aAAc,GAApB,GACMoM,QAAS,GACT0H,YAAa,GACbC,YAAa,EACbrT,cAAe,EACfZ,gBAAiB,GAAvB,KAGE8E,SAAU,OAAZ,OAAY,CAAZ,GACA,qEADA,CAEIoP,WAFJ,WAGM,OAAI7X,KAAKqS,QAAU,EAAU,EACtByF,GAAO9X,KAAKwD,SAAUxD,KAAKqS,OAAQrS,KAAK8D,mBAEjDiU,cANJ,WAOM,OAAI/X,KAAKsS,QAAU,EAAU,EACtBwF,GAAO9X,KAAK8D,iBAAkB9D,KAAKsS,OAAQtS,KAAKwD,WAEzDwU,gBAVJ,WAWM,MACN,mEAGIC,WAfJ,WAgBM,OACN,eACA,sDAGIC,YArBJ,WAsBM,OAAOlY,KAAKkE,KAAKlB,OAAS,GAAKhD,KAAK+C,iBAAiBC,OAAS,GAEhEjB,SAxBJ,WAyBM,MAA4B,eAArB/B,KAAKmY,OAAOxV,MAErBG,gBA3BJ,WA4BM,OAAI9C,KAAKgC,yBAGDhC,KAAK8B,WAAa9B,KAAK+B,WAEjCC,sBAjCJ,WAkCM,OAAOhC,KAAK8B,UAAY9B,KAAK+C,iBAAiBC,QAAU,GAE1DK,SApCJ,WAqCM,OAAOrD,KAAKkE,KAAKlB,OAAS,GAAKhD,KAAK+C,iBAAiBC,OAAS,GAEhElB,SAvCJ,WAwCM,OAA6B,OAAtB9B,KAAKyS,cAEd2F,oBA1CJ,WA2CM,OAAOpY,KAAKyS,gBAGhBnJ,MAAO,OAAT,OAAS,CAAT,GACA,mBADA,WAEI,KAAJ,eACI,KAAJ,WAGE+O,UApIF,WAqIIrY,KAAK+D,aAAe,GACpB/D,KAAKgE,WAAa,GAClBhE,KAAKiE,aAAe,GACpBjE,KAAKqX,cAAgB,GACrBrX,KAAK4L,UAAY,GACjB5L,KAAKyX,SAAW,GAChBzX,KAAKiQ,QAAU,GACfjQ,KAAK2X,YAAc,IAErB,QA9IF,WA8IA,wKACA,UADA,8CAGEnO,QAAS,CACP3E,YADJ,WAEM7E,KAAKqE,gBAAiB,EACtBrE,KAAKsE,eAAgB,GAEvBgU,SALJ,WAMMtY,KAAKuY,QAAQ1J,KAAK,CAChBlM,KAAM,eAGV6V,WAVJ,WAWUxY,KAAKmY,OAAOM,KAAKC,SAAS,eAC5B1Y,KAAKQ,aAAeR,KAAK2Y,aACzB3Y,KAAKuY,QAAQ1J,KAAK,CAChBlM,KAAM,iBAIZiW,WAlBJ,WAmBU5Y,KAAKmY,OAAOM,KAAKC,SAAS,eACH,IAArB1Y,KAAKkE,KAAKlB,OACZhD,KAAKuY,QAAQ1J,KAAK,CAChBlM,KAAM,aACNkW,OAAQ,CACN3V,MAAOlD,KAAKkE,KAAK,MAG/B,iCACUlE,KAAKuY,QAAQ1J,KAAK,CAChBlM,KAAM,cACNkW,OAAQ,CACN3V,MAAOlD,KAAK+C,iBAAiB,MAG3C,gBAEU/C,KAAKuY,QAAQ1J,KAAK,CAChBlM,KAAM,eAGR3C,KAAKwY,eAIXlV,WA5CJ,SA4CA,GACUtD,KAAKmY,OAAOM,KAAKC,SAAS,eAC5B1Y,KAAK0E,eAAexB,GACpBlD,KAAKuY,QAAQ1J,KAAK,CAChBlM,KAAM,aACNkW,OAAQ,CACN3V,MAAOA,OAKfC,YAvDJ,SAuDA,GACUnD,KAAKmY,OAAOM,KAAKC,SAAS,eAC5B1Y,KAAK0E,eAAexB,GACpBlD,KAAKuY,QAAQ1J,KAAK,CAChBlM,KAAM,cACNkW,OAAQ,CACN3V,MAAOA,OAKfgC,YAlEJ,WAmEMlF,KAAKyJ,MAAMqP,QAAQrP,MAAMC,MAAMqP,QAEjChU,aArEJ,WAsEM/E,KAAKyJ,MAAMuP,SAASvP,MAAMC,MAAMqP,QAElC/T,YAxEJ,WAyEMhF,KAAKyJ,MAAMwP,QAAQxP,MAAMC,MAAMqP,QAEjC9T,aA3EJ,WA4EMjF,KAAKyJ,MAAMyP,SAASzP,MAAMC,MAAMqP,QAElC7W,UA9EJ,WA8EA,WACMlC,KAAKyJ,MAAMpI,SAASoI,MAAMC,MAAMiC,IAAI,UAAU,WAC5C,EAAR,wBAEM3L,KAAKyJ,MAAMpI,SAASoI,MAAMC,MAAMqP,QAElCrX,SApFJ,WAoFA,WACM1B,KAAKyJ,MAAMjI,QAAQiI,MAAMC,MAAMiC,IAAI,UAAU,WAC3C,EAAR,wBAEM3L,KAAKsB,qBAAsB,EAC3BtB,KAAKyJ,MAAMjI,QAAQiI,MAAMC,MAAMqP,QAEjC,MA3FJ,WA2FA,iLACA,gBACA,gBACA,SACA,IACA,aACA,kBACA,EACA,kBAFA,wCAGA,kGACA,oCADA,gCAEA,aAFA,4CATA,SAeA,sBACA,oCACA,YACA,UACA,0BAnBA,cAeA,QAfA,iBAuBA,uBAvBA,eAwBA,yCAxBA,UAyBA,uBAzBA,eAyBA,cAzBA,iBA0BA,yBA1BA,eA0BA,gBA1BA,iBA2BA,yBA3BA,eA2BA,gBA3BA,OA6BA,mBA7BA,KA+BA,GA/BA,UAgCA,8BAhCA,2BAgCA,WADA,YA/BA,mBAmCA,GAnCA,UAoCA,+BApCA,2BAoCA,WADA,aAnCA,mBAuCA,GAvCA,UAwCA,+BAxCA,2BAwCA,WADA,gBAvCA,mBA2CA,GA3CA,UA4CA,oCA5CA,2BA2CA,oBA3CA,mBA8CA,GA9CA,UA+CA,sCA/CA,2BA8CA,sBA9CA,oBAiDA,GAjDA,UAkDA,uCAlDA,4BAiDA,gBAjDA,sBAqDA,GArDA,UAsDA,qCAtDA,4BAqDA,mBArDA,0BAwDA,+BAxDA,eAwDA,eAxDA,OA0DA,wCA1DA,UA2DA,qBA3DA,eA2DA,aA3DA,OA2DA,cACA,wCA5DA,UA6DA,qBA7DA,eA6DA,aA7DA,OA6DA,cAEA,yCACA,gBACA,4BACA,SACA,oCACA,kCACA,wCACA,2BACA,uBAvEA,UA0EA,oBA1EA,yBA4EA,eA5EA,oBA4EA,EA5EA,EA4EA,YA5EA,EA4EA,aACA,SACA,uBAEA,8CAhFA,kCAiFA,mBAjFA,QAoFA,4BACA,8CACA,sBACA,iBAEA,8BACA,qCAEA,gBAGA,eA/FA,+CAmGI,WA9LJ,WA8LA,wKACA,uBADA,sFAGIpU,OAjMJ,WAkMM3E,KAAKuX,aAAc,GAErB3S,UApMJ,SAoMA,GACM,WACS5E,KAAKqX,cAAc8B,EAAKzG,IAC/B,EAAR,oEACA,SAEQpB,QAAQC,MAAMF,KAGlB,mBA7MJ,SA6MA,kKACA,iCADA,SAEA,gBAFA,8CAII,gBAjNJ,WAiNA,wKACA,aADA,8CAGI,QApNJ,WAoNA,wKACA,aADA,8CAGI,SAvNJ,WAuNA,sLACA,aADA,cACA,eADA,OAEA,KACA,+BAHA,SAIA,oBAJA,6CAKA,GALA,qFAMA,4BANA,qBAOA,wBAPA,gBAQA,YACA,gBACA,kDACA,8CACA,4BAZA,2BAcA,wBAdA,kCAeA,+BAfA,iDAiBA,yBAjBA,QAiBA,gBAjBA,kBAoBA,mBApBA,kCAqBA,sBArBA,yBAsBA,iCAtBA,wEAKA,cALA,qDAKA,EALA,6BAKA,GALA,yDA0BA,qBA1BA,eA0BA,aA1BA,OA0BA,cA1BA,UA2BA,qBA3BA,eA2BA,aA3BA,OA2BA,cA3BA,UA4BA,oBA5BA,WA8BA,mDA9BA,kCA+BA,mBA/BA,yBAgCA,iCAhCA,iDAkCA,iCAlCA,WAqCA,eACA,2BACA,0BACA,IACA,MAGA,KACA,uBACA,6CACA,eAEA,iBAGA,cApDA,wBAqDA,iBArDA,UAsDA,oBAtDA,QAuDA,oEAvDA,wBAyDA,kBACA,oEA1DA,+CA8DI,gBArRJ,WAqRA,4JACA,eADA,gCAGA,uDAHA,cAEA,qBAFA,OAIA,cAJA,SAOA,uDAPA,OAMA,qBANA,OAQA,cARA,8CAWI,eAhSJ,SAgSA,+JACA,gDACA,kBAEA,uBAJA,gBAKA,8BALA,6BAOA,iBAPA,SAQA,wBARA,OAQA,eARA,qDAWI,mBA3SJ,SA2SA,gLACA,kBACA,eACA,uBACA,uBACA,WACA,iBANA,oCAQA,EARA,CASA,QACA,0BACA,wBACA,wBACA,8BACA,gCACA,8BACA,sBACA,gBACA,8BACA,oCACA,gBACA,UACA,sCACA,oCACA,SACA,oBACA,oBACA,uBA3BA,8CA8BI,WAzUJ,WAyUA,+JACA,sBADA,SAEA,2BAFA,cAEA,mBAFA,OAGA,UAHA,SAIA,oBAJA,cAIA,OAJA,OAMA,iFANA,kBAQA,oDARA,+CAWI,uBApVJ,WAoVA,gLACA,2CADA,cACA,EADA,gBAEA,wBACA,oCAHA,cAEA,EAFA,yBAKA,aALA,8CAQI,gBA5VJ,WA4VA,wKACA,aADA,cACA,eADA,gBAEA,wCAFA,sFAII,gBAhWJ,WAgWA,+KACA,4BADA,SAEA,eAFA,UAIA,iBACA,uEAGA,6BACA,uEAGA,YACA,oBAEA,+BACA,8CAIA,YACA,0DAGA,YAxBA,iBAyBA,IAzBA,YAyBA,YAzBA,kCA0BA,uBA1BA,QA0BA,mBA1BA,eAyBA,IAzBA,4BA8BA,YA9BA,iBA+BA,IA/BA,aA+BA,YA/BA,kCAgCA,iBACA,KACA,CACA,aAnCA,QAgCA,mBAhCA,eA+BA,IA/BA,wBAyCA,kDACA,eA1CA,+CA6CI,eA7YJ,WA6YA,gKACA,IADA,YACA,iBADA,gCAEA,4BAFA,OAEA,wBAFA,cACA,IADA,sBAIA,IAJA,YAIA,6BAJA,kCAKA,iBACA,sBACA,CACA,aARA,QAKA,oCALA,eAIA,IAJA,8DAaI,eA1ZJ,SA0ZA,oOACA,EADA,kBAEA,EAFA,CAGA,6BACA,wCACA,4BACA,oBACA,uBACA,kCACA,4BACA,oCACA,sCACA,sCACA,sBACA,wBACA,sBACA,wBACA,gBACA,qBAGA,+BArBA,gCAsBA,oBAtBA,OAsBA,MAtBA,kCAuBA,mBAvBA,kCAwBA,gCAxBA,QAwBA,MAxBA,gDA0BA,oBA1BA,QA0BA,MA1BA,kBA6BA,GACA,kBACA,8BACA,4BACA,0BACA,oBACA,oBACA,oBACA,qBACA,gBACA,cACA,6BACA,wCACA,4BACA,oBACA,uBACA,kCACA,4BACA,oCACA,sCACA,sCACA,sBACA,wBACA,sBACA,wBACA,gBACA,mBAGA,wBACA,EA3DA,kCA4DA,UA5DA,0EA8DA,GA9DA,+CAiEI,SA3dJ,WA2dA,wKACA,+BADA,UACA,eADA,OAEA,eAFA,gCAGA,gCACA,mBAJA,OAGA,eAHA,OAMA,+BANA,gCAQA,gBARA,8CAWItQ,QAteJ,SAseA,GACMf,KAAKoZ,WAAWrY,QAAQuV,IAE1BlV,QAzeJ,SAyeA,GACMpB,KAAKoZ,WAAWhY,QAAQkV,IAE1BnV,QA5eJ,SA4eA,cACqB,OAAXmV,EAAI,GACNtW,KAAKoZ,WAAWjY,QAAQmV,EAAI,IAAI+C,MAAK,WAC/B,EAAd,mCACY,EAAZ,cAIQrZ,KAAKoZ,WAAWjY,QAAQmV,EAAI,GAAIA,EAAI,IAAI+C,MAAK,WACvC,EAAd,mCACY,EAAZ,eAKIrY,QA3fJ,SA2fA,GACqB,OAAXsV,EAAI,GACNtW,KAAKoZ,WAAWpY,QAAQsV,EAAI,IAE5BtW,KAAKoZ,WAAWpY,QAAQsV,EAAI,GAAIA,EAAI,KAGxCjV,SAlgBJ,WAmgBMrB,KAAKoZ,WAAW/X,YAElBI,2BArgBJ,SAqgBA,cACMzB,KAAKoZ,WACX,8BACA,kBACQ,EAAR,mBACQ,EAAR,gCAEA,mBACQ,MAAR,MAGI5X,QAhhBJ,SAghBA,GACMxB,KAAKoZ,WAAW5X,QAAQ8U,IAG1B7V,sBAphBJ,SAohBA,GACM,OAAO,GACb,mEAIIC,sBA1hBJ,SA0hBA,GACM,OAAO,GACb,+DAIIE,2BAhiBJ,SAgiBA,GACM,OAAO,GACb,qCACA,8BACA,KAKID,2BAziBJ,SAyiBA,GACM,OAAO,GACb,oEAGI,WA9iBJ,WA8iBA,wKACA,gBACA,aACA,iCAHA,8CAKI,WAnjBJ,WAmjBA,wJACA,8DADA,8CAGI8D,OAtjBJ,SAsjBA,GACM,OAAOqC,OAAOwS,KAAKtZ,KAAKuZ,YAAYb,SAC1C,mBAIIlU,OA5jBJ,SA4jBA,GACM,OAAOxE,KAAKuZ,WAAWrW,IAGzB,YAhkBJ,SAgkBA,8JACA,SADA,qDAEA,+BAFA,gCAGA,qBAHA,mDAIA,oCAJA,kCAKA,iCALA,qDAMA,eANA,kCAOA,iCAPA,kEASA,qBATA,wFAYI,WA5kBJ,WA4kBA,wKACA,aADA,UACA,eADA,OAEA,eAFA,iCAGA,wBAHA,uBAIA,+BAJA,cAIA,eAJA,yBAKA,gBALA,yBAOA,+BAPA,eAOA,eAPA,yBAQA,gBARA,+CAWI,WAvlBJ,SAulBA,iLACA,aADA,UACA,EADA,QAEA,EAFA,gCAGA,wBAHA,8CAQImT,OA/lBJ,WAgmBM,OAAIrW,KAAK2D,gBACA,GAAf,0CAEa,MAET2R,MArmBJ,SAqmBA,GACM,YAAYkE,IAAR/F,GAA6B,OAARA,EAAqB,GAApD,GACazT,KAAKwD,SAASuG,MAAM,GAAjC,KAGIoD,OA1mBJ,SA0mBA,GACM,OAAK,GAAX,SAGa,GAAb,GAFe,GAAf,gCCj9BiW,MCQ7V,I,UAAY,eACd,GACArN,EACAqF,GACA,EACA,KACA,WACA,OAIa,gB,oECnBf,yBAAwmB,EAAG,G,sFCA3mB,yBAAomB,EAAG,G,kCCAvmB,yBAAymB,EAAG,G,ivHCA5mB,yBAA0jB,EAAG,G,kCCA7jB,yBAAymB,EAAG,G,yWCEtmBwK,EAAc,SAAAC,GAClB,OAAO,IAAIC,IAAUD,IAGjBkI,EAAS,SAAC2B,EAAKC,EAAKC,GACxB,OAAOhK,EAAY8J,GAChB1P,MAAM4F,EAAY+J,IAClBhE,IAAI/F,EAAYgK,KAGd,SAAS9T,EAAoBiE,GAElC,OADK+F,IAAU0G,YAAYzM,KAAMA,EAAM,IAAI+F,IAAU/F,IAC9CA,EAAIC,MAAM,KAAKC,WAGjB,SAASpE,EAAkBkE,GAAiC,IAA5BI,EAA4B,uDAAjB,EAAGsM,IAAc,yDAEjE,OADK3G,IAAU0G,YAAYzM,KAAMA,EAAM,IAAI+F,IAAU/F,KAChD8P,SAAS9P,IAAQ+P,MAAM/P,GAAa,KACrC0M,EAAc1M,EAAIG,QAAQC,EAAU2F,IAAU4G,YAAYzM,WACvDF,EAAIG,QAAQC,GAAUF,WAGxB,SAAS6C,EAAoB/C,GAAiC,IAA5BI,EAA4B,uDAAjB,EAAGsM,IAAc,yDAC7DnU,EAAQuD,EAAkBC,EAAoBiE,GAAMI,EAAUsM,GACpE,OAAIoD,SAASvX,IAAU,IAAIwN,IAAUxN,GAAO0Q,GAAG,GACtC1Q,EAEF,KAKF,SAASgF,EAAO7D,EAAU0D,EAAepD,EAAkB6B,GAChE,OAAOmS,EACLnI,EAAYnM,GACZmM,EAAYzI,GACZyI,EAAY7L,IACZoP,MAAMvD,EAAYhK,IAGf,SAASoB,EACdI,EACArD,EACA6B,EACAlC,GAEA,IADAC,EACA,uDADU,EAEV,OAAOiM,EAAYxI,GAChB+L,MACC4E,EACEnI,EAAY7L,GAAkBgP,KAAK,MACnCnD,EAAYhK,GACZgK,EAAYlM,KAGfyP,MAAMvD,EAAYjM,GAASqG,MAAM,IAG/B,SAAS/C,EACdE,EACApD,EACA6B,EACAnC,GAEA,IADA6S,EACA,uDADS,EAET,OAAO1G,EAAYzI,GAChBgM,MACC4E,EACEnI,EAAY7L,GACZ6L,EAAYhK,GACZgK,EAAYnM,KAGf0P,MAAMvD,EAAY0G,GAAQtM,MAAM,IAG9B,SAAS8I,EAAgBR,EAAQC,EAAQ9O,GAC9C,OAAOsU,EAAOnI,EAAYnM,GAAW6O,EAAQC,GAGxC,SAASqD,EACdtD,EACAC,EACA9O,EACAM,GAGA,IADA,IAAMgW,EAASxL,SAAS9K,GACf+K,EAAIuL,EAAQvL,EAAI,EAAGA,IAAK,CAC/B,IAAMwL,EAAUjC,EAAOvJ,EAAG8D,EAAQC,GAAQtF,IACxC2C,EAAY7L,IAEd,GAAIiW,EACF,OAAOxL,EAGX,IAAK,IAAIA,EAAI,IAAKA,EAAI,EAAGA,IAAK,CAC5B,IAAMwL,EAAUjC,EAAOvJ,EAAI,IAAK8D,EAAQC,GAAQtF,IAC9C2C,EAAY7L,IAEd,GAAIiW,EACF,OAAOxL,EAAI,IAGf,OAAO,I,kCCzGT,yBAAwmB,EAAG,G,kCCA3mB,yBAAmmB,EAAG,G","file":"js/chunk-252ef923.c52a76d1.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=style&index=0&id=1738db86&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=style&index=0&id=1738db86&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-maker\"},[_c('deposit-modal',{ref:\"deposit\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"lockEth\":_vm.lockEth}}),_c('generate-modal',{ref:\"generate\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"drawDai\":_vm.drawDai}}),_c('withdraw-modal',{ref:\"withdraw\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"approveDai\":_vm.approveDai,\"approveMkr\":_vm.approveMkr,\"freeEth\":_vm.freeEth}}),_c('payback-modal',{ref:\"payback\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"approveDai\":_vm.approveDai,\"approveMkr\":_vm.approveMkr,\"wipeDai\":_vm.wipeDai}}),_c('close-cdp-modal',{ref:\"closeCdp\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"approveDai\":_vm.approveDai,\"approveMkr\":_vm.approveMkr,\"closeCdp\":_vm.closeCdp}}),_c('move-cdp-modal',{ref:\"moveCdp\",attrs:{\"values\":_vm.activeValues,\"calc-collat-ratio-dai-chg\":_vm.calcCollatRatioDaiChg,\"calc-collat-ratio-eth-chg\":_vm.calcCollatRatioEthChg,\"calc-liquidation-price-eth-chg\":_vm.calcLiquidationPriceEthChg,\"calc-liquidation-price-dai-chg\":_vm.calcLiquidationPriceDaiChg,\"dest-address-has-proxy\":_vm.destAddressHasProxy,\"dest-address-proxy\":_vm.destAddressProxy,\"tokens-with-balance\":_vm.tokensWithBalance},on:{\"moveCdp\":_vm.moveCdp,\"checkForProxy\":_vm.checkIfDestAddressHasProxy}}),_c('back-button',{attrs:{\"path\":'/interface/dapps/'}},[_c('div',{staticClass:\"back-bar-container\"},[(_vm.showMoveOrClose)?_c('div',{staticClass:\"header-buttons-container\"},[_c('div',{staticClass:\"inner-container\"},[_c('button',{staticClass:\"move-btn\",on:{\"click\":_vm.showMove}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.move-title')))])]),(!((!_vm.hasProxy && !_vm.onCreate) || _vm.showCdpMigrateButtons))?_c('div',[_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.showClose}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.close-title')))])])]):_vm._e()])]):_vm._e()])]),(_vm.makerActive)?_c('div',{staticClass:\"buttons-container\"},[(_vm.showCreateProxy)?_c('div',[_c('div',{staticClass:\"dapps-button\",on:{\"click\":_vm.buildProxy}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.create-proxy')))])])]):_vm._e(),(_vm.showCreateProxy)?_c('div',{staticClass:\"proxy-container\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.proxy-instructions'))+\" \")]):_vm._e(),(_vm.showCdpMigrateButtons)?_c('div',_vm._l((_vm.cdpsWithoutProxy),function(value,idx){return _c('div',{key:idx + value},[_c('div',{staticClass:\"dapps-button\"},[_c('div',{on:{\"click\":function($event){return _vm.migrateCdpExternal(value)}}},[_c('h4',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.migrate-cdp', { value: value }))+\" \")])])])])}),0):_vm._e(),(_vm.showCdpMigrateButtons)?_c('div',{staticClass:\"proxy-container\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.migrate-instructions'))+\" \")]):_vm._e()]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.makerActive),expression:\"makerActive\"}],staticClass:\"buttons-container\"},[(_vm.showCreateProxy && _vm.cdpsWithoutProxy.length > 1)?_c('div',_vm._l((_vm.cdpsWithoutProxy),function(value,idx){return _c('div',{key:idx + value},[_c('div',{class:[\n            'dapps-button',\n            _vm.activeValues.cdpId === value ? 'active' : ''\n          ]},[_c('div',{on:{\"click\":function($event){return _vm.openMigrate(value)}}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.cdp'))+\" #\"+_vm._s(value))])])])])}),0):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.makerActive && _vm.listCdps),expression:\"makerActive && listCdps\"}],staticClass:\"buttons-container\"},_vm._l((_vm.cdps),function(value,idx){return _c('div',{key:idx + value},[_c('div',{class:[\n          'dapps-button',\n          _vm.activeValues.cdpId === value ? 'active' : ''\n        ]},[_c('div',{on:{\"click\":function($event){return _vm.openManage(value)}}},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.cdp'))+\" #\"+_vm._s(value))])])])])}),0),_c('router-view',{attrs:{\"build-empty\":_vm.buildEmpty,\"maker-active\":_vm.makerActive,\"eth-price\":_vm.ethPrice,\"peth-price\":_vm.pethPrice,\"peth-min\":_vm.pethMin,\"weth-to-peth-ratio\":_vm.wethToPethRatio,\"liquidation-penalty\":_vm.liquidationPenalty,\"stability-fee\":_vm.stabilityFee,\"liquidation-ratio\":_vm.liquidationRatio,\"price-service\":_vm.priceService,\"cdp-service\":_vm.cdpService,\"proxy-service\":_vm.proxyService,\"cdps\":_vm.cdps,\"cdp-details-loaded\":_vm.cdpDetailsLoaded,\"tokens-with-balance\":_vm.tokensWithBalance,\"migration-in-progress\":_vm.migrationInProgress,\"open-close-modal\":_vm.openCloseModal,\"open-move-modal\":_vm.openMoveModal,\"values-updated\":_vm.valuesUpdated,\"values\":_vm.activeValues,\"get-cdp\":_vm.getCdp,\"has-cdp\":_vm.hasCdp,\"loading-message1\":_vm.$t('dappsMaker.initial-loading-one'),\"loading-message2\":_vm.$t('dappsMaker.initial-loading-two')},on:{\"activeCdpId\":_vm.setupCdpManage,\"cdpOpened\":_vm.addCdp,\"cdpClosed\":_vm.removeCdp,\"modalHidden\":_vm.modalHidden,\"managerUpdate\":_vm.doUpdate,\"showWithdraw\":_vm.showWithdraw,\"showPayback\":_vm.showPayback,\"showGenerate\":_vm.showGenerate,\"showDeposit\":_vm.showDeposit,\"migrateCdp\":_vm.migrateCdpExternal}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.close-title'),\"centered\":\"\",\"static\":\"\",\"lazy\":\"\",\"hide-footer\":\"\"}},[_c('div',{staticClass:\"contents\"},[(!_vm.enoughMkr)?_c('div',{staticClass:\"message-container\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.not-enough-mkr-close'))+\" \")]):_vm._e(),(!_vm.enoughDai)?_c('div',{staticClass:\"message-container\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.not-enough-dai-close'))+\" \")]):_vm._e(),_c('p',{staticClass:\"top-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.closing-notice'))+\" \")]),_c('div',{staticClass:\"value-table-container\"},[_c('div',{staticClass:\"value-table mkr-balance\"},[_c('div',{staticClass:\"value-block\"},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.$t('dappsMaker.mkr-balance')))])]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.mkrBalance)+\" \"+_vm._s(_vm.$t('dappsMaker.mkr')))])])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.enoughMkr),expression:\"!enoughMkr\"}],staticClass:\"get-mkr\",on:{\"click\":function($event){return _vm.getMkr()}}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.get-mkr'))+\" \")])]),_c('div',{staticClass:\"value-table mkr-balance\"},[_c('div',{staticClass:\"value-block\"},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.$t('dappsMaker.dai-balance')))])]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.daiBalance)+\" \"+_vm._s(_vm.$t('dappsMaker.dai')))])])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.enoughDai),expression:\"!enoughDai\"}],staticClass:\"get-mkr\",on:{\"click\":function($event){return _vm.getDai()}}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.get-dai'))+\" \")])]),_c('div',{staticClass:\"value-table other-values\"},[_c('div',{staticClass:\"value-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.outstanding-dai')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.debtValue)+\" \"+_vm._s(_vm.$t('dappsMaker.dai')))])])]),_c('div',{staticClass:\"value-block\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.stability-fee-in-mkr', { value: _vm.displayFixedValue( _vm.displayPercentValue(_vm.values.stabilityFee) ) }))+\" \")]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.getfeeOwed)+\" \"+_vm._s(_vm.$t('dappsMaker.mkr')))])])])])]),_c('div',{staticClass:\"buttons\"},[(_vm.needsDaiApprove)?_c('div',[_c('standard-button',{attrs:{\"options\":{\n              title: _vm.$t('dappsMaker.approve-dai'),\n              buttonStyle: 'green-border',\n              fullWidth: true,\n              noMinWidth: true\n            },\"click-function\":_vm.approveDai}})],1):_vm._e(),(_vm.needsMkrApprove)?_c('div',[_c('standard-button',{attrs:{\"options\":{\n              title: _vm.$t('dappsMaker.approve-maker'),\n              buttonStyle: 'green-border',\n              fullWidth: true,\n              noMinWidth: true\n            },\"click-function\":_vm.approveMkr}})],1):_vm._e()]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.cancel'),\n            buttonStyle: 'green-border',\n            fullWidth: true,\n            noMinWidth: true\n          },\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.close'),\n            buttonStyle: 'green',\n            fullWidth: true,\n            noMinWidth: true\n          },\"button-disabled\":_vm.canClose ? false : true,\"click-function\":_vm.closeCdp}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.close-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      static\n      lazy\n      hide-footer\n    >\n      <div class=\"contents\">\n        <div v-if=\"!enoughMkr\" class=\"message-container\">\n          {{ $t('dappsMaker.not-enough-mkr-close') }}\n        </div>\n        <div v-if=\"!enoughDai\" class=\"message-container\">\n          {{ $t('dappsMaker.not-enough-dai-close') }}\n        </div>\n        <p class=\"top-text\">\n          {{ $t('dappsMaker.closing-notice') }}\n        </p>\n\n        <div class=\"value-table-container\">\n          <div class=\"value-table mkr-balance\">\n            <div class=\"value-block\">\n              <p>\n                <b>{{ $t('dappsMaker.mkr-balance') }}</b>\n              </p>\n              <p>\n                <b>{{ mkrBalance }} {{ $t('dappsMaker.mkr') }}</b>\n              </p>\n            </div>\n            <p v-show=\"!enoughMkr\" class=\"get-mkr\" @click=\"getMkr()\">\n              {{ $t('dappsMaker.get-mkr') }}\n            </p>\n          </div>\n\n          <div class=\"value-table mkr-balance\">\n            <div class=\"value-block\">\n              <p>\n                <b>{{ $t('dappsMaker.dai-balance') }}</b>\n              </p>\n              <p>\n                <b>{{ daiBalance }} {{ $t('dappsMaker.dai') }}</b>\n              </p>\n            </div>\n            <p v-show=\"!enoughDai\" class=\"get-mkr\" @click=\"getDai()\">\n              {{ $t('dappsMaker.get-dai') }}\n            </p>\n          </div>\n          <div class=\"value-table other-values\">\n            <div class=\"value-block\">\n              <p>{{ $t('dappsMaker.outstanding-dai') }}</p>\n              <p>\n                <b>{{ values.debtValue }} {{ $t('dappsMaker.dai') }}</b>\n              </p>\n            </div>\n            <div class=\"value-block\">\n              <p>\n                {{\n                  $t('dappsMaker.stability-fee-in-mkr', {\n                    value: displayFixedValue(\n                      displayPercentValue(values.stabilityFee)\n                    )\n                  })\n                }}\n              </p>\n              <p>\n                <b>{{ getfeeOwed }} {{ $t('dappsMaker.mkr') }}</b>\n              </p>\n            </div>\n          </div>\n        </div>\n        <!-- TODO: work these into the user flow.  Batch transaction would be better, but an initial try brought the browser crashing issue back -->\n        <div class=\"buttons\">\n          <div v-if=\"needsDaiApprove\">\n            <standard-button\n              :options=\"{\n                title: $t('dappsMaker.approve-dai'),\n                buttonStyle: 'green-border',\n                fullWidth: true,\n                noMinWidth: true\n              }\"\n              :click-function=\"approveDai\"\n            />\n          </div>\n          <div v-if=\"needsMkrApprove\">\n            <standard-button\n              :options=\"{\n                title: $t('dappsMaker.approve-maker'),\n                buttonStyle: 'green-border',\n                fullWidth: true,\n                noMinWidth: true\n              }\"\n              :click-function=\"approveMkr\"\n            />\n          </div>\n        </div>\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"{\n              title: $t('common.cancel'),\n              buttonStyle: 'green-border',\n              fullWidth: true,\n              noMinWidth: true\n            }\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"{\n              title: $t('common.close'),\n              buttonStyle: 'green',\n              fullWidth: true,\n              noMinWidth: true\n            }\"\n            :button-disabled=\"canClose ? false : true\"\n            :click-function=\"closeCdp\"\n          />\n        </div>\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport BigNumber from 'bignumber.js/bignumber.js';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    makerManager: {\n      type: Object,\n      default: function() {\n        return {};\n      }\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      govFee: 0,\n      closable: false,\n      modalDetailInformation: false,\n      textValues: {},\n      mkrToken: {},\n      daiToken: {},\n      cancelButton: {\n        title: 'Cancel',\n        buttonStyle: 'green-border',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      closeButton: {\n        title: 'Close',\n        buttonStyle: 'green',\n        fullWidth: true,\n        noMinWidth: true\n      },\n      suppliedFrom: {\n        symbol: 'ETH',\n        name: 'Ethereum'\n      },\n      suppliedTo: {\n        symbol: 'MKR',\n        name: 'Maker'\n      },\n      suppliedToAmount: 0,\n      destAddress: ''\n    };\n  },\n  computed: {\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\n    getfeeOwed() {\n      const result = this.values.governanceFeeOwed;\n      return this.displayFixedValue(result, 8);\n    },\n    newCollateralRatio() {\n      if (this.values) {\n        return this.values.collatRatio;\n      }\n      return 0;\n    },\n    newCollateralRatioSafe() {\n      if (this.values) {\n        return toBigNumber(this.values.collatRatio).gte(2);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.values) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    },\n    mkrBalance() {\n      if (this.mkrToken) {\n        return this.mkrToken.balance;\n      }\n      return 0;\n    },\n    daiBalance() {\n      if (this.daiToken) {\n        return this.daiToken.balance;\n      }\n      return 0;\n    },\n    enoughMkr() {\n      const mkrNeeded = this.values.governanceFeeOwed;\n      if (mkrNeeded) {\n        return toBigNumber(this.mkrBalance)\n          .minus(mkrNeeded)\n          .gte(0);\n      }\n      return false;\n    },\n    enoughDai() {\n      if (this.values.zeroDebt) return true;\n      const daiNeeded = this.values.debtValue;\n      if (daiNeeded) {\n        return toBigNumber(this.daiBalance)\n          .minus(daiNeeded)\n          .gte(0);\n      }\n      return false;\n    },\n    needsDaiApprove() {\n      if (toBigNumber(this.values.proxyAllowanceDai).gt(0)) {\n        if (\n          toBigNumber(this.values.proxyAllowanceDai).lte(this.values.debtValue)\n        ) {\n          return true;\n        }\n      }\n      return toBigNumber(this.values.proxyAllowanceDai).eq(0);\n    },\n    needsMkrApprove() {\n      if (toBigNumber(this.values.proxyAllowanceMkr).gt(0)) {\n        if (\n          toBigNumber(this.values.proxyAllowanceMkr).lt(\n            this.values.governanceFeeOwed\n          )\n        ) {\n          return true;\n        }\n      }\n      return toBigNumber(this.values.proxyAllowanceMkr).eq(0);\n    },\n    canClose() {\n      return (\n        this.enoughMkr &&\n        this.enoughDai &&\n        !this.needsDaiApprove &&\n        !this.needsMkrApprove\n      );\n    }\n  },\n  watch: {\n    tokensWithBalance() {\n      this.getBalances();\n    }\n  },\n  async mounted() {\n    this.destAddress = this.account.address;\n    this.getBalances();\n    this.$refs.modal.$on('shown', async () => {\n      this.getBalances();\n    });\n  },\n  methods: {\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    },\n    async closeCdp() {\n      this.delayCloseModal();\n      this.$emit('closeCdp');\n    },\n    displayPercentValue(raw) {\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n      return raw.times(100).toString();\n    },\n    displayFixedValue(raw, decimals = 3) {\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n      return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\n    },\n    maxDai() {\n      this.amount = this.values.maxDai;\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    getBalances() {\n      this.mkrToken = this.tokensWithBalance.find(item => {\n        return item.symbol === 'MKR';\n      });\n      this.daiToken = this.tokensWithBalance.find(item => {\n        return item.symbol === 'DAI';\n      });\n    },\n    getMkr() {\n      const mkrNeeded = this.getfeeOwed;\n      if (toBigNumber(this.mkrBalance).lt(mkrNeeded)) {\n        this.suppliedToAmount = toBigNumber(mkrNeeded)\n          .minus(toBigNumber(this.mkrBalance))\n          .plus(toBigNumber(mkrNeeded).times(0.01))\n          .toNumber();\n        if (toBigNumber(this.suppliedToAmount).lt(0.000001)) {\n          this.suppliedToAmount = 0.000001;\n        }\n        this.suppliedFrom = {\n          symbol: 'ETH',\n          name: 'Ethereum'\n        };\n        this.suppliedTo = {\n          symbol: 'MKR',\n          name: 'Maker'\n        };\n        this.$nextTick(() => {\n          this.$refs.swapWidget.$refs.modal.show();\n        });\n      }\n    },\n    getDai() {\n      const daiNeeded = this.values.debtValue;\n      if (toBigNumber(this.daiBalance).lt(daiNeeded)) {\n        this.suppliedToAmount = toBigNumber(daiNeeded)\n          .minus(toBigNumber(this.daiBalance))\n          .toNumber();\n        if (toBigNumber(this.suppliedToAmount).lt(0.000001)) {\n          this.suppliedToAmount = 0.000001;\n        }\n        this.suppliedFrom = {\n          symbol: 'ETH',\n          name: 'Ethereum'\n        };\n        this.suppliedTo = {\n          symbol: 'DAI',\n          name: 'Dai'\n        };\n        this.$eventHub.$emit(\n          'showSwapWidgetTo',\n          this.account.address,\n          this.suppliedFrom,\n          this.suppliedTo,\n          this.suppliedToAmount\n        );\n      }\n    },\n\n    async approveDai() {\n      this.$emit('approveDai');\n    },\n    async approveMkr() {\n      this.$emit('approveMkr');\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'CloseCdpModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseCdpModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseCdpModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CloseCdpModal.vue?vue&type=template&id=3d51ce30&scoped=true&\"\nimport script from \"./CloseCdpModal.vue?vue&type=script&lang=js&\"\nexport * from \"./CloseCdpModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CloseCdpModal.vue?vue&type=style&index=0&id=3d51ce30&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d51ce30\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.move-title'),\"hide-footer\":\"\",\"centered\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"modal-content\"},[_c('p',{staticClass:\"top-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.move-notice'))+\" \")]),_c('check-box',{on:{\"changeStatus\":_vm.checkBoxClicked},scopedSlots:_vm._u([{key:\"terms\",fn:function(){return [_c('p',{staticClass:\"checkbox-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.understand-and-agree'))+\" \")])]},proxy:true}])}),_c('div',{staticClass:\"input-container\"},[_c('label',[_vm._v(_vm._s(_vm.$t('dappsMaker.move-question')))]),_c('div',{staticClass:\"input-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.address),expression:\"address\"}],domProps:{\"value\":(_vm.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.address=$event.target.value}}})])]),_c('div',[(_vm.destAddressHasProxy)?_c('div',[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.proxy-address', { value: _vm.destAddressProxy }))+\" \")]),_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.move-with-proxy'))+\" \")]):_vm._e(),(!_vm.destAddressHasProxy)?_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.move-without-proxy'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.cancel'),\n            buttonStyle: 'green-border',\n            noMinWidth: true\n          },\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.submit'),\n            buttonStyle: 'green',\n            noMinWidth: true,\n            fullWidth: true\n          },\"button-disabled\":_vm.btnActive ? false : true,\"click-function\":_vm.moveCdp}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"check-box\"},[_c('label',{staticClass:\"check-box-container\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":_vm.checkBoxClicked}}),_c('span',{staticClass:\"checkmark\"}),_vm._t(\"terms\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"check-box\">\n    <label class=\"check-box-container\">\n      <input type=\"checkbox\" @click=\"checkBoxClicked\" /><span\n        class=\"checkmark\"\n      ></span>\n      <slot name=\"terms\"></slot>\n    </label>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      checkboxChecked: false\n    };\n  },\n  methods: {\n    checkBoxClicked() {\n      this.checkboxChecked = !this.checkboxChecked;\n      this.$emit('changeStatus', this.checkboxChecked);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'CheckBox.scss';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckBox.vue?vue&type=template&id=74d90e30&scoped=true&\"\nimport script from \"./CheckBox.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckBox.vue?vue&type=style&index=0&id=74d90e30&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74d90e30\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.move-title')\"\n      hide-footer\n      centered\n      class=\"bootstrap-modal nopadding\"\n      static\n      lazy\n    >\n      <div class=\"modal-content\">\n        <p class=\"top-text\">\n          {{ $t('dappsMaker.move-notice') }}\n        </p>\n        <check-box @changeStatus=\"checkBoxClicked\">\n          <template v-slot:terms\n            ><p class=\"checkbox-label\">\n              {{ $t('dappsMaker.understand-and-agree') }}\n            </p></template\n          >\n        </check-box>\n\n        <div class=\"input-container\">\n          <label>{{ $t('dappsMaker.move-question') }}</label>\n          <div class=\"input-box\">\n            <input v-model=\"address\" />\n          </div>\n        </div>\n        <div>\n          <div v-if=\"destAddressHasProxy\">\n            <p>\n              {{ $t('dappsMaker.proxy-address', { value: destAddressProxy }) }}\n            </p>\n            {{ $t('dappsMaker.move-with-proxy') }}\n          </div>\n          <div v-if=\"!destAddressHasProxy\">\n            {{ $t('dappsMaker.move-without-proxy') }}\n          </div>\n        </div>\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"{\n              title: $t('common.cancel'),\n              buttonStyle: 'green-border',\n              noMinWidth: true\n            }\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"{\n              title: $t('common.submit'),\n              buttonStyle: 'green',\n              noMinWidth: true,\n              fullWidth: true\n            }\"\n            :button-disabled=\"btnActive ? false : true\"\n            :click-function=\"moveCdp\"\n          />\n        </div>\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport CheckBox from '../CheckBox';\n\nimport BigNumber from 'bignumber.js/bignumber.js';\n\nimport { Misc } from '@/helpers';\nexport default {\n  components: {\n    'check-box': CheckBox,\n    'help-center-button': HelpCenterButton,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    destAddressHasProxy: {\n      type: Boolean,\n      default: false\n    },\n    destAddressProxy: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      address: '',\n      amountEth: 0,\n      amountDai: 0,\n      govFee: 0,\n      modalDetailInformation: false,\n      checkBoxChecked: false,\n      textValues: {},\n      mkrToken: {}\n    };\n  },\n  computed: {\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\n    btnActive() {\n      return Misc.isValidETHAddress(this.address) && this.checkBoxChecked;\n    }\n  },\n  watch: {\n    address(newVal) {\n      if (Misc.isValidETHAddress(newVal)) {\n        this.$emit('checkForProxy', newVal);\n      }\n    }\n  },\n  mounted() {\n    this.$refs.modal.$on('shown', () => {\n      this.address = '';\n    });\n  },\n  methods: {\n    closeCdp() {\n      this.activeCdp.closeCdp();\n    },\n    checkBoxClicked() {\n      this.checkBoxChecked = !this.checkBoxChecked;\n    },\n    displayPercentValue(raw) {\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n      return raw.times(100).toString();\n    },\n    displayFixedValue(raw, decimals = 3) {\n      if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n      return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\n    },\n    async moveCdp() {\n      if (Misc.isValidETHAddress(this.address)) {\n        this.$emit('moveCdp', this.address);\n        this.closeModal();\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'MoveCdp';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MoveCdp.vue?vue&type=template&id=62b4dd78&scoped=true&\"\nimport script from \"./MoveCdp.vue?vue&type=script&lang=js&\"\nexport * from \"./MoveCdp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MoveCdp.vue?vue&type=style&index=0&id=62b4dd78&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62b4dd78\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.generate-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"contents\"},[_c('div',{staticClass:\"inputs\"},[_c('div',{staticClass:\"interface__block-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.generate-question'))+\" \")]),_c('div',{staticClass:\"top-buttons\"},[_c('p',{staticClass:\"total\"},[_c('span',[_vm._v(_vm._s(_vm.$t('dappsMaker.total')))]),_vm._v(\" \"+_vm._s(_vm.newTotal)+\" \"+_vm._s(_vm.$t('dappsMaker.dai'))+\" \")]),_c('p',{staticClass:\"max\",on:{\"click\":_vm.maxDai}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.max-available'))+\" \")])]),_c('div',{class:['input-box', _vm.allOk ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('p',{staticClass:\"input-unit\"},[_vm._v(_vm._s(_vm.$t('dappsMaker.dai')))])]),_c('div',{staticClass:\"sub-text\"},[(!_vm.canGenerateDaiAmount)?_c('p',{staticClass:\"above-max\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.above-max-dai'))+\" \")]):_vm._e(),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.collateral-ratio-val', { value: _vm.newCollateralRatio }))+\" \")])])]),_c('expanding-option',{attrs:{\"title\":\"Details\"}},[_c('div',{staticClass:\"detail-container\"},[_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.max-generate-available')))]),_c('p',[_c('b',[_vm._v(\" \"+_vm._s(_vm.values.maxDai ? _vm.displayFixedValue(_vm.values.maxDai) : 0)+\" \")]),_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.dai'))+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice, 2)))]),_vm._v(\" \"+_vm._s(_vm.fiatCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.newCollateralRatio)+\"%\")])])])])]),(!_vm.newCollateralRatioSafe && _vm.notZero(_vm.amount))?_c('div',{staticClass:\"warning-confirmation\"},[_c('div',{staticClass:\"grid-block\"},[_c('div',{staticClass:\"sign\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text-content\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('dappsMaker.caution')))]),_c('p',{staticClass:\"warning-details\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.liquidation-risk', { value: _vm.newCollateralRatio }))+\" \")]),_c('check-box',{on:{\"changeStatus\":_vm.checkBoxClicked},scopedSlots:_vm._u([{key:\"terms\",fn:function(){return [_c('p',{staticClass:\"checkbox-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.understand-and-agree'))+\" \")])]},proxy:true}],null,false,196307094)})],1)])]):_vm._e(),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.cancel'),\n            buttonStyle: 'green-border',\n            noMinWidth: true\n          },\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('dappsMaker.generate'),\n            buttonStyle: 'green',\n            noMinWidth: true\n          },\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.generate-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      hide-footer\n      static\n      lazy\n    >\n      <div class=\"contents\">\n        <div class=\"inputs\">\n          <div class=\"interface__block-title\">\n            {{ $t('dappsMaker.generate-question') }}\n          </div>\n          <div class=\"top-buttons\">\n            <p class=\"total\">\n              <span>{{ $t('dappsMaker.total') }}</span>\n              {{ newTotal }}\n              {{ $t('dappsMaker.dai') }}\n            </p>\n            <p class=\"max\" @click=\"maxDai\">\n              {{ $t('dappsMaker.max-available') }}\n            </p>\n          </div>\n          <div :class=\"['input-box', allOk ? '' : 'danger']\">\n            <input v-model=\"amount\" />\n            <p class=\"input-unit\">{{ $t('dappsMaker.dai') }}</p>\n          </div>\n          <div class=\"sub-text\">\n            <p v-if=\"!canGenerateDaiAmount\" class=\"above-max\">\n              {{ $t('dappsMaker.above-max-dai') }}\n            </p>\n            <p>\n              {{\n                $t('dappsMaker.collateral-ratio-val', {\n                  value: newCollateralRatio\n                })\n              }}\n            </p>\n          </div>\n        </div>\n        <expanding-option title=\"Details\">\n          <div class=\"detail-container\">\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.max-generate-available') }}</p>\n              <p>\n                <b>\n                  {{ values.maxDai ? displayFixedValue(values.maxDai) : 0 }}\n                </b>\n                {{ $t('dappsMaker.dai') }}\n              </p>\n            </div>\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.projected-liquidation') }}</p>\n              <p>\n                <b>{{ displayFixedValue(newLiquidationPrice, 2) }}</b>\n                {{ fiatCurrency }}\n              </p>\n            </div>\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.projected-collat-ratio') }}</p>\n              <p>\n                <b>{{ newCollateralRatio }}%</b>\n              </p>\n            </div>\n          </div>\n        </expanding-option>\n\n        <div\n          v-if=\"!newCollateralRatioSafe && notZero(amount)\"\n          class=\"warning-confirmation\"\n        >\n          <div class=\"grid-block\">\n            <div class=\"sign\"></div>\n            <div class=\"text-content\">\n              <p class=\"title\">{{ $t('dappsMaker.caution') }}</p>\n              <p class=\"warning-details\">\n                {{\n                  $t('dappsMaker.liquidation-risk', {\n                    value: newCollateralRatio\n                  })\n                }}\n              </p>\n              <check-box @changeStatus=\"checkBoxClicked\">\n                <template v-slot:terms\n                  ><p class=\"checkbox-label\">\n                    {{ $t('dappsMaker.understand-and-agree') }}\n                  </p></template\n                >\n              </check-box>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"{\n              title: $t('common.cancel'),\n              buttonStyle: 'green-border',\n              noMinWidth: true\n            }\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"{\n              title: $t('dappsMaker.generate'),\n              buttonStyle: 'green',\n              noMinWidth: true\n            }\"\n            :button-disabled=\"canProceed ? false : true\"\n            :click-function=\"submitBtn\"\n          />\n        </div>\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport ethUnit from 'ethjs-unit';\nimport ExpandingOption from '@/components/ExpandingOption';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport CheckBox from '../CheckBox';\nimport BigNumber from 'bignumber.js/bignumber.js';\nimport {\n  displayFixedValue,\n  displayPercentValue,\n  displayFixedPercent\n} from '../../helpers';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'check-box': CheckBox,\n    'expanding-option': ExpandingOption,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    calcCollatRatioEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcCollatRatioDaiChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceDaiChg: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      riskyBypass: false,\n      modalDetailInformation: false,\n      textValues: {},\n      fiatCurrency: 'USD',\n      digitalCurrency: 'ETH'\n    };\n  },\n  computed: {\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\n    amountPresent() {\n      return (\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\n      );\n    },\n    canCompute() {\n      return this.values && this.amountPresent;\n    },\n    allOk() {\n      if (this.amountPresent) {\n        return this.newCollateralRatioSafe && this.canGenerateDaiAmount;\n      }\n      return true;\n    },\n    showWarning() {\n      return (\n        !this.newCollateralRatioInvalid &&\n        this.canGenerateDaiAmount &&\n        this.riskyBypass\n      );\n    },\n    newTotal() {\n      return toBigNumber(this.values.debtValue).plus(this.amount);\n    },\n    hasEnoughEth() {\n      if (this.canCompute) {\n        const asEth = ethUnit.fromWei(this.account.balance, 'ether');\n        return toBigNumber(this.amount).lte(toBigNumber(asEth));\n      }\n      return true;\n    },\n    canGenerateDaiAmount() {\n      if (this.canCompute && !toBigNumber(this.amount).isNaN()) {\n        return toBigNumber(this.amount).lte(toBigNumber(this.values.maxDai));\n      }\n      return true;\n    },\n    canProceed() {\n      if (this.canCompute) {\n        if (toBigNumber(this.amount).lte(0)) return false;\n        return (\n          (this.newCollateralRatioSafe && this.canGenerateDaiAmount) ||\n          (!this.newCollateralRatioInvalid &&\n            this.canGenerateDaiAmount &&\n            this.riskyBypass)\n        );\n      }\n      return false;\n    },\n    calcCollateralRatio() {\n      if (this.canCompute) {\n        return this.calcCollatRatioDaiChg(\n          toBigNumber(this.values.debtValue).plus(this.amount)\n        );\n      }\n      if (this.values) {\n        return this.values.collateralRatio;\n      }\n      return 0;\n    },\n    newCollateralRatio() {\n      if (this.canCompute || this.values) {\n        return this.displayFixedPercent(this.calcCollateralRatio);\n      }\n      return '--';\n    },\n    newCollateralRatioSafe() {\n      if (this.canCompute) {\n        return this.calcCollateralRatio.gte(2);\n      }\n      return true;\n    },\n    newCollateralRatioInvalid() {\n      if (this.canCompute) {\n        return this.calcCollateralRatio.lte(1.5);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.canCompute) {\n        return this.calcLiquidationPriceDaiChg(\n          toBigNumber(this.values.debtValue).plus(this.amount)\n        );\n      } else if (this.values) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    }\n  },\n  methods: {\n    submitBtn() {\n      if (!this.canProceed) return;\n      this.drawDai();\n    },\n    checkBoxClicked(checked) {\n      this.riskyBypass = checked;\n    },\n    displayPercentValue,\n    displayFixedValue,\n    displayFixedPercent,\n    notZero(val) {\n      return toBigNumber(val).gt(0);\n    },\n    maxDai() {\n      this.amount = toBigNumber(this.values.maxDai).minus(\n        toBigNumber(this.values.maxDai).times(0.01)\n      );\n      this.$forceUpdate();\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    async drawDai() {\n      if (toBigNumber(this.amount).gte(0)) {\n        this.delayCloseModal();\n        if (this.newCollateralRatioSafe) {\n          this.$emit('drawDai', [this.amount, null]);\n        } else {\n          this.$emit('drawDai', [this.amount, this.riskyBypass]);\n        }\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'GenerateModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GenerateModal.vue?vue&type=template&id=10604b53&scoped=true&\"\nimport script from \"./GenerateModal.vue?vue&type=script&lang=js&\"\nexport * from \"./GenerateModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GenerateModal.vue?vue&type=style&index=0&id=10604b53&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10604b53\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.deposit-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"modal-content-container\"},[_c('div',{staticClass:\"inputs-container\"},[_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"interface__block-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.deposit-question'))+\" \")]),_c('div',{class:['input-box', _vm.hasEnoughEth ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('span',{staticClass:\"input-unit\"},[_vm._v(_vm._s(_vm.digitalCurrency))])]),_c('div',{staticClass:\"sub-text\"},[(!_vm.hasEnoughEth)?_c('p',{staticClass:\"above-max\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.notEnoughEth'))+\" \")]):_vm._e(),_c('div',{staticClass:\"peth\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.values.toPeth ? _vm.displayFixedValue(_vm.values.toPeth(_vm.amount), 5, false) : 0)+\" \"+_vm._s(_vm.$t('common.currency.peth'))+\" \")]),_c('popover',{attrs:{\"popcontent\":_vm.$t('dappsMaker.peth-popover')}})],1)])])]),_c('div',{staticClass:\"detail-info\"},[_c('div',{staticClass:\"info\"},[_c('h4',[_vm._v(_vm._s(_vm.$t('dappsMaker.detail-info')))]),_c('div',{staticClass:\"sliding-switch-white\"},[_c('label',{staticClass:\"switch\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":function($event){_vm.modalDetailInformation = !_vm.modalDetailInformation}}}),_c('span',{staticClass:\"slider round\"})])])]),_c('div',{staticClass:\"expended-info\",class:_vm.modalDetailInformation && 'expended-info-open'},[_c('div',{staticClass:\"padding-container\"},[_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.currently-deposited')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.values.ethCollateral, 5)))]),_vm._v(\" \"+_vm._s(_vm.digitalCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice, 2)))]),_vm._v(\" \"+_vm._s(_vm.fiatCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue( _vm.displayPercentValue(_vm.newCollateralRatio), 3 ))+\"%\")])])])])])]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('dappsMaker.cancel'),\n            buttonStyle: 'green-border',\n            noMinWidth: true\n          },\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('dappsMaker.submit'),\n            buttonStyle: 'green',\n            noMinWidth: true\n          },\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.deposit-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      hide-footer\n      static\n      lazy\n    >\n      <div class=\"modal-content-container\">\n        <div class=\"inputs-container\">\n          <div class=\"input-container\">\n            <div class=\"interface__block-title\">\n              {{ $t('dappsMaker.deposit-question') }}\n            </div>\n            <div :class=\"['input-box', hasEnoughEth ? '' : 'danger']\">\n              <input v-model=\"amount\" />\n              <span class=\"input-unit\">{{ digitalCurrency }}</span>\n            </div>\n            <div class=\"sub-text\">\n              <p v-if=\"!hasEnoughEth\" class=\"above-max\">\n                {{ $t('dappsMaker.notEnoughEth') }}\n              </p>\n              <div class=\"peth\">\n                <p>\n                  {{\n                    values.toPeth\n                      ? displayFixedValue(values.toPeth(amount), 5, false)\n                      : 0\n                  }}\n                  {{ $t('common.currency.peth') }}\n                </p>\n                <popover :popcontent=\"$t('dappsMaker.peth-popover')\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"detail-info\">\n          <div class=\"info\">\n            <h4>{{ $t('dappsMaker.detail-info') }}</h4>\n            <div class=\"sliding-switch-white\">\n              <label class=\"switch\">\n                <input\n                  type=\"checkbox\"\n                  @click=\"modalDetailInformation = !modalDetailInformation\"\n                />\n                <span class=\"slider round\" />\n              </label>\n            </div>\n          </div>\n          <div\n            :class=\"modalDetailInformation && 'expended-info-open'\"\n            class=\"expended-info\"\n          >\n            <div class=\"padding-container\">\n              <div class=\"grid-block\">\n                <p>{{ $t('dappsMaker.currently-deposited') }}</p>\n                <p>\n                  <b>{{ displayFixedValue(values.ethCollateral, 5) }}</b>\n                  {{ digitalCurrency }}\n                </p>\n              </div>\n              <div class=\"grid-block\">\n                <p>{{ $t('dappsMaker.projected-liquidation') }}</p>\n                <p>\n                  <b>{{ displayFixedValue(newLiquidationPrice, 2) }}</b>\n                  {{ fiatCurrency }}\n                </p>\n              </div>\n              <div class=\"grid-block\">\n                <p>{{ $t('dappsMaker.projected-collat-ratio') }}</p>\n                <p>\n                  <b\n                    >{{\n                      displayFixedValue(\n                        displayPercentValue(newCollateralRatio),\n                        3\n                      )\n                    }}%</b\n                  >\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"{\n              title: $t('dappsMaker.cancel'),\n              buttonStyle: 'green-border',\n              noMinWidth: true\n            }\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"{\n              title: $t('dappsMaker.submit'),\n              buttonStyle: 'green',\n              noMinWidth: true\n            }\"\n            :button-disabled=\"canProceed ? false : true\"\n            :click-function=\"submitBtn\"\n          />\n        </div>\n\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport ethUnit from 'ethjs-unit';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport BigNumber from 'bignumber.js/bignumber.js';\nimport { displayFixedValue, displayPercentValue } from '../../helpers';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    calcCollatRatioEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcCollatRatioDaiChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceDaiChg: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      riskyBypass: false,\n      modalDetailInformation: false,\n      textValues: {},\n      fiatCurrency: 'USD',\n      digitalCurrency: 'ETH'\n    };\n  },\n  computed: {\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\n    amountPresent() {\n      return (\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\n      );\n    },\n    hasEnoughEth() {\n      if (this.amount || this.amount !== '') {\n        const asEth = ethUnit.fromWei(this.account.balance, 'ether');\n        return toBigNumber(this.amount).lte(toBigNumber(asEth));\n      }\n      return true;\n    },\n    canWithdrawEthAmount() {\n      if (this.amount || this.amount !== '') {\n        return toBigNumber(this.amount).lte(\n          toBigNumber(this.values.ethCollateral)\n        );\n      }\n      return false;\n    },\n    canProceed() {\n      if (toBigNumber(this.amount).lte(0)) return false;\n      const ratio = toBigNumber(this.newCollateralRatio);\n      const ratioOk = ratio.gt(1.5) || ratio.eq(0);\n      return this.hasEnoughEth && (ratioOk || this.riskyBypass);\n    },\n    newCollateralRatio() {\n      if (this.values && this.amount > 0) {\n        return this.calcCollatRatioEthChg(\n          toBigNumber(this.values.ethCollateral).plus(this.amount)\n        );\n      } else if (this.values) {\n        return this.values.collatRatio;\n      }\n      return 0;\n    },\n    newCollateralRatioSafe() {\n      if (this.values && this.amount > 0) {\n        return this.calcCollatRatioEthChg(\n          toBigNumber(this.values.ethCollateral).plus(this.amount)\n        ).gte(2);\n      } else if (this.values) {\n        return toBigNumber(this.values.collatRatio).gte(2);\n      }\n      return true;\n    },\n    newCollateralRatioInvalid() {\n      if (this.values && this.amount > 0) {\n        return this.calcCollatRatioEthChg(\n          toBigNumber(this.values.ethCollateral).plus(this.amount)\n        ).lte(1.5);\n      } else if (this.values) {\n        return toBigNumber(this.values.collatRatio).lte(1.5);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.values && this.amount > 0) {\n        return this.calcLiquidationPriceEthChg(\n          toBigNumber(this.values.ethCollateral).plus(toBigNumber(this.amount))\n        );\n      } else if (this.values) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    }\n  },\n  watch: {},\n  mounted() {\n    this.$refs.modal.$on('shown', () => {\n      this.amount = 0;\n    });\n  },\n  methods: {\n    submitBtn() {\n      if (!this.canProceed) return;\n      this.lockEth();\n    },\n    checkBoxClicked() {\n      this.riskyBypass = !this.riskyBypass;\n    },\n    displayPercentValue,\n    displayFixedValue,\n    notZero(val) {\n      return toBigNumber(val).gt(0);\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    async lockEth() {\n      if (toBigNumber(this.amount).gte(0)) {\n        this.delayCloseModal();\n        this.$emit('lockEth', this.amount);\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'DepositModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DepositModal.vue?vue&type=template&id=64b38325&scoped=true&\"\nimport script from \"./DepositModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DepositModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DepositModal.vue?vue&type=style&index=0&id=64b38325&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64b38325\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.withdraw-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"modal-content-container\"},[_c('div',{staticClass:\"inputs-container\"},[_c('div',{staticClass:\"input-container\"},[_c('p',{staticClass:\"message\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.withdraw-notice'))+\" \")]),_c('label',[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.withdraw-question')))]),_c('div',{staticClass:\"top-buttons\"},[_c('p',{staticClass:\"max-withdraw\",on:{\"click\":_vm.maxWithdraw}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.max-available'))+\" \")])]),_c('div',{class:['input-box', _vm.newCollateralRatioSafe ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('span',{staticClass:\"input-unit\"},[_vm._v(_vm._s(_vm.digitalCurrency))])]),_c('div',{staticClass:\"sub-text\"},[(_vm.canWithdrawEthNotice)?_c('p',{staticClass:\"above-max\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.over-max-withdraw'))+\" \")]):_vm._e(),_c('div',{staticClass:\"peth\"},[_c('p',{staticClass:\"peth-value\"},[_vm._v(\" \"+_vm._s(_vm.values.toPeth ? _vm.displayFixedValue(_vm.values.toPeth(_vm.amount), 5, false) : 0)+\" \"+_vm._s(_vm.$t('dappsMaker.peth'))+\" \")]),_c('popover',{attrs:{\"popcontent\":_vm.$t('dappsMaker.peth-popover')}})],1)])])]),_c('expanding-option',{attrs:{\"title\":\"Detail Information\"}},[_c('div',{staticClass:\"padding-container\"},[_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.max-available')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.maxDai ? _vm.displayFixedValue(_vm.values.maxEthDraw, 5) : 0))]),_vm._v(\" \"+_vm._s(_vm.digitalCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice, 2)))]),_vm._v(\" \"+_vm._s(_vm.fiatCurrency)+\" \")])]),_c('div',{staticClass:\"grid-block\"},[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue( _vm.displayPercentValue(_vm.newCollateralRatio), 3 ))+\"%\")])])])])]),(!_vm.newCollateralRatioSafe && _vm.notZero(_vm.amount))?_c('div',{staticClass:\"warning-confirmation\"},[_c('div',{staticClass:\"grid-block\"},[_c('div',{staticClass:\"sign\"},[_vm._v(\"\")]),_c('div',{staticClass:\"text-content\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('dappsMaker.caution')))]),_c('p',{staticClass:\"warning-details\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.liquidation-risk', { value: _vm.displayFixedValue( _vm.displayPercentValue(_vm.newCollateralRatio) ) }))+\" \")]),_c('check-box',{on:{\"changeStatus\":_vm.checkBoxClicked},scopedSlots:_vm._u([{key:\"terms\",fn:function(){return [_c('p',{staticClass:\"checkbox-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.understand-and-agree'))+\" \")])]},proxy:true}],null,false,196307094)})],1)])]):_vm._e(),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.cancel'),\n            buttonStyle: 'green-border',\n            noMinWidth: true\n          },\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.submit'),\n            buttonStyle: 'green',\n            noMinWidth: true\n          },\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.withdraw-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      hide-footer\n      static\n      lazy\n    >\n      <div class=\"modal-content-container\">\n        <div class=\"inputs-container\">\n          <div class=\"input-container\">\n            <p class=\"message\">\n              {{ $t('dappsMaker.withdraw-notice') }}\n            </p>\n            <label> {{ $t('dappsMaker.withdraw-question') }}</label>\n            <div class=\"top-buttons\">\n              <p class=\"max-withdraw\" @click=\"maxWithdraw\">\n                {{ $t('dappsMaker.max-available') }}\n              </p>\n            </div>\n            <div :class=\"['input-box', newCollateralRatioSafe ? '' : 'danger']\">\n              <input v-model=\"amount\" />\n              <span class=\"input-unit\">{{ digitalCurrency }}</span>\n            </div>\n            <div class=\"sub-text\">\n              <p v-if=\"canWithdrawEthNotice\" class=\"above-max\">\n                {{ $t('dappsMaker.over-max-withdraw') }}\n              </p>\n              <div class=\"peth\">\n                <p class=\"peth-value\">\n                  {{\n                    values.toPeth\n                      ? displayFixedValue(values.toPeth(amount), 5, false)\n                      : 0\n                  }}\n                  {{ $t('dappsMaker.peth') }}\n                </p>\n                <popover :popcontent=\"$t('dappsMaker.peth-popover')\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <expanding-option title=\"Detail Information\">\n          <div class=\"padding-container\">\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.max-available') }}</p>\n              <p>\n                <b>{{\n                  values.maxDai ? displayFixedValue(values.maxEthDraw, 5) : 0\n                }}</b>\n                {{ digitalCurrency }}\n              </p>\n            </div>\n\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.projected-liquidation') }}</p>\n              <p>\n                <b>{{ displayFixedValue(newLiquidationPrice, 2) }}</b>\n                {{ fiatCurrency }}\n              </p>\n            </div>\n            <div class=\"grid-block\">\n              <p>{{ $t('dappsMaker.projected-collat-ratio') }}</p>\n              <p>\n                <b\n                  >{{\n                    displayFixedValue(\n                      displayPercentValue(newCollateralRatio),\n                      3\n                    )\n                  }}%</b\n                >\n              </p>\n            </div>\n          </div>\n        </expanding-option>\n\n        <div\n          v-if=\"!newCollateralRatioSafe && notZero(amount)\"\n          class=\"warning-confirmation\"\n        >\n          <div class=\"grid-block\">\n            <div class=\"sign\"></div>\n            <div class=\"text-content\">\n              <p class=\"title\">{{ $t('dappsMaker.caution') }}</p>\n              <p class=\"warning-details\">\n                {{\n                  $t('dappsMaker.liquidation-risk', {\n                    value: displayFixedValue(\n                      displayPercentValue(newCollateralRatio)\n                    )\n                  })\n                }}\n              </p>\n              <check-box @changeStatus=\"checkBoxClicked\">\n                <template v-slot:terms>\n                  <p class=\"checkbox-label\">\n                    {{ $t('dappsMaker.understand-and-agree') }}\n                  </p>\n                </template>\n              </check-box>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"{\n              title: $t('common.cancel'),\n              buttonStyle: 'green-border',\n              noMinWidth: true\n            }\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"{\n              title: $t('common.submit'),\n              buttonStyle: 'green',\n              noMinWidth: true\n            }\"\n            :button-disabled=\"canProceed ? false : true\"\n            :click-function=\"submitBtn\"\n          />\n        </div>\n\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport ExpandingOption from '@/components/ExpandingOption';\nimport StandardButton from '@/components/Buttons/StandardButton';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport CheckBox from '../CheckBox';\nimport BigNumber from 'bignumber.js/bignumber.js';\nimport { displayFixedValue, displayPercentValue } from '../../helpers';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'check-box': CheckBox,\n    'expanding-option': ExpandingOption,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    calcCollatRatioEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcCollatRatioDaiChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceDaiChg: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      riskyBypass: false,\n      modalDetailInformation: false,\n      textValues: {},\n      fiatCurrency: 'USD',\n      digitalCurrency: 'ETH'\n    };\n  },\n  computed: {\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\n    amountPresent() {\n      return (\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\n      );\n    },\n    canCompute() {\n      return this.values && this.amountPresent;\n    },\n    canWithdrawEthNotice() {\n      if (this.amountPresent) {\n        return !toBigNumber(this.amount).lte(\n          toBigNumber(this.values.maxEthDraw)\n        );\n      }\n      return false;\n    },\n    canWithdrawEthAmount() {\n      if (this.amountPresent) {\n        return toBigNumber(this.amount).lte(\n          toBigNumber(this.values.ethCollateral)\n        );\n      }\n      return false;\n    },\n    canProceed() {\n      if (this.amountPresent) {\n        if (toBigNumber(this.amount).lte(0)) return false;\n        return (\n          (this.newCollateralRatioSafe && this.canWithdrawEthAmount) ||\n          (!this.newCollateralRatioInvalid &&\n            this.canWithdrawEthAmount &&\n            this.riskyBypass)\n        );\n      }\n      return false;\n    },\n    calcCollateralRatio() {\n      if (this.canCompute) {\n        return this.calcCollatRatioDaiChg(\n          toBigNumber(this.values.debtValue).plus(this.amount)\n        );\n      }\n      if (this.values) {\n        return this.values.collateralRatio;\n      }\n      return 0;\n    },\n    newCollateralRatio() {\n      if (this.canCompute) {\n        return this.calcCollatRatioEthChg(\n          toBigNumber(this.values.ethCollateral).minus(this.amount)\n        );\n      } else if (this.values) {\n        return this.values.collatRatio;\n      }\n      return '--';\n    },\n    newCollateralRatioSafe() {\n      if (this.canCompute) {\n        if (this.values.zeroDebt) return true;\n        return this.newCollateralRatio.gte(2);\n      }\n      return true;\n    },\n    newCollateralRatioInvalid() {\n      if (this.canCompute) {\n        if (this.values.zeroDebt) return false;\n        return this.newCollateralRatio.lte(1.5);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.canCompute) {\n        return this.calcLiquidationPriceEthChg(\n          toBigNumber(this.values.ethCollateral).minus(this.amount)\n        );\n      } else if (this.values) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    }\n  },\n  watch: {},\n  mounted() {\n    this.$refs.modal.$on('shown', () => {\n      this.amount = 0;\n    });\n    this.$refs.modal.$on('hidden', () => {\n      this.amount = 0;\n    });\n  },\n  methods: {\n    submitBtn() {\n      if (!this.canProceed) return;\n      this.freeEth();\n    },\n    checkBoxClicked(checked) {\n      this.riskyBypass = checked;\n    },\n    displayPercentValue,\n    displayFixedValue,\n    notZero(val) {\n      return toBigNumber(val).gt(0);\n    },\n    maxWithdraw() {\n      this.amount = this.values.maxEthDraw;\n      this.$forceUpdate();\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    async freeEth() {\n      if (toBigNumber(this.amount).gte(0)) {\n        this.delayCloseModal();\n        if (this.newCollateralRatioSafe) {\n          this.$emit('freeEth', [this.amount, null]);\n        } else {\n          this.$emit('freeEth', [this.amount, this.riskyBypass]);\n        }\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'WithdrawModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WithdrawModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WithdrawModal.vue?vue&type=template&id=1738db86&scoped=true&\"\nimport script from \"./WithdrawModal.vue?vue&type=script&lang=js&\"\nexport * from \"./WithdrawModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WithdrawModal.vue?vue&type=style&index=0&id=1738db86&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1738db86\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-container\"},[_c('b-modal',{ref:\"modal\",staticClass:\"bootstrap-modal nopadding\",attrs:{\"title\":_vm.$t('dappsMaker.payback-title'),\"centered\":\"\",\"hide-footer\":\"\",\"static\":\"\",\"lazy\":\"\"}},[_c('div',{staticClass:\"contents\"},[_c('p',{staticClass:\"top-message\"},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.payback-notice'))+\" \")]),(!_vm.hasEnoughMkr)?_c('div',[_c('div',{staticClass:\"value-block\"},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.$t('dappsMaker.mkr-balance')))])]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.mkrBalance)+\" \"+_vm._s(_vm.$t('dappsMaker.mkr')))])])]),_c('p',{staticClass:\"get-mkr\",on:{\"click\":function($event){return _vm.getMkr()}}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.get-mkr'))+\" \")])]):_vm._e(),_c('div',{staticClass:\"input-container\"},[_c('div',{staticClass:\"top-buttons\"},[_c('p',{on:{\"click\":_vm.currentDai}},[_vm._v(_vm._s(_vm.$t('dappsMaker.max-available')))])]),_c('div',{class:['dai-amount', _vm.hasEnoughDai ? '' : 'danger']},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('p',{staticClass:\"floating-text\"},[_vm._v(_vm._s(_vm.$t('dappsMaker.dai')))])])]),_c('expanding-option',{attrs:{\"title\":\"Detail Information\"}},[_c('ul',{staticClass:\"details\"},[_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.outstanding-dai')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.debtValue ? _vm.displayFixedValue(_vm.values.debtValue, 3) : 0))]),_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.dai'))+\" \")])]),_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.stability-fee-owed')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.values.governanceFeeOwed))]),_vm._v(\" \"+_vm._s(_vm.$t('dappsMaker.mkr'))+\" \")])]),_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-liquidation')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue(_vm.newLiquidationPrice, 2)))]),_vm._v(\" \"+_vm._s(_vm.fiatCurrency)+\" \")])]),_c('li',[_c('p',[_vm._v(_vm._s(_vm.$t('dappsMaker.projected-collat-ratio')))]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.displayFixedValue( _vm.displayPercentValue(_vm.newCollateralRatio), 3 ))+\"%\")])])])])]),_c('div',{staticClass:\"buttons\"},[(_vm.needsDaiApprove)?_c('div',[_c('standard-button',{attrs:{\"options\":{\n              title: _vm.$t('dappsMaker.approve-dai'),\n              buttonStyle: 'green-border',\n              fullWidth: true,\n              noMinWidth: true\n            },\"click-function\":_vm.approveDai}})],1):_vm._e(),(_vm.needsMkrApprove)?_c('div',[_c('standard-button',{attrs:{\"options\":{\n              title: _vm.$t('dappsMaker.approve-maker'),\n              buttonStyle: 'green-border',\n              fullWidth: true,\n              noMinWidth: true\n            },\"click-function\":_vm.approveMkr}})],1):_vm._e()]),_c('div',{staticClass:\"buttons\"},[_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.cancel'),\n            buttonStyle: 'green-border',\n            noMinWidth: true,\n            fullWidth: true\n          },\"click-function\":_vm.closeModal}}),_c('standard-button',{attrs:{\"options\":{\n            title: _vm.$t('common.submit'),\n            buttonStyle: 'green',\n            noMinWidth: true,\n            fullWidth: true\n          },\"button-disabled\":_vm.canProceed ? false : true,\"click-function\":_vm.submitBtn}})],1),_c('help-center-button')],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal-container\">\n    <b-modal\n      ref=\"modal\"\n      :title=\"$t('dappsMaker.payback-title')\"\n      centered\n      class=\"bootstrap-modal nopadding\"\n      hide-footer\n      static\n      lazy\n    >\n      <div class=\"contents\">\n        <p class=\"top-message\">\n          {{ $t('dappsMaker.payback-notice') }}\n        </p>\n        <div v-if=\"!hasEnoughMkr\">\n          <div class=\"value-block\">\n            <p>\n              <b>{{ $t('dappsMaker.mkr-balance') }}</b>\n            </p>\n            <p>\n              <b>{{ mkrBalance }} {{ $t('dappsMaker.mkr') }}</b>\n            </p>\n          </div>\n          <p class=\"get-mkr\" @click=\"getMkr()\">\n            {{ $t('dappsMaker.get-mkr') }}\n          </p>\n        </div>\n        <div class=\"input-container\">\n          <div class=\"top-buttons\">\n            <p @click=\"currentDai\">{{ $t('dappsMaker.max-available') }}</p>\n          </div>\n          <div :class=\"['dai-amount', hasEnoughDai ? '' : 'danger']\">\n            <input v-model=\"amount\" />\n            <p class=\"floating-text\">{{ $t('dappsMaker.dai') }}</p>\n          </div>\n        </div>\n\n        <expanding-option title=\"Detail Information\">\n          <ul class=\"details\">\n            <li>\n              <p>{{ $t('dappsMaker.outstanding-dai') }}</p>\n              <p>\n                <b>{{\n                  values.debtValue ? displayFixedValue(values.debtValue, 3) : 0\n                }}</b>\n                {{ $t('dappsMaker.dai') }}\n              </p>\n            </li>\n            <li>\n              <p>{{ $t('dappsMaker.stability-fee-owed') }}</p>\n              <p>\n                <b>{{ values.governanceFeeOwed }}</b> {{ $t('dappsMaker.mkr') }}\n              </p>\n            </li>\n            <li>\n              <p>{{ $t('dappsMaker.projected-liquidation') }}</p>\n              <p>\n                <b>{{ displayFixedValue(newLiquidationPrice, 2) }}</b>\n                {{ fiatCurrency }}\n              </p>\n            </li>\n            <li>\n              <p>{{ $t('dappsMaker.projected-collat-ratio') }}</p>\n              <p>\n                <b\n                  >{{\n                    displayFixedValue(\n                      displayPercentValue(newCollateralRatio),\n                      3\n                    )\n                  }}%</b\n                >\n              </p>\n            </li>\n          </ul>\n        </expanding-option>\n        <div class=\"buttons\">\n          <div v-if=\"needsDaiApprove\">\n            <standard-button\n              :options=\"{\n                title: $t('dappsMaker.approve-dai'),\n                buttonStyle: 'green-border',\n                fullWidth: true,\n                noMinWidth: true\n              }\"\n              :click-function=\"approveDai\"\n            />\n          </div>\n          <div v-if=\"needsMkrApprove\">\n            <standard-button\n              :options=\"{\n                title: $t('dappsMaker.approve-maker'),\n                buttonStyle: 'green-border',\n                fullWidth: true,\n                noMinWidth: true\n              }\"\n              :click-function=\"approveMkr\"\n            />\n          </div>\n        </div>\n        <div class=\"buttons\">\n          <standard-button\n            :options=\"{\n              title: $t('common.cancel'),\n              buttonStyle: 'green-border',\n              noMinWidth: true,\n              fullWidth: true\n            }\"\n            :click-function=\"closeModal\"\n          />\n          <standard-button\n            :options=\"{\n              title: $t('common.submit'),\n              buttonStyle: 'green',\n              noMinWidth: true,\n              fullWidth: true\n            }\"\n            :button-disabled=\"canProceed ? false : true\"\n            :click-function=\"submitBtn\"\n          />\n        </div>\n        <help-center-button />\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport ethUnit from 'ethjs-unit';\nimport ExpandingOption from '@/components/ExpandingOption';\nimport HelpCenterButton from '@/components/Buttons/HelpCenterButton';\nimport BigNumber from 'bignumber.js/bignumber.js';\nimport { displayFixedValue, displayPercentValue } from '../../helpers';\nimport StandardButton from '@/components/Buttons/StandardButton';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default {\n  components: {\n    'help-center-button': HelpCenterButton,\n    'expanding-option': ExpandingOption,\n    'standard-button': StandardButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    action: {\n      type: String,\n      default: ''\n    },\n    values: {\n      type: Object,\n      default: function() {\n        return {\n          maxPethDraw: '',\n          maxEthDraw: '',\n          maxUsdDraw: '',\n          ethCollateral: '',\n          pethCollateral: '',\n          usdCollateral: '',\n          debtValue: '',\n          maxDai: '',\n          collateralRatio: '',\n          cdpId: ''\n        };\n      }\n    },\n    calcCollatRatioEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceEthChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcCollatRatioDaiChg: {\n      type: Function,\n      default: function() {}\n    },\n    calcLiquidationPriceDaiChg: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      amountEth: 0,\n      amountDai: 0,\n      mkrToken: {},\n      daiToken: {},\n      riskyBypass: false,\n      modalDetailInformation: false,\n      textValues: {},\n      fiatCurrency: 'USD',\n      digitalCurrency: 'ETH',\n      suppliedFrom: {\n        symbol: 'ETH',\n        name: 'Ethereum'\n      },\n      suppliedTo: {\n        symbol: 'MKR',\n        name: 'Maker'\n      },\n      suppliedToAmount: 0,\n      destAddress: ''\n    };\n  },\n  computed: {\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\n    amountPresent() {\n      return (\n        (this.amount || this.amount !== '') && !toBigNumber(this.amount).lte(0)\n      );\n    },\n    canCompute() {\n      return this.values && this.amountPresent;\n    },\n    allOk() {\n      if (this.amountPresent) {\n        return this.newCollateralRatioSafe && this.canGenerateDaiAmount;\n      }\n      return true;\n    },\n    hasEnoughEth() {\n      if (this.canCompute) {\n        const asEth = ethUnit.fromWei(this.account.balance, 'ether');\n        return toBigNumber(this.amount).lte(toBigNumber(asEth));\n      }\n      return true;\n    },\n    paybackFee() {\n      if (this.canCompute) {\n        return toBigNumber(this.amount)\n          .div(this.values.debtValue)\n          .times(this.values.governanceFeeOwed);\n      }\n      return 0;\n    },\n    hasEnoughMkr() {\n      if (this.canCompute) {\n        return toBigNumber(this.mkrBalance).gte(toBigNumber(this.paybackFee));\n      }\n      return true;\n    },\n    hasEnoughDai() {\n      if (this.canCompute) {\n        return toBigNumber(this.amount).lte(toBigNumber(this.daiBalance));\n      }\n      return true;\n    },\n    canWithdrawEthAmount() {\n      if (this.canCompute) {\n        return toBigNumber(this.amount).lte(\n          toBigNumber(this.values.ethCollateral)\n        );\n      }\n      return false;\n    },\n    canGenerateDaiAmount() {\n      if (this.canCompute) {\n        return toBigNumber(this.amount).lte(toBigNumber(this.values.maxDai));\n      }\n      return true;\n    },\n    canProceed() {\n      return this.hasEnoughDai;\n    },\n    calcCollateralRatio() {\n      if (this.canCompute) {\n        return this.calcCollatRatioDaiChg(\n          toBigNumber(this.values.debtValue).minus(this.amount)\n        );\n      }\n      if (this.values) {\n        return this.values.collateralRatio;\n      }\n      return '--';\n    },\n    newCollateralRatio() {\n      if (this.amount > 0) {\n        return this.calcCollateralRatio;\n      } else if (this.values) {\n        return this.values.collatRatio;\n      }\n      return '--';\n    },\n    newCollateralRatioSafe() {\n      if (this.amount > 0) {\n        if (this.calcCollateralRatio.lte(new BigNumber(0.000009))) {\n          return true;\n        }\n        return this.calcCollateralRatio.gte(2);\n      } else if (this.values) {\n        return toBigNumber(this.values.collatRatio).gte(2);\n      }\n      return true;\n    },\n    newCollateralRatioInvalid() {\n      if (this.amount > 0) {\n        // If less than a very small number\n        if (this.calcCollateralRatio.lte(new BigNumber(0.000009))) {\n          return true;\n        }\n        return this.calcCollateralRatio.gte(1.5);\n      } else if (this.values) {\n        return toBigNumber(this.values.collatRatio).lte(1.5);\n      }\n      return true;\n    },\n    newLiquidationPrice() {\n      if (this.values.debtValue && this.amount > 0) {\n        return this.calcLiquidationPriceDaiChg(\n          toBigNumber(this.values.debtValue).minus(this.amount)\n        );\n      } else if (this.values.liquidationPrice) {\n        return this.values.liquidationPrice;\n      }\n      return 0;\n    },\n    mkrBalance() {\n      if (this.mkrToken) {\n        return this.mkrToken.balance;\n      }\n      return 0;\n    },\n    daiBalance() {\n      if (this.daiToken) {\n        return this.daiToken.balance;\n      }\n      return 0;\n    },\n    needsDaiApprove() {\n      if (toBigNumber(this.values.proxyAllowanceDai).gt(0)) {\n        if (\n          toBigNumber(this.values.proxyAllowanceDai).lt(this.values.debtValue)\n        ) {\n          return true;\n        }\n      }\n      return toBigNumber(this.values.proxyAllowanceDai).eq(0);\n    },\n    needsMkrApprove() {\n      if (toBigNumber(this.values.proxyAllowanceMkr).gt(0)) {\n        if (\n          toBigNumber(this.values.proxyAllowanceMkr).lt(\n            this.values.governanceFeeOwed\n          )\n        ) {\n          return true;\n        }\n      }\n      return toBigNumber(this.values.proxyAllowanceMkr).eq(0);\n    }\n  },\n  watch: {},\n  mounted() {\n    this.$refs.modal.$on('shown', () => {\n      this.amount = 0;\n      this.getBalances();\n    });\n  },\n  methods: {\n    submitBtn() {\n      if (!this.canProceed) return;\n      this.wipeDai();\n    },\n    checkBoxClicked() {\n      this.riskyBypass = !this.riskyBypass;\n    },\n    displayPercentValue,\n    displayFixedValue,\n    notZero(val) {\n      return toBigNumber(val).gt(0);\n    },\n    maxDai() {\n      this.amount = toBigNumber(this.values.maxDai).minus(\n        toBigNumber(this.values.maxDai).times(0.01)\n      );\n    },\n    currentDai() {\n      this.amount = this.values.debtValue;\n    },\n    async wipeDai() {\n      if (toBigNumber(this.amount).gte(0)) {\n        this.delayCloseModal();\n        if (toBigNumber(this.amount).gt(this.values.debtValue)) {\n          this.$emit('wipeDai', this.values.debtValue);\n        } else {\n          this.$emit('wipeDai', this.amount);\n        }\n      }\n    },\n    getBalances() {\n      this.mkrToken = this.tokensWithBalance.find(item => {\n        return item.symbol === 'MKR';\n      });\n      this.daiToken = this.tokensWithBalance.find(item => {\n        return item.symbol === 'SAI';\n      });\n    },\n    getMkr() {\n      const mkrNeeded = this.paybackFee;\n      if (toBigNumber(this.mkrBalance).lt(mkrNeeded)) {\n        this.suppliedToAmount = toBigNumber(mkrNeeded)\n          .minus(toBigNumber(this.mkrBalance))\n          .plus(toBigNumber(mkrNeeded).times(0.01))\n          .toNumber();\n        if (toBigNumber(this.suppliedToAmount).lt(0.000001)) {\n          this.suppliedToAmount = 0.000001;\n        }\n        this.suppliedFrom = {\n          symbol: 'ETH',\n          name: 'Ethereum'\n        };\n        this.suppliedTo = {\n          symbol: 'MKR',\n          name: 'Maker'\n        };\n        this.$eventHub.$emit(\n          'showSwapWidgetTo',\n          this.account.address,\n          this.suppliedFrom,\n          this.suppliedTo,\n          this.suppliedToAmount\n        );\n      }\n    },\n    closeModal() {\n      this.$refs.modal.hide();\n    },\n    delayCloseModal() {\n      setTimeout(() => {\n        this.closeModal();\n      }, 200);\n    },\n    async approveDai() {\n      this.$emit('approveDai');\n    },\n    async approveMkr() {\n      this.$emit('approveMkr');\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'PaybackModal';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PaybackModal.vue?vue&type=template&id=aba123ba&scoped=true&\"\nimport script from \"./PaybackModal.vue?vue&type=script&lang=js&\"\nexport * from \"./PaybackModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PaybackModal.vue?vue&type=style&index=0&id=aba123ba&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aba123ba\",\n  null\n  \n)\n\nexport default component.exports","/**\n *  Conversion Utilities\n *\n */\n\nfunction addSlice(array) {\n  if (array.slice) {\n    return array;\n  }\n\n  array.slice = function() {\n    const args = Array.prototype.slice.call(arguments);\n    return new Uint8Array(Array.prototype.slice.apply(array, args));\n  };\n\n  return array;\n}\n\nfunction isArrayish(value) {\n  if (\n    !value ||\n    parseInt(value.length) != value.length ||\n    typeof value === 'string'\n  ) {\n    return false;\n  }\n\n  for (let i = 0; i < value.length; i++) {\n    const v = value[i];\n    if (v < 0 || v >= 256 || parseInt(v) != v) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function arrayify(value) {\n  if (value && value.toHexString) {\n    value = value.toHexString();\n  }\n\n  if (isHexString(value)) {\n    value = value.substring(2);\n    if (value.length % 2) {\n      value = '0' + value;\n    }\n\n    const result = [];\n    for (let i = 0; i < value.length; i += 2) {\n      result.push(parseInt(value.substr(i, 2), 16));\n    }\n\n    return addSlice(new Uint8Array(result));\n  }\n  if (isArrayish(value)) {\n    return addSlice(new Uint8Array(value));\n  }\n}\n\nexport function padZeros(value, length) {\n  value = arrayify(value);\n\n  if (length < value.length) {\n    throw new Error('cannot pad');\n  }\n\n  const result = new Uint8Array(length);\n  result.set(value, length - value.length);\n  return addSlice(result);\n}\n\nfunction isHexString(value, length) {\n  if (typeof value !== 'string' || !value.match(/^0x[0-9A-Fa-f]*$/)) {\n    return false;\n  }\n  if (length && value.length !== 2 + 2 * length) {\n    return false;\n  }\n  return true;\n}\n\nconst HexCharacters = '0123456789abcdef';\n\nexport function hexlify(value) {\n  if (value && value.toHexString) {\n    return value.toHexString();\n  }\n\n  if (typeof value === 'number') {\n    let hex = '';\n    while (value) {\n      hex = HexCharacters[value & 0x0f] + hex;\n      value = parseInt(value / 16);\n    }\n\n    if (hex.length) {\n      if (hex.length % 2) {\n        hex = '0' + hex;\n      }\n      return '0x' + hex;\n    }\n\n    return '0x00';\n  }\n\n  if (isHexString(value)) {\n    if (value.length % 2) {\n      value = '0x0' + value.substring(2);\n    }\n    return value;\n  }\n\n  if (isArrayish(value)) {\n    const result = [];\n    for (let i = 0; i < value.length; i++) {\n      const v = value[i];\n      result.push(HexCharacters[(v & 0xf0) >> 4] + HexCharacters[v & 0x0f]);\n    }\n    return '0x' + result.join('');\n  }\n}\n","import Maker from '@makerdao/dai';\nimport BigNumber from 'bignumber.js';\nimport {\n  calcLiquidationPrice,\n  calcCollatRatio,\n  maxPethDraw,\n  maxEthDraw,\n  maxDai\n} from './helpers';\nimport SaiProxy from './SaiProxyCreateAndExecute';\nimport DSProxy from '@/dapps/MakerDai/makerHelpers/ABIs/DSProxy';\nimport { padZeros, hexlify } from './ethersHelpers';\nimport { createCurrency, createGetCurrency } from '@makerdao/currency';\nimport { Toast } from '@/helpers';\n\nconst { MKR, DAI, ETH } = Maker;\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nexport default class MakerCDP {\n  constructor(cdpId, web3, services, sysVars) {\n    this.cdpId = cdpId;\n    this.cdp = {};\n    this.web3 = web3 || {};\n    this.ready = false;\n    this.doUpdate = 0;\n    this.cdps = [];\n    this.noProxy = sysVars.noProxy || false;\n    this.services = services || null;\n    this.needsUpdate = false;\n    this.closing = false;\n    this.opening = false;\n    this.migrated = false;\n    this.migrateCdpActive = false;\n    this.migrateCdpStage = 0;\n\n    this._liqPrice = toBigNumber(0);\n    this.isSafe = false;\n    this.debtValue = toBigNumber(0);\n    this._collatRatio = 0;\n    this.ethCollateral = toBigNumber(0);\n    this.pethCollateral = toBigNumber(0);\n    this._usdCollateral = toBigNumber(0);\n    this._governanceFee = toBigNumber(0);\n  }\n\n  // Getters\n  get currentAddress() {\n    return this.services.account.address;\n  }\n\n  get liquidationPenalty() {\n    return this.services.liquidationPenalty;\n  }\n\n  get stabilityFee() {\n    return this.services.stabilityFee;\n  }\n\n  get ethPrice() {\n    return this.services.ethPrice;\n  }\n\n  get pethPrice() {\n    return this.services._pethPrice;\n  }\n\n  get wethToPethRatio() {\n    return this.services.wethToPethRatio;\n  }\n\n  get liquidationRatio() {\n    return this.services.liquidationRatio;\n  }\n\n  get proxyAddress() {\n    return this.services._proxyAddress;\n  }\n\n  get hasProxy() {\n    return this.services.hasProxy;\n  }\n\n  get proxyAllowanceDai() {\n    return this.services.proxyAllowanceDai;\n  }\n\n  get proxyAllowanceMkr() {\n    return this.services.proxyAllowanceMkr;\n  }\n\n  get daiToken() {\n    return this.services._daiToken;\n  }\n\n  get daiBalance() {\n    return this.services.daiBalance;\n  }\n\n  get mkrToken() {\n    return this.services._mkrToken;\n  }\n\n  get mkrBalance() {\n    return this.services.mkrBalance;\n  }\n\n  get proxyService() {\n    return this.services._proxyService;\n  }\n\n  get cdpService() {\n    return this.services._cdpService;\n  }\n\n  get minEth() {\n    return this.services.minEth();\n  }\n\n  get pethMin() {\n    return this.services.pethMin;\n  }\n\n  // CDP Instance/item values\n\n  get zeroDebt() {\n    return toBigNumber(this.debtValue).eq(0);\n  }\n\n  get usdCollateral() {\n    return this.toUSD(this.ethCollateral);\n  }\n\n  get ethCollateralNum() {\n    return this.ethCollateral.toNumber();\n  }\n\n  get collatRatio() {\n    return this._collatRatio;\n  }\n\n  get liquidationPrice() {\n    return this._liqPrice;\n  }\n\n  get governanceFeeOwed() {\n    return this._governanceFee;\n  }\n\n  get maxDai() {\n    if (\n      this.ethPrice &&\n      this.ethCollateral &&\n      this.liquidationRatio &&\n      this.debtValue\n    ) {\n      return maxDai(\n        this.ethPrice,\n        this.ethCollateral,\n        this.liquidationRatio.plus(0.001),\n        this.debtValue\n      );\n    }\n    return toBigNumber(0);\n  }\n\n  get maxEthDraw() {\n    if (this.ethPrice && this.debtValue && this.liquidationRatio) {\n      if (this.zeroDebt) {\n        return maxEthDraw(\n          this.ethCollateral,\n          this.liquidationRatio,\n          this.debtValue,\n          this.ethPrice,\n          this.minEth.times(0)\n        ).toFixed(18);\n      }\n      return maxEthDraw(\n        this.ethCollateral,\n        this.liquidationRatio,\n        this.debtValue,\n        this.ethPrice\n      ).toFixed(18);\n    }\n    return toBigNumber(0);\n  }\n\n  get maxPethDraw() {\n    if (this.pethPrice && this.pethCollateral && this.liquidationRatio) {\n      if (this.zeroDebt) {\n        return maxPethDraw(\n          this.pethCollateral,\n          this.liquidationRatio,\n          this.debtValue,\n          this.pethPrice,\n          this.pethMin.times(0)\n        );\n      }\n      return maxPethDraw(\n        this.pethCollateral,\n        this.liquidationRatio,\n        this.debtValue,\n        this.pethPrice\n      );\n    }\n    return toBigNumber(0);\n  }\n\n  get maxUsdDraw() {\n    if (this.pethPrice && this.pethCollateral && this.liquidationRatio) {\n      return this.toUSD(this.maxEthDraw);\n    }\n    return toBigNumber(0);\n  }\n\n  get needToFinishMigrating() {\n    return this._proxyAddress && this.noProxy;\n  }\n\n  // Methods\n  async init(cdpId = this.cdpId) {\n    await this.updateValues(cdpId);\n    this._governanceFee = (\n      await this.cdpService.getGovernanceFee(this.cdpId, MKR)\n    ).toBigNumber();\n\n    this.ready = true;\n    return this;\n  }\n\n  async updateValues(cdpId = this.cdpId) {\n    try {\n      this.byte32Id = hexlify(\n        padZeros(this.web3.utils.numberToHex(this.cdpId), 32)\n      );\n    } catch (e) {\n      // eslint-disable-next-line\n      console.error(e);\n    }\n    this._proxyAddress = await this.services.getProxy();\n    this.noProxy = this._proxyAddress === null;\n    if (this._proxyAddress) {\n      this.cdp = await this.services.getCdp(cdpId, this._proxyAddress);\n    } else {\n      this.cdp = await this.services.getCdp(cdpId, false);\n    }\n    const liqPrice = await this.cdp.getLiquidationPrice();\n    this._liqPrice = liqPrice.toBigNumber().toFixed(2);\n    this.isSafe = await this.cdp.isSafe();\n    this.debtValue = (await this.cdp.getDebtValue()).toBigNumber();\n    this._collatRatio = await this.cdp.getCollateralizationRatio();\n    this.ethCollateral = (await this.cdp.getCollateralValue()).toBigNumber();\n    this.pethCollateral = (\n      await this.cdp.getCollateralValue(Maker.PETH)\n    ).toBigNumber();\n    this._usdCollateral = (\n      await this.cdp.getCollateralValue(Maker.USD)\n    ).toBigNumber();\n  }\n\n  async update() {\n    if (this.migrated) {\n      const currentProxy = await this.proxyService.currentProxy();\n      if (currentProxy) {\n        this.migrated = false;\n        await this.cdpService.give(this.cdpId, this._proxyAddress);\n      }\n    }\n    if (this.needsUpdate) {\n      this.opening = false;\n      this.needsUpdate = false;\n      await this.updateValues(this.cdpId);\n      this.doUpdate++;\n      return this;\n    }\n    return this;\n  }\n\n  async getProxy() {\n    this._proxyAddress = await this.services.getProxy();\n  }\n\n  async migrateCdp() {\n    const currentProxy = await this.getProxy();\n    if (!currentProxy) {\n      this.needsUpdate = true;\n      return await this.proxyService.ensureProxy();\n    } else if (this.needToFinishMigrating) {\n      this.needsUpdate = true;\n      await this.cdpService.give(this.cdpId, this._proxyAddress);\n    }\n  }\n\n  async openCdp(ethQty, daiQty) {\n    if (ethQty <= 0) return 0;\n    let newCdp;\n    if (!this.hasProxy) {\n      this.opening = true;\n      this.needsUpdate = true;\n      newCdp = await this.cdpService.openProxyCdpLockEthAndDrawDai(\n        ethQty,\n        daiQty,\n        null\n      );\n    } else {\n      this.opening = true;\n      this.needsUpdate = true;\n      newCdp = await this.cdpService.openProxyCdpLockEthAndDrawDai(\n        ethQty,\n        daiQty,\n        this.proxyAddress\n      );\n    }\n\n    return newCdp.id;\n  }\n\n  async lockEth(amount) {\n    try {\n      if (this.noProxy) {\n        return;\n      }\n      this.needsUpdate = true;\n      await this.cdpService.lockEthProxy(\n        this._proxyAddress,\n        this.cdpId,\n        amount\n      );\n    } catch (e) {\n      // eslint-disable-next-line\n      console.error(e);\n    }\n  }\n\n  drawDai(amount, acknowledgeBypass = false) {\n    if (\n      this.calcCollatRatio(this.ethCollateral, this.debtValue.plus(amount)).gt(\n        2\n      ) ||\n      acknowledgeBypass\n    ) {\n      try {\n        if (this.noProxy) {\n          return;\n        }\n        this.needsUpdate = true;\n        this.cdpService.drawDaiProxy(this._proxyAddress, this.cdpId, amount);\n      } catch (e) {\n        // eslint-disable-next-line\n        console.error(e);\n      }\n    }\n  }\n\n  // This should also have a acknowledgeBypass\n  async freeEth(amount, acknowledgeBypass = false) {\n    if (\n      this.debtValue.eq(0) ||\n      this.calcCollatRatio(this.ethCollateral.minus(amount), this.debtValue).gt(\n        1.5\n      ) ||\n      acknowledgeBypass\n    ) {\n      try {\n        if (this.noProxy) {\n          return;\n        }\n        this.needsUpdate = true;\n        const currencies = {};\n        currencies.ETH = createCurrency('ETH');\n        const getCurrency = createGetCurrency(currencies);\n        const contractAddress = '0x526af336d614ade5cc252a407062b8861af998f5';\n        const contract = new this.web3.eth.Contract(SaiProxy, contractAddress);\n        const data1 = contract.methods\n          .free(\n            this.cdpService._tubContract().address,\n            this.byte32Id,\n            getCurrency(amount, ETH).toFixed('wei')\n          )\n          .encodeABI();\n        const proxyContract = new this.web3.eth.Contract(\n          DSProxy,\n          this._proxyAddress\n        );\n        const data = proxyContract.methods\n          .execute(contractAddress, data1)\n          .encodeABI();\n        return this.web3.eth\n          .sendTransaction({\n            to: this._proxyAddress,\n            from: this.currentAddress,\n            data: data,\n            gas: 2000000\n          })\n          .catch(err => {\n            Toast.responseHandler(err, Toast.ERROR);\n          });\n      } catch (e) {\n        // eslint-disable-next-line\n        console.error(e);\n      }\n    }\n  }\n\n  async wipeDai(amount) {\n    try {\n      if (this.noProxy) {\n        return;\n      }\n      this.needsUpdate = true;\n      await this.cdpService.wipeDaiProxy(\n        this._proxyAddress,\n        this.cdpId,\n        amount\n      );\n    } catch (e) {\n      // eslint-disable-next-line\n      console.error(e);\n    }\n  }\n\n  async canCloseCdp() {\n    const value = this.debtValue.toNumber();\n    return await this.cdpService.enoughMkrToWipe(this.cdpId, value);\n  }\n\n  async closeCdp() {\n    try {\n      this.needsUpdate = true;\n      this.closing = true;\n\n      if (this.hasProxy) {\n        await this.cdpService.shutProxy(this._proxyAddress, this.cdpId);\n      }\n    } catch (e) {\n      // eslint-disable-next-line\n      console.log('closeCdp Error:');\n      // eslint-disable-next-line\n      console.error(e);\n    }\n    // }\n  }\n\n  async checkIfDestAddressHasProxy(address) {\n    await this.getProxy();\n    const proxy = await this.proxyService.getProxyAddress(address);\n    return proxy;\n  }\n\n  async moveCdp(address) {\n    await this.getProxy();\n    const proxy = await this.proxyService.getProxyAddress(address);\n    if (proxy) {\n      this.needsUpdate = true;\n      this.closing = true; // for the purpose of displaying to the user closing and moving are the same\n      await this.cdpService.giveProxy(this._proxyAddress, this.cdpId, proxy);\n    } else if (!this.noProxy) {\n      this.needsUpdate = true;\n      this.closing = true;\n      await this.cdpService.giveProxy(this._proxyAddress, this.cdpId, address);\n    } else {\n      this.needsUpdate = true;\n      this.closing = true;\n      await this.cdpService.give(this.cdpId, address);\n    }\n  }\n\n  enoughMkrToWipe(amount) {\n    return this.cdpService.enoughMkrToWipe(amount, DAI.wei);\n  }\n\n  // Calculations\n  toUSD(eth) {\n    const toUsd = this.services.toUSD(eth);\n    if (toUsd.lt(0)) {\n      return toBigNumber(0);\n    }\n    return toUsd;\n  }\n\n  toPeth(eth) {\n    return this.services.toPeth(eth);\n  }\n\n  maxDaiDraw() {\n    const tl = toBigNumber(this.ethPrice).times(\n      toBigNumber(this.ethCollateral)\n    );\n    const tr = toBigNumber(this.debtValue).times(\n      toBigNumber(this.liquidationRatio)\n    );\n    return tl.minus(tr).div(toBigNumber(this.ethPrice));\n  }\n\n  calcCollatRatio(ethQty, daiQty) {\n    if (ethQty <= 0 || daiQty <= 0) return toBigNumber(0);\n    return calcCollatRatio(this.ethPrice, ethQty, daiQty);\n  }\n\n  calcLiquidationPrice(ethQty, daiQty) {\n    if (ethQty <= 0 || daiQty <= 0) return toBigNumber(0);\n    return calcLiquidationPrice(\n      ethQty,\n      daiQty,\n      this.ethPrice,\n      this.liquidationRatio\n    );\n  }\n\n  // Helpers\n  async approveDai() {\n    await this.daiToken.approveUnlimited(this.proxyAddress);\n  }\n\n  async approveMkr() {\n    await this.mkrToken.approveUnlimited(this.proxyAddress);\n  }\n\n  async getDaiBalances() {\n    this.daiBalance = await this.services.daiToken.balance();\n    return this.daiBalance;\n  }\n\n  // Static Helpers\n  static toNumber(val) {\n    if (BigNumber.isBigNumber(val)) {\n      return val.toNumber();\n    }\n    return toBigNumber(val).toNumber();\n  }\n\n  static displayPercentValue(raw) {\n    if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n    return raw.times(100).toString();\n  }\n\n  static displayFixedValue(raw, decimals = 3, round = true) {\n    if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n    if (round) return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\n    return raw.toFixed(decimals).toString();\n  }\n}\n","<template>\n  <div class=\"container-maker\">\n    <deposit-modal\n      ref=\"deposit\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @lockEth=\"lockEth\"\n    ></deposit-modal>\n    <generate-modal\n      ref=\"generate\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @drawDai=\"drawDai\"\n    ></generate-modal>\n    <withdraw-modal\n      ref=\"withdraw\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @approveDai=\"approveDai\"\n      @approveMkr=\"approveMkr\"\n      @freeEth=\"freeEth\"\n    ></withdraw-modal>\n    <payback-modal\n      ref=\"payback\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @approveDai=\"approveDai\"\n      @approveMkr=\"approveMkr\"\n      @wipeDai=\"wipeDai\"\n    ></payback-modal>\n    <close-cdp-modal\n      ref=\"closeCdp\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @approveDai=\"approveDai\"\n      @approveMkr=\"approveMkr\"\n      @closeCdp=\"closeCdp\"\n    >\n    </close-cdp-modal>\n    <move-cdp-modal\n      ref=\"moveCdp\"\n      :values=\"activeValues\"\n      :calc-collat-ratio-dai-chg=\"calcCollatRatioDaiChg\"\n      :calc-collat-ratio-eth-chg=\"calcCollatRatioEthChg\"\n      :calc-liquidation-price-eth-chg=\"calcLiquidationPriceEthChg\"\n      :calc-liquidation-price-dai-chg=\"calcLiquidationPriceDaiChg\"\n      :dest-address-has-proxy=\"destAddressHasProxy\"\n      :dest-address-proxy=\"destAddressProxy\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      @moveCdp=\"moveCdp\"\n      @checkForProxy=\"checkIfDestAddressHasProxy\"\n    >\n    </move-cdp-modal>\n    <back-button :path=\"'/interface/dapps/'\">\n      <div class=\"back-bar-container\">\n        <div v-if=\"showMoveOrClose\" class=\"header-buttons-container\">\n          <div class=\"inner-container\">\n            <button class=\"move-btn\" @click=\"showMove\">\n              <h4>{{ $t('dappsMaker.move-title') }}</h4>\n            </button>\n            <div v-if=\"!((!hasProxy && !onCreate) || showCdpMigrateButtons)\">\n              <button class=\"close-btn\" @click=\"showClose\">\n                <h4>{{ $t('dappsMaker.close-title') }}</h4>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </back-button>\n    <div v-if=\"makerActive\" class=\"buttons-container\">\n      <div v-if=\"showCreateProxy\">\n        <div class=\"dapps-button\" @click=\"buildProxy\">\n          <h4>{{ $t('dappsMaker.create-proxy') }}</h4>\n        </div>\n      </div>\n      <div v-if=\"showCreateProxy\" class=\"proxy-container\">\n        {{ $t('dappsMaker.proxy-instructions') }}\n      </div>\n      <div v-if=\"showCdpMigrateButtons\">\n        <div v-for=\"(value, idx) in cdpsWithoutProxy\" :key=\"idx + value\">\n          <div class=\"dapps-button\">\n            <div @click=\"migrateCdpExternal(value)\">\n              <h4>\n                {{ $t('dappsMaker.migrate-cdp', { value: value }) }}\n              </h4>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"showCdpMigrateButtons\" class=\"proxy-container\">\n        {{ $t('dappsMaker.migrate-instructions') }}\n      </div>\n    </div>\n    <div v-show=\"makerActive\" class=\"buttons-container\">\n      <div v-if=\"showCreateProxy && cdpsWithoutProxy.length > 1\">\n        <div v-for=\"(value, idx) in cdpsWithoutProxy\" :key=\"idx + value\">\n          <div\n            :class=\"[\n              'dapps-button',\n              activeValues.cdpId === value ? 'active' : ''\n            ]\"\n          >\n            <div @click=\"openMigrate(value)\">\n              <h4>{{ $t('dappsMaker.cdp') }} #{{ value }}</h4>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-show=\"makerActive && listCdps\" class=\"buttons-container\">\n      <div v-for=\"(value, idx) in cdps\" :key=\"idx + value\">\n        <div\n          :class=\"[\n            'dapps-button',\n            activeValues.cdpId === value ? 'active' : ''\n          ]\"\n        >\n          <div @click=\"openManage(value)\">\n            <h4>{{ $t('dappsMaker.cdp') }} #{{ value }}</h4>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <router-view\n      :build-empty=\"buildEmpty\"\n      :maker-active=\"makerActive\"\n      :eth-price=\"ethPrice\"\n      :peth-price=\"pethPrice\"\n      :peth-min=\"pethMin\"\n      :weth-to-peth-ratio=\"wethToPethRatio\"\n      :liquidation-penalty=\"liquidationPenalty\"\n      :stability-fee=\"stabilityFee\"\n      :liquidation-ratio=\"liquidationRatio\"\n      :price-service=\"priceService\"\n      :cdp-service=\"cdpService\"\n      :proxy-service=\"proxyService\"\n      :cdps=\"cdps\"\n      :cdp-details-loaded=\"cdpDetailsLoaded\"\n      :tokens-with-balance=\"tokensWithBalance\"\n      :migration-in-progress=\"migrationInProgress\"\n      :open-close-modal=\"openCloseModal\"\n      :open-move-modal=\"openMoveModal\"\n      :values-updated=\"valuesUpdated\"\n      :values=\"activeValues\"\n      :get-cdp=\"getCdp\"\n      :has-cdp=\"hasCdp\"\n      :loading-message1=\"$t('dappsMaker.initial-loading-one')\"\n      :loading-message2=\"$t('dappsMaker.initial-loading-two')\"\n      @activeCdpId=\"setupCdpManage\"\n      @cdpOpened=\"addCdp\"\n      @cdpClosed=\"removeCdp\"\n      @modalHidden=\"modalHidden\"\n      @managerUpdate=\"doUpdate\"\n      @showWithdraw=\"showWithdraw\"\n      @showPayback=\"showPayback\"\n      @showGenerate=\"showGenerate\"\n      @showDeposit=\"showDeposit\"\n      @migrateCdp=\"migrateCdpExternal\"\n    >\n    </router-view>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport BackButton from '@/layouts/InterfaceLayout/components/BackButton';\nimport CloseCdpModal from './components/CloseCdpModal';\nimport MoveCdpModal from './components/MoveCdpModal';\nimport GenerateModal from './components/GenerateModal';\nimport DepositModal from './components/DepositModal';\nimport WithdrawModal from './components/WithdrawModal';\nimport PaybackModal from './components/PaybackModal';\nimport BigNumber from 'bignumber.js';\nimport Maker from '@makerdao/dai';\nimport { Toast } from '@/helpers';\nimport MakerCDP from './MakerCDP';\nimport { toChecksumAddress } from '@/helpers/addressUtils';\n\nimport MewPlugin from 'mew-maker-plugin';\nconst { MKR, DAI } = Maker;\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nconst bnOver = (one, two, three) => {\n  return toBigNumber(one)\n    .times(toBigNumber(two))\n    .div(toBigNumber(three));\n};\n\nexport default {\n  components: {\n    'generate-modal': GenerateModal,\n    'deposit-modal': DepositModal,\n    'withdraw-modal': WithdrawModal,\n    'payback-modal': PaybackModal,\n    'back-button': BackButton,\n    'close-cdp-modal': CloseCdpModal,\n    'move-cdp-modal': MoveCdpModal\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    getBalance: {\n      type: Function,\n      default: function() {}\n    },\n    highestGas: {\n      type: String,\n      default: '0'\n    }\n  },\n  data() {\n    return {\n      destAddressProxy: '',\n      destAddressHasProxy: false,\n      afterUpdate: [],\n      allCdpIds: [],\n      activeCdp: {},\n      activeValues: {\n        maxPethDraw: toBigNumber(0),\n        maxEthDraw: toBigNumber(0),\n        maxUsdDraw: toBigNumber(0),\n        ethCollateral: toBigNumber(0),\n        pethCollateral: toBigNumber(0),\n        usdCollateral: toBigNumber(0),\n        debtValue: toBigNumber(0),\n        maxDai: toBigNumber(0),\n        collateralRatio: toBigNumber(0),\n        minEth: toBigNumber(0),\n        cdpId: '--'\n      },\n      availableCdps: {},\n      cdps: [],\n      cdpsWithoutProxy: [],\n      cdpService: {},\n      cdpDetailsLoaded: false,\n      currentProxy: null,\n      currentCdpId: '',\n      creatingCdp: false,\n      daiPrice: 0,\n      daiQty: 0,\n      ethPrice: toBigNumber(0),\n      ethQty: 0,\n      liquidationRatio: toBigNumber(0),\n      liquidationPenalty: toBigNumber(0),\n      makerActive: false,\n      makerCdp: {},\n      makerManager: {},\n      migrationInProgress: {},\n      openCloseModal: false,\n      openMoveModal: false,\n      proxyService: {},\n      proxyAddress: null,\n      pethPrice: toBigNumber(0),\n      pethMin: toBigNumber(0),\n      priceService: {},\n      priceFloor: 0,\n      stabilityFee: toBigNumber(0),\n      sysVars: {},\n      sysServices: {},\n      targetPrice: 0,\n      valuesUpdated: 0,\n      wethToPethRatio: toBigNumber(0)\n    };\n  },\n  computed: {\n    ...mapState('main', ['account', 'gasPrice', 'web3', 'network', 'ens']),\n    maxDaiDraw() {\n      if (this.ethQty <= 0) return 0;\n      return bnOver(this.ethPrice, this.ethQty, this.liquidationRatio);\n    },\n    minEthDeposit() {\n      if (this.daiQty <= 0) return 0;\n      return bnOver(this.liquidationRatio, this.daiQty, this.ethPrice);\n    },\n    showMoveOrClose() {\n      return (\n        this.$route.name === 'manage-sai' || this.$route.name === 'migrate-sai'\n      );\n    },\n    showManage() {\n      return (\n        this.listCdps ||\n        (this.cdps.length >= 1 && this.cdpsWithoutProxy.length >= 1)\n      );\n    },\n    showRefresh() {\n      return this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0;\n    },\n    onCreate() {\n      return this.$route.name === 'create-sai';\n    },\n    showCreateProxy() {\n      if (this.showCdpMigrateButtons) {\n        return false;\n      }\n      return !this.hasProxy && !this.onCreate;\n    },\n    showCdpMigrateButtons() {\n      return this.hasProxy && this.cdpsWithoutProxy.length >= 1;\n    },\n    listCdps() {\n      return this.cdps.length > 1 || this.cdpsWithoutProxy.length > 1;\n    },\n    hasProxy() {\n      return this.proxyAddress !== null;\n    },\n    currentProxyAddress() {\n      return this.proxyAddress;\n    }\n  },\n  watch: {\n    ['account.address']() {\n      this.makerActive = false;\n      this.setup();\n    }\n  },\n  destroyed() {\n    this.priceService = {};\n    this.cdpService = {};\n    this.proxyService = {};\n    this.availableCdps = {};\n    this.activeCdp = {};\n    this.makerCdp = {};\n    this.sysVars = {};\n    this.sysServices = {};\n  },\n  async mounted() {\n    await this.setup();\n  },\n  methods: {\n    modalHidden() {\n      this.openCloseModal = false;\n      this.openMoveModal = false;\n    },\n    gotoHome() {\n      this.$router.push({\n        name: 'Maker-sai'\n      });\n    },\n    gotoCreate() {\n      if (this.$route.path.includes('maker-sai')) {\n        this.activeValues = this.systemValues;\n        this.$router.push({\n          name: 'create-sai'\n        });\n      }\n    },\n    goToManage() {\n      if (this.$route.path.includes('maker-sai')) {\n        if (this.cdps.length === 1) {\n          this.$router.push({\n            name: 'manage-sai',\n            params: {\n              cdpId: this.cdps[0]\n            }\n          });\n        } else if (this.cdpsWithoutProxy.length === 1) {\n          this.$router.push({\n            name: 'migrate-sai',\n            params: {\n              cdpId: this.cdpsWithoutProxy[0]\n            }\n          });\n        } else if (this.showManage) {\n          // The listing screen may not work and can be removed\n          this.$router.push({\n            name: 'select-sai'\n          });\n        } else {\n          this.gotoCreate();\n        }\n      }\n    },\n    openManage(cdpId) {\n      if (this.$route.path.includes('maker-sai')) {\n        this.setupCdpManage(cdpId);\n        this.$router.push({\n          name: 'manage-sai',\n          params: {\n            cdpId: cdpId\n          }\n        });\n      }\n    },\n    openMigrate(cdpId) {\n      if (this.$route.path.includes('maker-sai')) {\n        this.setupCdpManage(cdpId);\n        this.$router.push({\n          name: 'migrate-sai',\n          params: {\n            cdpId: cdpId\n          }\n        });\n      }\n    },\n    showDeposit() {\n      this.$refs.deposit.$refs.modal.show();\n    },\n    showWithdraw() {\n      this.$refs.withdraw.$refs.modal.show();\n    },\n    showPayback() {\n      this.$refs.payback.$refs.modal.show();\n    },\n    showGenerate() {\n      this.$refs.generate.$refs.modal.show();\n    },\n    showClose() {\n      this.$refs.closeCdp.$refs.modal.$on('hidden', () => {\n        this.$emit('modalHidden');\n      });\n      this.$refs.closeCdp.$refs.modal.show();\n    },\n    showMove() {\n      this.$refs.moveCdp.$refs.modal.$on('hidden', () => {\n        this.$emit('modalHidden');\n      });\n      this.destAddressHasProxy = false;\n      this.$refs.moveCdp.$refs.modal.show();\n    },\n    async setup() {\n      this.activeCdps = {};\n      this.currentCdp = {};\n      const web3 = this.web3;\n      const _self = this;\n      this.gotoHome();\n      const MewMakerPlugin = MewPlugin(\n        web3,\n        _self.account.address,\n        async () => {\n          if (_self.$route.path.includes('maker-sai')) {\n            await _self.doUpdate();\n          }\n        }\n      );\n      this.maker = await Maker.create('inject', {\n        provider: { inject: web3.currentProvider },\n        plugins: [MewMakerPlugin],\n        accounts: {\n          myLedger1: { type: 'mew' }\n        }\n      });\n\n      await this.maker.authenticate();\n      this._priceService = this.maker.service('price');\n      this._cdpService = await this.maker.service('cdp');\n      this._proxyService = await this.maker.service('proxy');\n      this._tokenService = await this.maker.service('token');\n\n      this.pethMin = toBigNumber(0.005);\n\n      this.ethPrice = toBigNumber(\n        (await this._priceService.getEthPrice()).toNumber()\n      );\n\n      this.pethPrice = toBigNumber(\n        (await this._priceService.getPethPrice()).toNumber()\n      );\n\n      this._targetPrice = toBigNumber(\n        (await this._priceService.getPethPrice()).toNumber()\n      );\n\n      this.liquidationRatio = toBigNumber(\n        await this._cdpService.getLiquidationRatio()\n      );\n      this.liquidationPenalty = toBigNumber(\n        await this._cdpService.getLiquidationPenalty()\n      );\n      this.stabilityFee = toBigNumber(\n        await this._cdpService.getAnnualGovernanceFee()\n      );\n\n      this.wethToPethRatio = toBigNumber(\n        await this._priceService.getWethToPethRatio()\n      );\n      this.proxyAddress = await this._proxyService.currentProxy();\n\n      this.daiToken = this._tokenService.getToken(DAI);\n      this.daiBalance = (await this.daiToken.balance()).toBigNumber();\n      this.mkrToken = this._tokenService.getToken(MKR);\n      this.mkrBalance = (await this.mkrToken.balance()).toBigNumber();\n\n      const minEth = toBigNumber(this.pethMin).times(this.wethToPethRatio);\n      this.systemValues = {\n        stabilityFee: this.stabilityFee,\n        minEth: minEth,\n        liquidationRatio: this.liquidationRatio,\n        wethToPethRatio: this.wethToPethRatio,\n        liquidationPenalty: this.liquidationPenalty,\n        targetPrice: this._targetPrice,\n        pethPrice: this.pethPrice\n      };\n\n      await this.checkAllowances();\n\n      const { withProxy, withoutProxy } = await this.locateCdps();\n      this.cdps = withProxy;\n      this.cdpsWithoutProxy = withoutProxy;\n\n      if (this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0) {\n        await this.loadCdpDetails();\n      }\n\n      this.currentProxy = this.getProxy();\n      if (this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0) {\n        this.cdpDetailsLoaded = true;\n        this.makerActive = true;\n        if (\n          this.$route.name !== 'create-sai' &&\n          this.$route.path.includes('maker-sai')\n        ) {\n          this.goToManage();\n        }\n      } else {\n        this.gotoCreate();\n      }\n    },\n\n    async buildEmpty() {\n      return await this.buildCdpObject(null);\n    },\n    addCdp() {\n      this.creatingCdp = true;\n    },\n    removeCdp(vals) {\n      try {\n        delete this.availableCdps[vals.id];\n        Toast.responseHandler(this.$t('dapps-maker.cdp-closed'), Toast.INFO);\n      } catch (e) {\n        // eslint-disable-next-line\n        console.error(e);\n      }\n    },\n    async migrateCdpExternal(cdpId) {\n      this.afterUpdate.push(this.goToManage);\n      await this.migrateCdp(cdpId);\n    },\n    async refreshExternal() {\n      await this.doUpdate();\n    },\n    async refresh() {\n      await this.doUpdate();\n    },\n    async doUpdate() {\n      this.proxyAddress = await this.getProxy();\n      let afterClose = false;\n      const afterOpen = this.$route.name === 'create-sai';\n      await this.updateActiveCdp();\n      for (const idProp in this.activeCdps) {\n        if (this.activeCdps[idProp].needsUpdate) {\n          if (this.activeCdps[idProp].closing) {\n            afterClose = true;\n            delete this.activeCdps[idProp];\n            this.cdps = this.cdps.filter(item => item !== idProp);\n            this.cdpsWithoutProxy = this.cdpsWithoutProxy.filter(\n              item => item !== idProp\n            );\n          } else if (this.activeCdps[idProp].opening) {\n            await this.activeCdps[idProp].updateValues();\n          } else {\n            this.activeCdps[idProp] = await this.activeCdps[idProp].update();\n          }\n        }\n        if (idProp === this.currentCdpId) {\n          await this.currentCdp.update();\n          await this.setupCdpManage(this.currentCdpId);\n        }\n      }\n\n      this.daiBalance = (await this.daiToken.balance()).toBigNumber();\n      this.mkrBalance = (await this.mkrToken.balance()).toBigNumber();\n      await this.checkAllowances();\n\n      if (!Object.keys(this.activeCdps).includes(this.currentCdpId)) {\n        await this.loadCdpDetails();\n        await this.setupCdpManage(this.currentCdpId);\n      } else {\n        await this.setupCdpManage(this.currentCdpId);\n      }\n\n      const runAfterUpdate = () => {\n        if (this.afterUpdate.length > 0) {\n          const fn = this.afterUpdate.pop();\n          fn();\n          runAfterUpdate();\n        }\n      };\n      runAfterUpdate();\n      if (afterClose || afterOpen || this.creatingCdp) {\n        if (this.cdps.length > 0 || this.cdpsWithoutProxy.length > 0) {\n          this.goToManage();\n        } else {\n          this.gotoCreate();\n        }\n      }\n      if (this.creatingCdp) {\n        this.creatingCdp = false;\n        await this.updateActiveCdp();\n        Toast.responseHandler(this.$t('dapps-maker.cdp-created'), Toast.INFO);\n      } else {\n        this.valuesUpdated++;\n        Toast.responseHandler(this.$t('dapps-maker.cdp-updated'), Toast.INFO);\n      }\n    },\n\n    async checkAllowances() {\n      if (this.proxyAddress) {\n        this._proxyAllowanceDai = (\n          await this.daiToken.allowance(this.account.address, this.proxyAddress)\n        ).toBigNumber();\n\n        this._proxyAllowanceMkr = (\n          await this.mkrToken.allowance(this.account.address, this.proxyAddress)\n        ).toBigNumber();\n      }\n    },\n    async setupCdpManage(cdpId) {\n      if (!this.allCdpIds.includes(cdpId) && this.allCdpIds.length > 0) {\n        cdpId = this.allCdpIds[0];\n      }\n      if (this.allCdpIds.length === 0) {\n        this.activeValues = this.systemValues;\n      } else {\n        this.currentCdpId = cdpId;\n        this.activeValues = await this.getValuesForManage(cdpId);\n      }\n    },\n    async getValuesForManage(cdpId) {\n      const currentCdp = this.activeCdps[cdpId];\n      this.currentCdp = currentCdp;\n      const _proxyAllowanceDai = this._proxyAllowanceDai;\n      const _proxyAllowanceMkr = this._proxyAllowanceMkr;\n      const toPeth = this.toPeth;\n      const systemValues = this.systemValues;\n      return {\n        ...systemValues,\n        cdpId: cdpId,\n        maxPethDraw: currentCdp.maxPethDraw,\n        maxEthDraw: currentCdp.maxEthDraw,\n        maxUsdDraw: currentCdp.maxUsdDraw,\n        ethCollateral: currentCdp.ethCollateral,\n        pethCollateral: currentCdp.pethCollateral,\n        usdCollateral: currentCdp.usdCollateral,\n        debtValue: currentCdp.debtValue,\n        maxDai: currentCdp.maxDai,\n        collateralRatio: currentCdp.collatRatio,\n        liquidationPrice: currentCdp.liquidationPrice,\n        minEth: currentCdp.minEth,\n        isSafe: false,\n        governanceFeeOwed: currentCdp.governanceFeeOwed,\n        ethCollateralNum: currentCdp.ethCollateralNum,\n        toPeth: toPeth,\n        proxyAllowanceDai: _proxyAllowanceDai,\n        proxyAllowanceMkr: _proxyAllowanceMkr,\n        zeroDebt: currentCdp.zeroDebt\n      };\n    },\n    async locateCdps() {\n      this.cdpsWithoutProxy = [];\n      this.cdpsWithoutProxy = await this.locateCdpsWithoutProxy();\n      this.cdps = [];\n      this.cdps = await this.locateCdpsProxy();\n\n      this.allCdpIds = [...this.cdpsWithoutProxy, ...this.cdps];\n\n      return { withProxy: this.cdps, withoutProxy: this.cdpsWithoutProxy };\n    },\n\n    async locateCdpsWithoutProxy() {\n      const directCdps = await this._cdpService.getCdpIds(this.account.address);\n      const directCdpsCheckSum = await this._cdpService.getCdpIds(\n        toChecksumAddress(this.account.address)\n      );\n      return directCdps.concat(directCdpsCheckSum);\n    },\n\n    async locateCdpsProxy() {\n      this.proxyAddress = await this.getProxy();\n      return await this._cdpService.getCdpIds(this.proxyAddress);\n    },\n    async updateActiveCdp() {\n      const currentCdpIds = Object.keys(this.activeCdps);\n      await this.locateCdps();\n\n      const newCdps = this.cdps.filter(\n        item => !Object.keys(this.activeCdps).includes(item.toString())\n      );\n\n      const newCdpsWithoutProxy = this.cdpsWithoutProxy.filter(\n        item => !Object.keys(this.activeCdps).includes(item.toString())\n      );\n\n      const removedCdps = currentCdpIds.filter(\n        item =>\n          !(\n            this.cdps.includes(item.toString()) ||\n            this.cdpsWithoutProxy.includes(item.toString())\n          )\n      );\n\n      if (removedCdps.length > 0) {\n        removedCdps.forEach(item => delete this.activeCdps[item]);\n      }\n\n      if (newCdps.length > 0) {\n        for (let i = 0; i < newCdps.length; i++) {\n          this.activeCdps[newCdps[i]] = await this.buildCdpObject(newCdps[i]);\n        }\n      }\n\n      if (newCdpsWithoutProxy.length > 0) {\n        for (let i = 0; i < newCdpsWithoutProxy.length; i++) {\n          this.activeCdps[newCdpsWithoutProxy[i]] = await this.buildCdpObject(\n            newCdpsWithoutProxy[i],\n            {\n              noProxy: true\n            }\n          );\n        }\n      }\n\n      if (this.cdps.length === 0 && this.cdpsWithoutProxy.length === 0) {\n        this.gotoCreate();\n      }\n    },\n    async loadCdpDetails() {\n      for (let i = 0; i < this.cdps.length; i++) {\n        this.activeCdps[this.cdps[i]] = await this.buildCdpObject(this.cdps[i]);\n      }\n      for (let i = 0; i < this.cdpsWithoutProxy.length; i++) {\n        this.activeCdps[this.cdpsWithoutProxy[i]] = await this.buildCdpObject(\n          this.cdpsWithoutProxy[i],\n          {\n            noProxy: true\n          }\n        );\n      }\n    },\n    async buildCdpObject(cdpId, options = {}) {\n      const sysVars = {\n        ...options,\n        _proxyAddress: this.proxyAddress,\n        liquidationPenalty: this.liquidationPenalty,\n        stabilityFee: this.stabilityFee,\n        ethPrice: this.ethPrice,\n        _pethPrice: this.pethPrice,\n        wethToPethRatio: this.wethToPethRatio,\n        _targetPrice: this._targetPrice,\n        liquidationRatio: this.liquidationRatio,\n        proxyAllowanceDai: this.proxyAllowanceDai,\n        proxyAllowanceMkr: this.proxyAllowanceMkr,\n        _daiToken: this._daiToken,\n        daiBalance: this.daiBalance,\n        _mkrToken: this._mkrToken,\n        mkrBalance: this.mkrBalance,\n        minEth: this.minEth,\n        pethMin: this.pethMin\n      };\n\n      if (this.cdpsWithoutProxy.includes(cdpId)) {\n        this.cdp = await this.getMakerCdp(cdpId, false);\n      } else if (this.cdps.includes(cdpId)) {\n        this.cdp = await this.getMakerCdp(cdpId, this.proxyAddress);\n      } else {\n        this.cdp = await this.getMakerCdp(cdpId, false);\n      }\n\n      const services = {\n        account: this.account,\n        _proxyService: this._proxyService,\n        priceService: this.priceService,\n        _cdpService: this._cdpService,\n        doUpdate: this.doUpdate,\n        getProxy: this.getProxy,\n        hasProxy: this.hasProxy,\n        getCdp: this.getMakerCdp,\n        toPeth: this.toPeth,\n        toUSD: this.toUSD,\n        _proxyAddress: this.proxyAddress,\n        liquidationPenalty: this.liquidationPenalty,\n        stabilityFee: this.stabilityFee,\n        ethPrice: this.ethPrice,\n        _pethPrice: this.pethPrice,\n        wethToPethRatio: this.wethToPethRatio,\n        _targetPrice: this._targetPrice,\n        liquidationRatio: this.liquidationRatio,\n        proxyAllowanceDai: this.proxyAllowanceDai,\n        proxyAllowanceMkr: this.proxyAllowanceMkr,\n        _daiToken: this._daiToken,\n        daiBalance: this.daiBalance,\n        _mkrToken: this._mkrToken,\n        mkrBalance: this.mkrBalance,\n        minEth: this.minEth,\n        pethMin: this.pethMin\n      };\n\n      const makerCDP = new MakerCDP(cdpId, this.web3, services, sysVars);\n      if (cdpId) {\n        return await makerCDP.init(cdpId);\n      }\n      return makerCDP;\n    },\n\n    async getProxy() {\n      this.proxyAddress = await this._proxyService.currentProxy();\n      if (!this.proxyAddress) {\n        this.proxyAddress = await this._proxyService.getProxyAddress(\n          this.account.address\n        );\n        if (this.proxyAddress) this.noProxy = false;\n      }\n      return this.proxyAddress;\n    },\n\n    lockEth(val) {\n      this.currentCdp.lockEth(val);\n    },\n    wipeDai(val) {\n      this.currentCdp.wipeDai(val);\n    },\n    freeEth(val) {\n      if (val[1] === null) {\n        this.currentCdp.freeEth(val[0]).then(() => {\n          if (this.$route.path.includes('maker-sai')) {\n            this.doUpdate();\n          }\n        });\n      } else {\n        this.currentCdp.freeEth(val[0], val[1]).then(() => {\n          if (this.$route.path.includes('maker-sai')) {\n            this.doUpdate();\n          }\n        });\n      }\n    },\n    drawDai(val) {\n      if (val[1] === null) {\n        this.currentCdp.drawDai(val[0]);\n      } else {\n        this.currentCdp.drawDai(val[0], val[1]);\n      }\n    },\n    closeCdp() {\n      this.currentCdp.closeCdp();\n    },\n    checkIfDestAddressHasProxy(val) {\n      this.currentCdp\n        .checkIfDestAddressHasProxy(val)\n        .then(result => {\n          this.destAddressProxy = result;\n          this.destAddressHasProxy = result !== null;\n        })\n        .catch(err => {\n          throw err;\n        });\n    },\n    moveCdp(val) {\n      this.currentCdp.moveCdp(val);\n    },\n\n    calcCollatRatioDaiChg(daiQty) {\n      return toBigNumber(\n        this.currentCdp.calcCollatRatio(this.currentCdp.ethCollateral, daiQty)\n      );\n    },\n\n    calcCollatRatioEthChg(ethQty) {\n      return toBigNumber(\n        this.currentCdp.calcCollatRatio(ethQty, this.currentCdp.debtValue)\n      );\n    },\n\n    calcLiquidationPriceDaiChg(daiQty) {\n      return toBigNumber(\n        this.currentCdp.calcLiquidationPrice(\n          this.currentCdp.ethCollateral,\n          daiQty\n        )\n      );\n    },\n\n    calcLiquidationPriceEthChg(ethQty) {\n      return toBigNumber(\n        this.currentCdp.calcLiquidationPrice(ethQty, this.currentCdp.debtValue)\n      );\n    },\n    async approveDai() {\n      await this._tokenService\n        .getToken(DAI)\n        .approveUnlimited(this.proxyAddress);\n    },\n    async approveMkr() {\n      this._tokenService.getToken(MKR).approveUnlimited(this.proxyAddress);\n    },\n    hasCdp(cdpId) {\n      return Object.keys(this.activeCdps).includes(\n        toBigNumber(cdpId).toString()\n      );\n    },\n\n    getCdp(cdpId) {\n      return this.activeCdps[cdpId];\n    },\n\n    async getMakerCdp(cdpId) {\n      if (cdpId === null) return;\n      if (this.cdpsWithoutProxy.includes(cdpId)) {\n        return await this.maker.getCdp(cdpId, false);\n      } else if (this.cdps.includes(cdpId) && this.proxyAddress) {\n        return await this.maker.getCdp(cdpId, this.proxyAddress);\n      } else if (this.proxyAddress) {\n        return await this.maker.getCdp(cdpId, this.proxyAddress);\n      }\n      return await this.maker.getCdp(cdpId, false);\n    },\n\n    async buildProxy() {\n      this.proxyAddress = await this.getProxy();\n      if (!this.proxyAddress) {\n        await this._proxyService.build();\n        this.proxyAddress = await this._proxyService.currentProxy();\n        return this.proxyAddress;\n      }\n      this.proxyAddress = await this._proxyService.currentProxy();\n      return this.proxyAddress;\n    },\n\n    async migrateCdp(cdpId) {\n      const currentProxy = await this.getProxy();\n      if (currentProxy) {\n        await this._cdpService.give(cdpId, currentProxy);\n      }\n    },\n\n    // Calculations\n    minEth() {\n      if (this.wethToPethRatio) {\n        return toBigNumber(this.pethMin).times(this.wethToPethRatio);\n      }\n      return '--';\n    },\n    toUSD(eth) {\n      if (eth === undefined || eth === null) return toBigNumber(0);\n      return this.ethPrice.times(toBigNumber(eth));\n    },\n\n    toPeth(eth) {\n      if (!toBigNumber(eth).eq(0)) {\n        return toBigNumber(eth).div(this.wethToPethRatio);\n      }\n      return toBigNumber(0);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'MakerDai.scss';\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MakerDai.vue?vue&type=template&id=89746876&scoped=true&\"\nimport script from \"./MakerDai.vue?vue&type=script&lang=js&\"\nexport * from \"./MakerDai.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MakerDai.vue?vue&type=style&index=0&id=89746876&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89746876\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=style&index=0&id=64b38325&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DepositModal.vue?vue&type=style&index=0&id=64b38325&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=style&index=0&id=74d90e30&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckBox.vue?vue&type=style&index=0&id=74d90e30&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=style&index=0&id=10604b53&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GenerateModal.vue?vue&type=style&index=0&id=10604b53&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=style&index=0&id=89746876&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MakerDai.vue?vue&type=style&index=0&id=89746876&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseCdpModal.vue?vue&type=style&index=0&id=3d51ce30&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CloseCdpModal.vue?vue&type=style&index=0&id=3d51ce30&lang=scss&scoped=true&\"","import BigNumber from 'bignumber.js';\n\nconst toBigNumber = num => {\n  return new BigNumber(num);\n};\n\nconst bnOver = (one, two, three) => {\n  return toBigNumber(one)\n    .times(toBigNumber(two))\n    .div(toBigNumber(three));\n};\n\nexport function displayPercentValue(raw) {\n  if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n  return raw.times(100).toString();\n}\n\nexport function displayFixedValue(raw, decimals = 3, round = true) {\n  if (!BigNumber.isBigNumber(raw)) raw = new BigNumber(raw);\n  if (!isFinite(raw) || isNaN(raw)) return '--';\n  if (round) return raw.toFixed(decimals, BigNumber.ROUND_DOWN).toString();\n  return raw.toFixed(decimals).toString();\n}\n\nexport function displayFixedPercent(raw, decimals = 3, round = true) {\n  const value = displayFixedValue(displayPercentValue(raw), decimals, round);\n  if (isFinite(value) && new BigNumber(value).gt(0)) {\n    return value;\n  }\n  return '--';\n}\n\n// Calculations\n\nexport function maxDai(ethPrice, ethCollateral, liquidationRatio, debtValue) {\n  return bnOver(\n    toBigNumber(ethPrice),\n    toBigNumber(ethCollateral),\n    toBigNumber(liquidationRatio)\n  ).minus(toBigNumber(debtValue));\n}\n\nexport function maxPethDraw(\n  pethCollateral,\n  liquidationRatio,\n  debtValue,\n  pethPrice,\n  pethMin = 0\n) {\n  return toBigNumber(pethCollateral)\n    .minus(\n      bnOver(\n        toBigNumber(liquidationRatio).plus(0.001),\n        toBigNumber(debtValue),\n        toBigNumber(pethPrice)\n      )\n    )\n    .minus(toBigNumber(pethMin).times(1.0));\n}\n\nexport function maxEthDraw(\n  ethCollateral,\n  liquidationRatio,\n  debtValue,\n  ethPrice,\n  minEth = 0\n) {\n  return toBigNumber(ethCollateral)\n    .minus(\n      bnOver(\n        toBigNumber(liquidationRatio),\n        toBigNumber(debtValue),\n        toBigNumber(ethPrice)\n      )\n    )\n    .minus(toBigNumber(minEth).times(1.0));\n}\n\nexport function calcCollatRatio(ethQty, daiQty, ethPrice) {\n  return bnOver(toBigNumber(ethPrice), ethQty, daiQty);\n}\n\nexport function calcLiquidationPrice(\n  ethQty,\n  daiQty,\n  ethPrice,\n  liquidationRatio\n) {\n  const getInt = parseInt(ethPrice);\n  for (let i = getInt; i > 0; i--) {\n    const atValue = bnOver(i, ethQty, daiQty).lte(\n      toBigNumber(liquidationRatio)\n    );\n    if (atValue) {\n      return i;\n    }\n  }\n  for (let i = 100; i > 0; i--) {\n    const atValue = bnOver(i / 100, ethQty, daiQty).lte(\n      toBigNumber(liquidationRatio)\n    );\n    if (atValue) {\n      return i / 100;\n    }\n  }\n  return 0;\n}\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=style&index=0&id=aba123ba&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaybackModal.vue?vue&type=style&index=0&id=aba123ba&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=style&index=0&id=62b4dd78&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MoveCdp.vue?vue&type=style&index=0&id=62b4dd78&lang=scss&scoped=true&\""],"sourceRoot":""}
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dapp-aave~31ecd969"],{"0356":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),function(e){e["None"]="None",e["Stable"]="Stable",e["Variable"]="Variable"}(a||(a={}));var r,i,s,o,d;(function(e){e[e["mainnet"]=1]="mainnet",e[e["ropsten"]=3]="ropsten",e[e["rinkeby"]=4]="rinkeby",e[e["goerli"]=5]="goerli",e[e["kovan"]=42]="kovan",e[e["xdai"]=100]="xdai",e[e["polygon"]=137]="polygon",e[e["mumbai"]=80001]="mumbai",e[e["avalanche"]=43114]="avalanche",e[e["fuji"]=43113]="fuji",e[e["arbitrum_one"]=42161]="arbitrum_one",e[e["arbitrum_rinkeby"]=421611]="arbitrum_rinkeby",e[e["arbitrum_goerli"]=421613]="arbitrum_goerli",e[e["fantom"]=250]="fantom",e[e["fantom_testnet"]=4002]="fantom_testnet",e[e["optimism"]=10]="optimism",e[e["optimism_kovan"]=69]="optimism_kovan",e[e["optimism_goerli"]=420]="optimism_goerli",e[e["harmony"]=16666e5]="harmony",e[e["harmony_testnet"]=16667e5]="harmony_testnet"})(r||(r={})),function(e){e["ERC20_APPROVAL"]="ERC20_APPROVAL",e["DLP_ACTION"]="DLP_ACTION",e["GOVERNANCE_ACTION"]="GOVERNANCE_ACTION",e["GOV_DELEGATION_ACTION"]="GOV_DELEGATION_ACTION",e["STAKE_ACTION"]="STAKE_ACTION",e["MIGRATION_LEND_AAVE"]="MIGRATION_LEND_AAVE",e["FAUCET_MINT"]="FAUCET_MINT",e["REWARD_ACTION"]="REWARD_ACTION"}(i||(i={})),function(e){e["default"]="default",e["supply"]="supply",e["withdraw"]="withdraw",e["deposit"]="deposit",e["liquidationCall"]="liquidationCall",e["liquidationFlash"]="liquidationFlash",e["repay"]="repay",e["swapCollateral"]="swapCollateral",e["repayCollateral"]="repayCollateral",e["withdrawETH"]="withdrawETH",e["borrowETH"]="borrwoETH"}(s||(s={})),function(e){e[e["Abstain"]=0]="Abstain",e[e["Yes"]=1]="Yes",e[e["No"]=2]="No"}(o||(o={})),function(e){e["aave"]="aave",e["bpt"]="bpt"}(d||(d={}))},"0aa9":function(e,t,n){"use strict";var a=n("dfab"),r=n("779d");function i(e){a.call(this,null==e?"canceled":e,a.ERR_CANCELED),this.name="CanceledError"}r.inherits(i,a,{__CANCEL__:!0}),e.exports=i},"0b13":function(e,t,n){"use strict";n.r(t);var a=n("6e45");n.d(t,"randomBytes",(function(){return a["a"]}));var r=n("5553");n.d(t,"shuffled",(function(){return r["a"]}))},"0c99":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];return e.apply(t,n)}}},"2db0":function(e,t,n){"use strict";var a=n("779d"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(a.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=a.trim(e.substr(0,i)).toLowerCase(),n=a.trim(e.substr(i+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},3301:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"UsdPriceEth"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"priceOracle"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"1",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"usdPriceEth"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:79}};n.loc.source={body:'subscription UsdPriceEth {\r\n  priceOracle(id: "1") {\r\n    usdPriceEth\r\n  }\r\n}\r\n',name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function s(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,s=new Set,o=new Set;a.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var t=r[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(t){var a=i(e,t);a&&n.definitions.push(a)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),r[e.name.value]=t}}))})(),e.exports=n,e.exports["UsdPriceEth"]=s(n,"UsdPriceEth")},"3cf9":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"UserPositionUpdateSubscription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userAddress"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pool"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userReserves"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"user"},value:{kind:"Variable",name:{kind:"Name",value:"userAddress"}}},{kind:"ObjectField",name:{kind:"Name",value:"pool"},value:{kind:"Variable",name:{kind:"Name",value:"pool"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserReserveData"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserReserveData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserReserve"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaledATokenBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reserve"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"underlyingAsset"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"symbol"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"decimals"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"liquidityRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reserveLiquidationBonus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastUpdateTimestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aToken"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"usageAsCollateralEnabledOnUser"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableBorrowRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableBorrowLastUpdateTimestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"principalStableDebt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaledVariableDebt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variableBorrowIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastUpdateTimestamp"},arguments:[],directives:[]}]}}],loc:{start:0,end:617}};n.loc.source={body:"subscription UserPositionUpdateSubscription($userAddress: String!, $pool: String) {\r\n  userReserves(where: {user: $userAddress, pool: $pool}) {\r\n    ...UserReserveData\r\n  }\r\n}\r\n\r\nfragment UserReserveData on UserReserve {\r\n  scaledATokenBalance\r\n  reserve {\r\n    id\r\n    underlyingAsset\r\n    name\r\n    symbol\r\n    decimals\r\n    liquidityRate\r\n    reserveLiquidationBonus\r\n    lastUpdateTimestamp\r\n    aToken {\r\n      id\r\n    }\r\n  }\r\n  usageAsCollateralEnabledOnUser\r\n  stableBorrowRate\r\n  stableBorrowLastUpdateTimestamp\r\n  principalStableDebt\r\n  scaledVariableDebt\r\n  variableBorrowIndex\r\n  lastUpdateTimestamp\r\n}\r\n\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function s(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,s=new Set,o=new Set;a.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var t=r[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(t){var a=i(e,t);a&&n.definitions.push(a)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),r[e.name.value]=t}}))})(),e.exports=n,e.exports["UserPositionUpdateSubscription"]=s(n,"UserPositionUpdateSubscription"),e.exports["UserReserveData"]=s(n,"UserReserveData")},"413f":function(e,t,n){"use strict";n("7fd5")},"461e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mew-component--aave"},[n("the-wrapper-dapp",{attrs:{"is-new-header":!0,"dapp-img":e.headerImg,"banner-text":e.topBanner,"tab-items":e.tabs,"active-tab":e.activeTab,"external-contents":"","on-tab":e.tabChanged,"valid-networks":e.validNetworks},scopedSlots:e._u([{key:"tabContent1",fn:function(){return[n("v-sheet",{staticClass:"mx-auto py-6 px-2 px-md-3",attrs:{color:"transparent","max-width":"724px"}},[n("div",{staticClass:"d-flex align-center justify-end"},[n("div",{staticClass:"mr-3"},[e._v("Health factor")]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mr-3",attrs:{width:"31px",type:"text"}}):n("div",{staticClass:"font-weight-bold mr-3",class:e.healthFactorColor},[e._v(" "+e._s(e.healthFactor)+" ")]),n("mew-tooltip",{attrs:{text:e.healthFactorTooltip}})],1),n("v-row",{staticClass:"mb-1 mt-2",attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"bgWalletBlockDark pa-5 border-radius--5px"},[n("h5",{staticClass:"mb-2 font-weight-bold"},[e._v("Aggregated Balance")]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"20px",type:"text"}}):n("h3",{},[e._v(" "+e._s(e.totalLiquidity.usd)+" ")]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"20px",type:"text"}}):n("div",{staticClass:"mt-2"},[e._v(" "+e._s(e.totalLiquidity.eth)+" ETH ")]),n("v-divider",{staticClass:"my-4"}),n("div",{staticClass:"d-flex justify-space-between"},[n("div",{staticClass:"font-weight-medium"},[e._v("Composition")])]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"12px",type:"text"}}):n("mew-progress-bar",{staticClass:"mt-2",attrs:{data:e.compositionPercentage}})],1)]),n("v-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"bgWalletBlockDark pa-5 border-radius--5px height-100 d-flex flex-column"},[n("div",{staticClass:"d-flex aling-center"},[n("h5",{staticClass:"font-weight-bold mr-auto"},[e._v("Earnings")]),n("div",{staticClass:"d-flex align-center"},[n("div",{staticClass:"d-flex align-center mr-3"},[n("div",{staticClass:"circle pink mr-1"}),e._v(" APR ")]),n("div",{staticClass:"d-flex align-center"},[n("div",{staticClass:"circle lightblue mr-1"}),e._v(" Total ")])])]),n("div",{staticClass:"ma-auto text-center pa-5"},[e._v("No data to show yet")])])]),n("v-col",{staticClass:"pt-md-2",attrs:{cols:"12"}},[n("aave-table",{ref:"depositsTable",attrs:{title:e.aaveTableTitle.balance_deposit,"has-search":!1,"has-toggle":!1}})],1)],1),n("div",{staticClass:"d-flex justify-center mt-9"},[n("mew-button",{attrs:{title:"Deposit","btn-size":"xlarge"},nativeOn:{click:function(t){return e.toggleDepositOverlay(!0)}}})],1)],1)]},proxy:!0},{key:"tabContent2",fn:function(){return[n("v-sheet",{staticClass:"mx-auto py-6 px-2 px-md-3",attrs:{color:"transparent","max-width":"724px"}},[n("div",{staticClass:"d-flex align-center justify-end"},[n("div",{staticClass:"mr-3"},[e._v("Health factor")]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mr-3",attrs:{width:"31px",type:"text"}}):n("div",{staticClass:"font-weight-bold mr-3",class:e.healthFactorColor},[e._v(" "+e._s(e.healthFactor)+" ")]),n("mew-tooltip",{attrs:{text:e.healthFactorTooltip}})],1),n("v-row",{staticClass:"mb-1 mt-2",attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"bgWalletBlockDark pa-5 border-radius--5px"},[n("h5",{staticClass:"mb-2 font-weight-bold"},[e._v("You Borrowed")]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"20px",type:"text"}}):n("h3",[e._v(e._s(e.totalBorrow.usd))]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"20px",type:"text"}}):n("div",{staticClass:"mt-2"},[e._v(" "+e._s(e.totalBorrow.eth)+" ETH ")]),n("v-divider",{staticClass:"my-4"}),n("div",{staticClass:"d-flex justify-space-between"},[n("div",{staticClass:"font-weight-medium"},[e._v("Composition")])]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2 mb-0",attrs:{height:"12px",type:"text"}}):n("mew-progress-bar",{staticClass:"mt-2",attrs:{data:e.borrowingsPercentage}})],1)]),n("v-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"bgWalletBlockDark pa-5 border-radius--5px"},[n("h5",{staticClass:"mb-2 font-weight-bold"},[e._v("Your Collateral")]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"20px",type:"text"}}):n("h3",[e._v(e._s(e.totalCollateral.usd))]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"20px",type:"text"}}):n("div",{staticClass:"mt-2"},[e._v(" "+e._s(e.totalCollateral.eth)+" ETH ")]),n("v-divider",{staticClass:"my-4"}),n("div",{staticClass:"d-flex justify-space-between"},[n("div",{staticClass:"font-weight-medium"},[e._v("Composition")])]),e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2",attrs:{height:"12px",type:"text"}}):n("mew-progress-bar",{staticClass:"mt-2",attrs:{data:e.collateralPercentage}})],1)]),n("v-col",{staticClass:"pt-md-2",attrs:{cols:"12"}},[n("div",{staticClass:"bgWalletBlockDark pa-5 loan-value-container"},[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"9"}},[n("span",{staticClass:"mew-heading-3"},[e._v("Loan to Value")])]),n("v-col",{attrs:{cols:"3"}},[n("div",{staticClass:"d-flex justify-end align-center"},[e.isLoadingData?n("v-skeleton-loader",{staticClass:"mt-2 mb-0",attrs:{height:"19px",width:"",type:"text"}}):n("span",{staticClass:"mew-heading-3"},[e._v(e._s(e.loanValue))])],1)])],1)],1)]),n("v-col",{staticClass:"pt-md-2",attrs:{cols:"12"}},[n("aave-table",{ref:"borrowsTable",attrs:{title:e.aaveTableTitle.balance_borrow,"has-search":!1,"has-toggle":!1}})],1)],1),n("div",{staticClass:"d-flex justify-center mt-9"},[n("mew-button",{attrs:{title:"Borrow","btn-size":"xlarge"},nativeOn:{click:function(t){return e.toggleBorrowOverlay(!0)}}})],1)],1)]},proxy:!0}])}),n("aave-deposit-overlay",{attrs:{open:e.showDepositOverlay,close:e.toggleDepositOverlay,"pre-selected-token":e.tokenSelected}}),n("aave-borrow-overlay",{attrs:{"pre-selected-token":e.tokenSelected,open:e.showBorrowOverlay,close:e.toggleBorrowOverlay}}),n("aave-collateral-overlay",{attrs:{open:e.showCollateralOverlay,close:e.closeCollateralOverlay,"pre-selected-token":e.tokenSelected},on:{onConfirm:e.setCollateral,onClose:e.resetCollateralToggle}}),n("aave-withdraw-overlay",{attrs:{open:e.showWithdrawOverlay,close:e.closeWithdrawOverlay,"pre-selected-token":e.tokenSelected}}),n("aave-repay-overlay",{attrs:{open:e.showRepayOverlay,close:e.closeRepayOverlay,"pre-selected-token":e.tokenSelected}}),n("aave-set-apr-overlay",{attrs:{open:e.showAprTypeOverlay,close:e.closeAprTypeOverlay,"pre-selected-token":e.tokenSelected},on:{onConfirm:e.setBorrowRate,onClose:e.resetAprToggle}})],1)},r=[],i=(n("14d9"),n("2f62")),s=n("901e"),o=n.n(s),d=n("913e");const u=[d["ETH"]];var l=n("580f"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mew-overlay",{attrs:{"show-overlay":e.open,title:e.header,close:e.callClose,"content-size":"xlarge"}},[0===e.step?n("aave-table",{attrs:{title:e.borrowTitle},on:{selectedBorrow:e.handleSelectedBorrow}}):e._e(),1===e.step?n("aave-amount-form",{attrs:{"selected-token":e.selectedToken,"action-type":e.borrowTitle,"show-toggle":e.aaveBorrowForm.showToggle,"left-side-values":e.aaveBorrowForm.leftSideValues,"right-side-values":e.aaveBorrowForm.rightSideValues,"form-text":e.aaveBorrowForm.formText,"button-title":e.aaveBorrowForm.buttonTitle,"token-balance":e.tokenBalance.toFixed(),"token-decimal":e.tokenDecimals},on:{cancel:e.handleCancel,emitValues:e.handleValues}}):e._e(),2===e.step?n("aave-select-interest",{attrs:{"selected-token":e.selectedTokenDetails},on:{continue:e.handleContinue}}):e._e(),3===e.step||4===e.step?n("aave-summary",{attrs:{"selected-token":e.selectedToken,amount:e.amount,step:e.step,apr:e.apr,"action-type":e.borrowTitle,"amount-usd":e.amountUsd},on:{onConfirm:e.handleConfirm}}):e._e()],1)},p=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-row",{staticClass:"align-end justify-space-between"},[e.hasSearch?n("v-col",{attrs:{cols:"12",sm:"6"}},[n("mew-search",{attrs:{placeholder:"Search Token Symbol",value:e.searchInput},on:{input:e.setSearchInput}})],1):e._e(),e.hasToggle?n("div",{staticClass:"align-end justify-center pa-3"},[n("v-btn-toggle",{attrs:{mandatory:"","active-class":"buttonToggleDark white--text"},model:{value:e.toggleType,callback:function(t){e.toggleType=t},expression:"toggleType"}},[n("v-btn",{attrs:{small:""}},[e._v("All")]),n("v-btn",{attrs:{small:""}},[e._v("Stable")])],1)],1):e._e(),n("v-col",{attrs:{cols:"12"}},[n("mew-table",{attrs:{"has-color":!1,"table-headers":e.header,"table-data":e.listData,"no-data-text":"You currently don't have any tokens.",loading:e.isLoadingData}})],1)],1)],1)},y=[];n("caad"),n("13d5");const m={deposit:"DEPOSIT",borrow:"BORROW",withdraw:"WITHDRAW",repay:"REPAY",balance_deposit:"BALANCE_DEPOSIT",balance_borrow:"BALANCE_BORROW"},b={deposit:"deposit",borrow:"borrow",collateral:"collateral",interest:"interest",withdraw:"withdraw",repay:"repay",switch:"switch"},h={stable:"Stable",variable:"Variable"},T={deposit:{title:"Deposit",btnStyle:"background",colorTheme:"greenPrimary",disabled:!1},swap:{title:"Swap",btnStyle:"outline",colorTheme:"greenPrimary"},borrow:{title:"Borrow",btnStyle:"background",colorTheme:"greenPrimary"},withdraw:{title:"Withdraw",btnStyle:"outline",colorTheme:"greenPrimary"},repay:{title:"Repay",btnStyle:"transparent",colorTheme:"greenPrimary"}},g={deposit:[{text:"Token",value:"token",sortable:!0,width:"15%"},{text:"Available",value:"available",sortable:!0},{text:"Deposited",value:"deposited",sortable:!0},{text:"APY",value:"apy",sortable:!1,width:"14%"},{text:"",value:"callToAction",sortable:!1,width:"32%"}],borrow:[{text:"Token",value:"token",sortable:!1,width:"15%"},{text:"Available",value:"available",sortable:!0},{text:"Stable APY",value:"stableApy",sortable:!1,width:"15%"},{text:"Variable APY",value:"variableApy",sortable:!1,width:"15%"},{text:"",value:"callToAction",sortable:!1,width:"32%"}],balanceDeposit:[{text:"Token",value:"token",sortable:!1,filterable:!1,width:"20%"},{text:"Deposited",value:"balance",sortable:!1,filterable:!1,width:"20%"},{text:"APY",value:"apy",sortable:!1,filterable:!1,width:"20%"},{text:"Use as collateral",value:"toggle",sortable:!1,filterable:!1,width:"10%"},{text:"",value:"callToAction",sortable:!1,filterable:!1,containsLink:!0,width:"30%"}],balanceBorrow:[{text:"Token",value:"token",sortable:!1,filterable:!1},{text:"Borrowed",value:"balance",sortable:!1,filterable:!1},{text:"APY",value:"apy",sortable:!1,filterable:!1,containsLink:!0},{text:"APR Type",value:"toggle",sortable:!1,filterable:!1},{text:"",value:"callToAction",sortable:!1,filterable:!1,containsLink:!0,width:"32%"}]};var v=n("ac8e"),w=n("db3a"),_=(n("d9e2"),n("4d8a")),O=n("f179");O["c"];var A;(function(e){e["DEPOSITOR"]="DEPOSITOR",e["BORROWER"]="BORROWER",e["LIQUIDATOR"]="LIQUIDATOR",e["STABLE_RATE_MANAGER"]="STABLE_RATE_MANAGER"})(A||(A={}));A.DEPOSITOR,A.BORROWER,A.LIQUIDATOR,A.STABLE_RATE_MANAGER;var j=n("9ab4");class k{static connect(e,t){return new O["b"](e,x,t)}}const x=[{inputs:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"}],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"}],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"}],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"}];var C,S;(function(e){e["eth"]="eth",e["usd"]="usd"})(C||(C={})),function(e){e["eth"]="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",e["usd"]="0x0000000000000000000000000000000000000348"}(S||(S={}));class P{constructor({provider:e,chainlinkFeedsRegistry:t}){if(this.latestRoundData=async(e,t)=>{if(!Object(_["isAddress"])(e))throw new Error("tokenAddress is not valid");return this._registryContract.latestRoundData(e,S[t])},this.decimals=async(e,t)=>{if(!Object(_["isAddress"])(e))throw new Error("tokenAddress is not valid");return this._registryContract.decimals(e,S[t])},this.getPriceFeed=async(e,t)=>{const n=await this.latestRoundData(e,t),a=await this.decimals(e,t);return{answer:n[1].toString(),updatedAt:n[3].toNumber(),decimals:a}},!Object(_["isAddress"])(t))throw new Error("contract address is not valid");this._registryContract=k.connect(t,e)}}var E=n("e36d"),D=n("0356");const I=30,R=60,M=async(e,t,n)=>{const a=await t.estimateGas(e),r=await t.getNetwork();return r.chainId===D["a"].polygon?a.add(a.mul(R).div(100)):a.add(a.mul(null!==n&&void 0!==n?n:I).div(100))};var B=n("bc86");class U{constructor(e,t){this.getContractInstance=e=>(this.contractInstances[e]||(this.contractInstances[e]=this.contractFactory.connect(e,this.provider)),this.contractInstances[e]),this.generateTxCallback=({rawTxMethod:e,from:t,value:n,gasSurplus:a,action:r})=>async()=>{const i=await e(),s=Object.assign(Object.assign({},i),{from:t,value:null!==n&&void 0!==n?n:B["c"]});return s.gasLimit=await M(s,this.provider,a),r&&B["i"][r]&&s.gasLimit.lte(E["a"].from(B["i"][r].limit))&&(s.gasLimit=E["a"].from(B["i"][r].recommended)),s},this.generateTxPriceEstimation=(e,t,n=D["c"].default)=>async(a=!1)=>{const r=await this.provider.getGasPrice(),i=e.find(e=>e.txType===D["d"].ERC20_APPROVAL);if(!i||a){const{gasLimit:e,gasPrice:n}=await t();if(!e)throw new Error("Transaction calculation error");return{gasLimit:e.toString(),gasPrice:n?n.toString():r.toString()}}return{gasLimit:B["i"][n].recommended,gasPrice:r.toString()}},this.contractFactory=t,this.provider=e,this.contractInstances={}}}var N=n("6779"),L=n("f01d");function F(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.lendingPoolAddress)&&N["utils"].isAddress(this.flashLiquidationAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),Object(L["b"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LPFlahsLiquidationValidator] You need to pass valid addresses"),[])}}function V(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.poolAddress)&&N["utils"].isAddress(this.flashLiquidationAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),Object(L["b"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LPFlahsLiquidationValidator] You need to pass valid addresses"),[])}}function H(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.lendingPoolAddress)&&N["utils"].isAddress(this.repayWithCollateralAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LPRepayWithCollateralValidator] You need to pass valid addresses"),[])}}function W(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.lendingPoolAddress)&&N["utils"].isAddress(this.swapCollateralAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LPSwapCollateralValidator] You need to pass valid addresses"),[])}}function q(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.poolAddress)&&N["utils"].isAddress(this.repayWithCollateralAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LPRepayWithCollateralValidator] You need to pass valid addresses"),[])}}function G(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.poolAddress)&&N["utils"].isAddress(this.swapCollateralAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LPSwapCollateralValidator] You need to pass valid addresses"),[])}}function z(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.lendingPoolAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),Object(L["b"])(e,t,arguments),Object(L["a"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LendingPoolValidator] You need to pass valid addresses"),[])}}function Y(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.l2PoolAddress)&&N["utils"].isAddress(this.encoderAddress)?(Object(L["d"])(e,t,arguments),a.apply(this,arguments)):(console.error(`[L2PoolValidator] You need to pass valid addresses: l2pool: ${this.l2PoolAddress} encoder: ${this.encoderAddress}`),[])}}function K(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.poolAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),Object(L["b"])(e,t,arguments),Object(L["a"])(e,t,arguments),a.apply(this,arguments)):(console.error("[PoolValidator] You need to pass valid addresses"),[])}}function $(e,t,n){const a=n.value;n.value=function(){if(!N["utils"].isAddress(this.uiIncentiveDataProviderAddress))throw console.error("[UiIncentiveDataProviderValidator] You need to pass valid addresses"),new Error("UiIncentiveDataProviderAddress must be an eth valid address");return Object(L["g"])(e,t,arguments),a.apply(this,arguments)}}function J(e,t,n){const a=n.value;n.value=function(){return Object(L["g"])(e,t,arguments),Object(L["e"])(e,t,arguments),a.apply(this,arguments)}}function Q(e,t,n){const a=n.value;n.value=function(){return Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),a.apply(this,arguments)}}function Z(e,t,n){const a=n.value;n.value=function(){return Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),a.apply(this,arguments)}}function X(e,t,n){const a=n.value;n.value=function(){return Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),Object(L["b"])(e,t,arguments),a.apply(this,arguments)}}function ee(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.liquiditySwapAdapterAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),Object(L["b"])(e,t,arguments),a.apply(this,arguments)):(console.error("[LiquiditySwapValidator] You need to pass valid addresses"),[])}}function te(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.repayWithCollateralAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),Object(L["b"])(e,t,arguments),a.apply(this,arguments)):(console.error("[RepayWithCollateralValidator] You need to pass valid addresses"),[])}}function ne(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.stakingContractAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),Object(L["b"])(e,t,arguments),a.apply(this,arguments)):(console.error("[StakingValidator] You need to pass valid addresses"),[])}}function ae(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.stakingContractAddress)&&N["utils"].isAddress(this.stakingHelperContractAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),Object(L["a"])(e,t,arguments),a.apply(this,arguments)):(console.error("[StakingValidator] You need to pass valid addresses"),[])}}function re(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.faucetAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),a.apply(this,arguments)):(console.error("[FaucetValidator] You need to pass valid addresses"),[])}}function ie(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.wethGatewayAddress)?(Object(L["g"])(e,t,arguments),Object(L["c"])(e,t,arguments),Object(L["b"])(e,t,arguments),Object(L["a"])(e,t,arguments),a.apply(this,arguments)):(console.error("[WethGatewayValidator] You need to pass valid addresses"),[])}}function se(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.aaveGovernanceV2Address)&&N["utils"].isAddress(this.aaveGovernanceV2HelperAddress)?(Object(L["g"])(e,t,arguments),Object(L["a"])(e,t,arguments),Object(L["e"])(e,t,arguments),a.apply(this,arguments)):(console.error("[GovernanceValidator] You need to pass valid addresses"),[])}}function oe(e,t,n){const a=n.value;n.value=function(){return N["utils"].isAddress(this.aaveGovernanceV2Address)?(Object(L["g"])(e,t,arguments),Object(L["a"])(e,t,arguments),a.apply(this,arguments)):(console.error("[GovernanceValidator] You need to pass valid addresses"),[])}}function de(e,t,n){const a=n.value;n.value=function(){return Object(L["g"])(e,t,arguments),Object(L["f"])(e,t,arguments),Object(L["c"])(e,t,arguments),Object(L["a"])(e,t,arguments),a.apply(this,arguments)}}function ue(e,t,n){const a=n.value;n.value=function(){return Object(L["g"])(e,t,arguments),a.apply(this,arguments)}}var le=n("fbe8");const ce=[{inputs:[{internalType:"contract IPoolAddressesProvider",name:"provider",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"getFullReservesIncentiveData",outputs:[{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"uint256",name:"emissionPerSecond",type:"uint256"},{internalType:"uint256",name:"incentivesLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesIndex",type:"uint256"},{internalType:"uint256",name:"emissionEndTimestamp",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"},{internalType:"uint8",name:"precision",type:"uint8"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.RewardInfo[]",name:"rewardsTokenInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.IncentiveData",name:"aIncentiveData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"uint256",name:"emissionPerSecond",type:"uint256"},{internalType:"uint256",name:"incentivesLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesIndex",type:"uint256"},{internalType:"uint256",name:"emissionEndTimestamp",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"},{internalType:"uint8",name:"precision",type:"uint8"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.RewardInfo[]",name:"rewardsTokenInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.IncentiveData",name:"vIncentiveData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"uint256",name:"emissionPerSecond",type:"uint256"},{internalType:"uint256",name:"incentivesLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesIndex",type:"uint256"},{internalType:"uint256",name:"emissionEndTimestamp",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"},{internalType:"uint8",name:"precision",type:"uint8"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.RewardInfo[]",name:"rewardsTokenInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.IncentiveData",name:"sIncentiveData",type:"tuple"}],internalType:"struct IUiIncentiveDataProviderV3.AggregatedReserveIncentiveData[]",name:"",type:"tuple[]"},{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"uint256",name:"userUnclaimedRewards",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesUserIndex",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.UserRewardInfo[]",name:"userRewardsInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.UserIncentiveData",name:"aTokenIncentivesUserData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"uint256",name:"userUnclaimedRewards",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesUserIndex",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.UserRewardInfo[]",name:"userRewardsInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.UserIncentiveData",name:"vTokenIncentivesUserData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"uint256",name:"userUnclaimedRewards",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesUserIndex",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.UserRewardInfo[]",name:"userRewardsInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.UserIncentiveData",name:"sTokenIncentivesUserData",type:"tuple"}],internalType:"struct IUiIncentiveDataProviderV3.UserReserveIncentiveData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPoolAddressesProvider",name:"provider",type:"address"}],name:"getReservesIncentivesData",outputs:[{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"uint256",name:"emissionPerSecond",type:"uint256"},{internalType:"uint256",name:"incentivesLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesIndex",type:"uint256"},{internalType:"uint256",name:"emissionEndTimestamp",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"},{internalType:"uint8",name:"precision",type:"uint8"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.RewardInfo[]",name:"rewardsTokenInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.IncentiveData",name:"aIncentiveData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"uint256",name:"emissionPerSecond",type:"uint256"},{internalType:"uint256",name:"incentivesLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesIndex",type:"uint256"},{internalType:"uint256",name:"emissionEndTimestamp",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"},{internalType:"uint8",name:"precision",type:"uint8"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.RewardInfo[]",name:"rewardsTokenInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.IncentiveData",name:"vIncentiveData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"uint256",name:"emissionPerSecond",type:"uint256"},{internalType:"uint256",name:"incentivesLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesIndex",type:"uint256"},{internalType:"uint256",name:"emissionEndTimestamp",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"},{internalType:"uint8",name:"precision",type:"uint8"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.RewardInfo[]",name:"rewardsTokenInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.IncentiveData",name:"sIncentiveData",type:"tuple"}],internalType:"struct IUiIncentiveDataProviderV3.AggregatedReserveIncentiveData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPoolAddressesProvider",name:"provider",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"getUserReservesIncentivesData",outputs:[{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"uint256",name:"userUnclaimedRewards",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesUserIndex",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.UserRewardInfo[]",name:"userRewardsInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.UserIncentiveData",name:"aTokenIncentivesUserData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"uint256",name:"userUnclaimedRewards",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesUserIndex",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.UserRewardInfo[]",name:"userRewardsInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.UserIncentiveData",name:"vTokenIncentivesUserData",type:"tuple"},{components:[{internalType:"address",name:"tokenAddress",type:"address"},{internalType:"address",name:"incentiveControllerAddress",type:"address"},{components:[{internalType:"string",name:"rewardTokenSymbol",type:"string"},{internalType:"address",name:"rewardOracleAddress",type:"address"},{internalType:"address",name:"rewardTokenAddress",type:"address"},{internalType:"uint256",name:"userUnclaimedRewards",type:"uint256"},{internalType:"uint256",name:"tokenIncentivesUserIndex",type:"uint256"},{internalType:"int256",name:"rewardPriceFeed",type:"int256"},{internalType:"uint8",name:"priceFeedDecimals",type:"uint8"},{internalType:"uint8",name:"rewardTokenDecimals",type:"uint8"}],internalType:"struct IUiIncentiveDataProviderV3.UserRewardInfo[]",name:"userRewardsInformation",type:"tuple[]"}],internalType:"struct IUiIncentiveDataProviderV3.UserIncentiveData",name:"sTokenIncentivesUserData",type:"tuple"}],internalType:"struct IUiIncentiveDataProviderV3.UserReserveIncentiveData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"}];class pe{static createInterface(){return new N["utils"].Interface(ce)}static connect(e,t){return new O["b"](e,ce,t)}}pe.abi=ce;class fe extends U{constructor({provider:e,uiIncentiveDataProviderAddress:t,chainId:n}){super(e,pe),this._getFeed=async(e,t,n)=>{const a=await this._chainlinkFeedsRegistries[t].getPriceFeed(e,n);return Object.assign(Object.assign({},a),{rewardTokenAddress:e})},this.uiIncentiveDataProviderAddress=t,this._chainlinkFeedsRegistries={},this.chainId=n}async getFullReservesIncentiveData({user:e,lendingPoolAddressProvider:t}){const n=this.getContractInstance(this.uiIncentiveDataProviderAddress);return n.getFullReservesIncentiveData(t,e)}async getReservesIncentivesData({lendingPoolAddressProvider:e}){const t=this.getContractInstance(this.uiIncentiveDataProviderAddress);return t.getReservesIncentivesData(e)}async getUserReservesIncentivesData({user:e,lendingPoolAddressProvider:t}){const n=this.getContractInstance(this.uiIncentiveDataProviderAddress);return n.getUserReservesIncentivesData(t,e)}async getReservesIncentivesDataHumanized({lendingPoolAddressProvider:e}){const t=await this.getReservesIncentivesData({lendingPoolAddressProvider:e});return t.map(t=>({id:`${this.chainId}-${t.underlyingAsset}-${e}`.toLowerCase(),underlyingAsset:t.underlyingAsset.toLowerCase(),aIncentiveData:this._formatIncentiveData(t.aIncentiveData),vIncentiveData:this._formatIncentiveData(t.vIncentiveData),sIncentiveData:this._formatIncentiveData(t.sIncentiveData)}))}async getUserReservesIncentivesDataHumanized({user:e,lendingPoolAddressProvider:t}){const n=await this.getUserReservesIncentivesData({user:e,lendingPoolAddressProvider:t});return n.map(n=>({id:`${this.chainId}-${e}-${n.underlyingAsset}-${t}`.toLowerCase(),underlyingAsset:n.underlyingAsset.toLowerCase(),aTokenIncentivesUserData:this._formatUserIncentiveData(n.aTokenIncentivesUserData),vTokenIncentivesUserData:this._formatUserIncentiveData(n.vTokenIncentivesUserData),sTokenIncentivesUserData:this._formatUserIncentiveData(n.sTokenIncentivesUserData)}))}async getIncentivesDataWithPriceLegacy({lendingPoolAddressProvider:e,chainlinkFeedsRegistry:t,quote:n=C.eth}){const a=await this.getReservesIncentivesDataHumanized({lendingPoolAddressProvider:e}),r=[];if(t&&Object(_["isAddress"])(t)){this._chainlinkFeedsRegistries[t]||(this._chainlinkFeedsRegistries[t]=new P({provider:this.provider,chainlinkFeedsRegistry:t}));const e=new Set;a.forEach(t=>{t.aIncentiveData.rewardsTokenInformation.map(t=>e.add(t.rewardTokenAddress)),t.vIncentiveData.rewardsTokenInformation.map(t=>e.add(t.rewardTokenAddress)),t.sIncentiveData.rewardsTokenInformation.map(t=>e.add(t.rewardTokenAddress))});const i=Array.from(e),s=i.map(e=>this._getFeed(e,t,n)),o=await Promise.allSettled(s);o.forEach(e=>{"fulfilled"===e.status&&r.push(e.value)})}return a.map(t=>({id:`${this.chainId}-${t.underlyingAsset}-${e}`.toLowerCase(),underlyingAsset:t.underlyingAsset,aIncentiveData:Object.assign(Object.assign({},t.aIncentiveData),{rewardsTokenInformation:t.aIncentiveData.rewardsTokenInformation.map(e=>{const t=r.find(t=>t.rewardTokenAddress===e.rewardTokenAddress);return Object.assign(Object.assign({},e),{rewardPriceFeed:(null===t||void 0===t?void 0:t.answer)?t.answer:e.rewardPriceFeed,priceFeedDecimals:(null===t||void 0===t?void 0:t.decimals)?t.decimals:e.priceFeedDecimals})})}),vIncentiveData:Object.assign(Object.assign({},t.vIncentiveData),{rewardsTokenInformation:t.vIncentiveData.rewardsTokenInformation.map(e=>{const t=r.find(t=>t.rewardTokenAddress===e.rewardTokenAddress);return Object.assign(Object.assign({},e),{rewardPriceFeed:(null===t||void 0===t?void 0:t.answer)?t.answer:e.rewardPriceFeed,priceFeedDecimals:(null===t||void 0===t?void 0:t.decimals)?t.decimals:e.priceFeedDecimals})})}),sIncentiveData:Object.assign(Object.assign({},t.sIncentiveData),{rewardsTokenInformation:t.sIncentiveData.rewardsTokenInformation.map(e=>{const t=r.find(t=>t.rewardTokenAddress===e.rewardTokenAddress);return Object.assign(Object.assign({},e),{rewardPriceFeed:(null===t||void 0===t?void 0:t.answer)?t.answer:e.rewardPriceFeed,priceFeedDecimals:(null===t||void 0===t?void 0:t.decimals)?t.decimals:e.priceFeedDecimals})})})}))}_formatIncentiveData(e){return{tokenAddress:e.tokenAddress,incentiveControllerAddress:e.incentiveControllerAddress,rewardsTokenInformation:e.rewardsTokenInformation.map(e=>({precision:e.precision,rewardTokenAddress:e.rewardTokenAddress,rewardTokenDecimals:e.rewardTokenDecimals,emissionPerSecond:e.emissionPerSecond.toString(),incentivesLastUpdateTimestamp:e.incentivesLastUpdateTimestamp.toNumber(),tokenIncentivesIndex:e.tokenIncentivesIndex.toString(),emissionEndTimestamp:e.emissionEndTimestamp.toNumber(),rewardTokenSymbol:e.rewardTokenSymbol,rewardOracleAddress:e.rewardOracleAddress,rewardPriceFeed:e.rewardPriceFeed.toString(),priceFeedDecimals:e.priceFeedDecimals}))}}_formatUserIncentiveData(e){return{tokenAddress:e.tokenAddress,incentiveControllerAddress:e.incentiveControllerAddress,userRewardsInformation:e.userRewardsInformation.map(e=>({rewardTokenAddress:e.rewardTokenAddress,rewardTokenDecimals:e.rewardTokenDecimals,tokenIncentivesUserIndex:e.tokenIncentivesUserIndex.toString(),userUnclaimedRewards:e.userUnclaimedRewards.toString(),rewardTokenSymbol:e.rewardTokenSymbol,rewardOracleAddress:e.rewardOracleAddress,rewardPriceFeed:e.rewardPriceFeed.toString(),priceFeedDecimals:e.priceFeedDecimals}))}}}Object(j["__decorate"])([$,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("lendingPoolAddressProvider")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],fe.prototype,"getFullReservesIncentiveData",null),Object(j["__decorate"])([$,Object(j["__param"])(0,Object(le["d"])("lendingPoolAddressProvider")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],fe.prototype,"getReservesIncentivesData",null),Object(j["__decorate"])([$,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("lendingPoolAddressProvider")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],fe.prototype,"getUserReservesIncentivesData",null),Object(j["__decorate"])([$,Object(j["__param"])(0,Object(le["d"])("lendingPoolAddressProvider")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],fe.prototype,"getReservesIncentivesDataHumanized",null),Object(j["__decorate"])([$,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("lendingPoolAddressProvider")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],fe.prototype,"getUserReservesIncentivesDataHumanized",null),Object(j["__decorate"])([$,Object(j["__param"])(0,Object(le["d"])("lendingPoolAddressProvider")),Object(j["__param"])(0,Object(le["d"])("chainlinkFeedsRegistry")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],fe.prototype,"getIncentivesDataWithPriceLegacy",null);const ye=[{inputs:[{internalType:"contract IPoolAddressesProvider",name:"provider",type:"address"}],name:"getReservesData",outputs:[{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"decimals",type:"uint256"},{internalType:"uint256",name:"baseLTVasCollateral",type:"uint256"},{internalType:"uint256",name:"reserveLiquidationThreshold",type:"uint256"},{internalType:"uint256",name:"reserveLiquidationBonus",type:"uint256"},{internalType:"uint256",name:"reserveFactor",type:"uint256"},{internalType:"bool",name:"usageAsCollateralEnabled",type:"bool"},{internalType:"bool",name:"borrowingEnabled",type:"bool"},{internalType:"bool",name:"stableBorrowRateEnabled",type:"bool"},{internalType:"bool",name:"isActive",type:"bool"},{internalType:"bool",name:"isFrozen",type:"bool"},{internalType:"uint128",name:"liquidityIndex",type:"uint128"},{internalType:"uint128",name:"variableBorrowIndex",type:"uint128"},{internalType:"uint128",name:"liquidityRate",type:"uint128"},{internalType:"uint128",name:"variableBorrowRate",type:"uint128"},{internalType:"uint128",name:"stableBorrowRate",type:"uint128"},{internalType:"uint40",name:"lastUpdateTimestamp",type:"uint40"},{internalType:"address",name:"aTokenAddress",type:"address"},{internalType:"address",name:"stableDebtTokenAddress",type:"address"},{internalType:"address",name:"variableDebtTokenAddress",type:"address"},{internalType:"address",name:"interestRateStrategyAddress",type:"address"},{internalType:"uint256",name:"availableLiquidity",type:"uint256"},{internalType:"uint256",name:"totalPrincipalStableDebt",type:"uint256"},{internalType:"uint256",name:"averageStableRate",type:"uint256"},{internalType:"uint256",name:"stableDebtLastUpdateTimestamp",type:"uint256"},{internalType:"uint256",name:"totalScaledVariableDebt",type:"uint256"},{internalType:"uint256",name:"priceInMarketReferenceCurrency",type:"uint256"},{internalType:"address",name:"priceOracle",type:"address"},{internalType:"uint256",name:"variableRateSlope1",type:"uint256"},{internalType:"uint256",name:"variableRateSlope2",type:"uint256"},{internalType:"uint256",name:"stableRateSlope1",type:"uint256"},{internalType:"uint256",name:"stableRateSlope2",type:"uint256"},{internalType:"uint256",name:"baseStableBorrowRate",type:"uint256"},{internalType:"uint256",name:"baseVariableBorrowRate",type:"uint256"},{internalType:"uint256",name:"optimalUsageRatio",type:"uint256"},{internalType:"bool",name:"isPaused",type:"bool"},{internalType:"bool",name:"isSiloedBorrowing",type:"bool"},{internalType:"uint128",name:"accruedToTreasury",type:"uint128"},{internalType:"uint128",name:"unbacked",type:"uint128"},{internalType:"uint128",name:"isolationModeTotalDebt",type:"uint128"},{internalType:"uint256",name:"debtCeiling",type:"uint256"},{internalType:"uint256",name:"debtCeilingDecimals",type:"uint256"},{internalType:"uint8",name:"eModeCategoryId",type:"uint8"},{internalType:"uint256",name:"borrowCap",type:"uint256"},{internalType:"uint256",name:"supplyCap",type:"uint256"},{internalType:"uint16",name:"eModeLtv",type:"uint16"},{internalType:"uint16",name:"eModeLiquidationThreshold",type:"uint16"},{internalType:"uint16",name:"eModeLiquidationBonus",type:"uint16"},{internalType:"address",name:"eModePriceSource",type:"address"},{internalType:"string",name:"eModeLabel",type:"string"},{internalType:"bool",name:"borrowableInIsolation",type:"bool"}],internalType:"struct IUiPoolDataProviderV3.AggregatedReserveData[]",name:"",type:"tuple[]"},{components:[{internalType:"uint256",name:"marketReferenceCurrencyUnit",type:"uint256"},{internalType:"int256",name:"marketReferenceCurrencyPriceInUsd",type:"int256"},{internalType:"int256",name:"networkBaseTokenPriceInUsd",type:"int256"},{internalType:"uint8",name:"networkBaseTokenPriceDecimals",type:"uint8"}],internalType:"struct IUiPoolDataProviderV3.BaseCurrencyInfo",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPoolAddressesProvider",name:"provider",type:"address"}],name:"getReservesList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPoolAddressesProvider",name:"provider",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"getUserReservesData",outputs:[{components:[{internalType:"address",name:"underlyingAsset",type:"address"},{internalType:"uint256",name:"scaledATokenBalance",type:"uint256"},{internalType:"bool",name:"usageAsCollateralEnabledOnUser",type:"bool"},{internalType:"uint256",name:"stableBorrowRate",type:"uint256"},{internalType:"uint256",name:"scaledVariableDebt",type:"uint256"},{internalType:"uint256",name:"principalStableDebt",type:"uint256"},{internalType:"uint256",name:"stableBorrowLastUpdateTimestamp",type:"uint256"}],internalType:"struct IUiPoolDataProviderV3.UserReserveData[]",name:"",type:"tuple[]"},{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"}];class me{static createInterface(){return new N["utils"].Interface(ye)}static connect(e,t){return new O["b"](e,ye,t)}}me.abi=ye;O["c"];class be{static connect(e,t){return new O["b"](e,he,t)}}const he=[{inputs:[],name:"getGeneralStakeUIData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"}],internalType:"struct StakeUIHelperI.GeneralStakeUIData",name:"",type:"tuple"},{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"}],internalType:"struct StakeUIHelperI.GeneralStakeUIData",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getStkAaveData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"},{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.AssetUIData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getStkBptData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"},{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.AssetUIData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStkGeneralAaveData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"}],internalType:"struct StakeUIHelperI.GeneralStakeUIData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStkGeneralBptData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"}],internalType:"struct StakeUIHelperI.GeneralStakeUIData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getStkUserAaveData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getStkUserBptData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"user",type:"address[]"}],name:"getStkUsersAaveData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"user",type:"address[]"}],name:"getStkUsersBptData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserStakeUIData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData",name:"",type:"tuple"},{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserUIData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"},{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.AssetUIData",name:"",type:"tuple"},{components:[{internalType:"uint256",name:"stakeTokenTotalSupply",type:"uint256"},{internalType:"uint256",name:"stakeCooldownSeconds",type:"uint256"},{internalType:"uint256",name:"stakeUnstakeWindow",type:"uint256"},{internalType:"uint256",name:"stakeTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"rewardTokenPriceEth",type:"uint256"},{internalType:"uint256",name:"stakeApy",type:"uint256"},{internalType:"uint128",name:"distributionPerSecond",type:"uint128"},{internalType:"uint256",name:"distributionEnd",type:"uint256"},{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.AssetUIData",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"user",type:"address[]"}],name:"getUsersStakeUIData",outputs:[{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData[]",name:"",type:"tuple[]"},{components:[{internalType:"uint256",name:"stakeTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"underlyingTokenUserBalance",type:"uint256"},{internalType:"uint256",name:"userCooldown",type:"uint256"},{internalType:"uint256",name:"userIncentivesToClaim",type:"uint256"},{internalType:"uint256",name:"userPermitNonce",type:"uint256"}],internalType:"struct StakeUIHelperI.UserStakeUIData[]",name:"",type:"tuple[]"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class Te{constructor(e){this._contract=be.connect(e.uiStakeDataProvider,e.provider)}async getUserStakeUIData({user:e}){return this._contract.getUserStakeUIData(e)}async getUserStakeUIDataHumanized({user:e}){const{0:t,1:n,2:a}=await this.getUserStakeUIData({user:e});return{aave:{stakeTokenUserBalance:t.stakeTokenUserBalance.toString(),underlyingTokenUserBalance:t.underlyingTokenUserBalance.toString(),userCooldown:t.userCooldown.toNumber(),userIncentivesToClaim:t.userIncentivesToClaim.toString(),userPermitNonce:t.userPermitNonce.toString()},bpt:{stakeTokenUserBalance:n.stakeTokenUserBalance.toString(),underlyingTokenUserBalance:n.underlyingTokenUserBalance.toString(),userCooldown:n.userCooldown.toNumber(),userIncentivesToClaim:n.userIncentivesToClaim.toString(),userPermitNonce:n.userPermitNonce.toString()},usdPriceEth:a.toString()}}async getGeneralStakeUIData(){return this._contract.getGeneralStakeUIData()}async getGeneralStakeUIDataHumanized(){const{0:e,1:t,2:n}=await this.getGeneralStakeUIData();return{aave:{stakeTokenTotalSupply:e.stakeTokenTotalSupply.toString(),stakeCooldownSeconds:e.stakeCooldownSeconds.toNumber(),stakeUnstakeWindow:e.stakeUnstakeWindow.toNumber(),stakeTokenPriceEth:e.stakeTokenPriceEth.toString(),rewardTokenPriceEth:e.rewardTokenPriceEth.toString(),stakeApy:e.stakeApy.toString(),distributionPerSecond:e.distributionPerSecond.toString(),distributionEnd:e.distributionEnd.toString()},bpt:{stakeTokenTotalSupply:t.stakeTokenTotalSupply.toString(),stakeCooldownSeconds:t.stakeCooldownSeconds.toNumber(),stakeUnstakeWindow:t.stakeUnstakeWindow.toNumber(),stakeTokenPriceEth:t.stakeTokenPriceEth.toString(),rewardTokenPriceEth:t.rewardTokenPriceEth.toString(),stakeApy:t.stakeApy.toString(),distributionPerSecond:t.distributionPerSecond.toString(),distributionEnd:t.distributionEnd.toString()},usdPriceEth:n.toString()}}}Object(j["__decorate"])([ue,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Te.prototype,"getUserStakeUIData",null),Object(j["__decorate"])([ue,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Te.prototype,"getUserStakeUIDataHumanized",null);class ge{static connect(e,t){return new O["b"](e,ve,t)}}const ve=[{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];class we extends U{constructor(e){super(e,ge)}claimRewards({user:e,assets:t,to:n,incentivesControllerAddress:a}){const r=this.getContractInstance(a),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.claimRewards(t,N["constants"].MaxUint256.toString(),null!==n&&void 0!==n?n:e),from:e});return[{tx:i,txType:D["d"].REWARD_ACTION,gas:this.generateTxPriceEstimation([],i)}]}}Object(j["__decorate"])([J,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("incentivesControllerAddress")),Object(j["__param"])(0,Object(le["d"])("to")),Object(j["__param"])(0,Object(le["e"])("assets")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Array)],we.prototype,"claimRewards",null);const _e=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!1,internalType:"uint256",name:"emission",type:"uint256"},{indexed:!1,internalType:"uint256",name:"distributionEnd",type:"uint256"}],name:"AssetConfigUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!1,internalType:"uint256",name:"index",type:"uint256"}],name:"AssetIndexUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"claimer",type:"address"}],name:"ClaimerSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!0,internalType:"address",name:"rewardOracle",type:"address"}],name:"RewardOracleUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardsAccrued",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"address",name:"claimer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RewardsClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!0,internalType:"address",name:"transferStrategy",type:"address"}],name:"TransferStrategyInstalled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"reward",type:"address"},{indexed:!1,internalType:"uint256",name:"index",type:"uint256"}],name:"UserIndexUpdated",type:"event"},{inputs:[],name:"PRECISION",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"claimAllRewards",outputs:[{internalType:"address[]",name:"rewardsList",type:"address[]"},{internalType:"uint256[]",name:"claimedAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"claimAllRewardsOnBehalf",outputs:[{internalType:"address[]",name:"rewardsList",type:"address[]"},{internalType:"uint256[]",name:"claimedAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"}],name:"claimAllRewardsToSelf",outputs:[{internalType:"address[]",name:"rewardsList",type:"address[]"},{internalType:"uint256[]",name:"claimedAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"claimRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"claimRewardsOnBehalf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"reward",type:"address"}],name:"claimRewardsToSelf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint104",name:"emissionPerSecond",type:"uint104"},{internalType:"uint256",name:"totalSupply",type:"uint256"},{internalType:"uint40",name:"distributionEnd",type:"uint40"},{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"reward",type:"address"},{internalType:"contract ITransferStrategy",name:"transferStrategy",type:"address"},{internalType:"bytes",name:"transferStrategyParams",type:"bytes"},{internalType:"contract IEACAggregatorProxy",name:"rewardOracle",type:"address"}],internalType:"struct DistributionTypesV2.RewardsConfigInput[]",name:"config",type:"tuple[]"}],name:"configureAssets",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"address",name:"user",type:"address"}],name:"getAllUserRewardsBalance",outputs:[{internalType:"address[]",name:"",type:"address[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getClaimer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"getDistributionEnd",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"reward",type:"address"}],name:"getRewardOracle",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getRewardsByAsset",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"getRewardsData",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRewardsList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"reward",type:"address"}],name:"getTransferStrategy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"getUserAssetData",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"getUserRewardsBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"reward",type:"address"}],name:"getUserUnclaimedRewardsFromStorage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"userBalance",type:"uint256"},{internalType:"uint256",name:"totalSupply",type:"uint256"}],name:"handleAction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"claimer",type:"address"}],name:"setClaimer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"reward",type:"address"},{internalType:"uint40",name:"distributionEnd",type:"uint40"}],name:"setDistributionEnd",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reward",type:"address"},{internalType:"contract IEACAggregatorProxy",name:"rewardOracle",type:"address"}],name:"setRewardOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reward",type:"address"},{internalType:"contract ITransferStrategy",name:"transferStrategy",type:"address"},{internalType:"bytes",name:"params",type:"bytes"}],name:"setTransferStrategy",outputs:[],stateMutability:"nonpayable",type:"function"}];class Oe{static createInterface(){return new N["utils"].Interface(_e)}static connect(e,t){return new O["b"](e,_e,t)}}Oe.abi=_e;class Ae extends U{constructor(e){super(e,Oe)}claimRewards({user:e,assets:t,to:n,incentivesControllerAddress:a,reward:r}){const i=this.getContractInstance(a),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.claimRewards(t,N["constants"].MaxUint256.toString(),null!==n&&void 0!==n?n:e,r),from:e});return[{tx:s,txType:D["d"].REWARD_ACTION,gas:this.generateTxPriceEstimation([],s)}]}claimAllRewards({user:e,assets:t,to:n,incentivesControllerAddress:a}){const r=this.getContractInstance(a),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.claimAllRewards(t,null!==n&&void 0!==n?n:e),from:e});return[{tx:i,txType:D["d"].REWARD_ACTION,gas:this.generateTxPriceEstimation([],i)}]}}Object(j["__decorate"])([J,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("incentivesControllerAddress")),Object(j["__param"])(0,Object(le["d"])("to")),Object(j["__param"])(0,Object(le["d"])("reward")),Object(j["__param"])(0,Object(le["e"])("assets")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Array)],Ae.prototype,"claimRewards",null),Object(j["__decorate"])([J,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("incentivesControllerAddress")),Object(j["__param"])(0,Object(le["d"])("to")),Object(j["__param"])(0,Object(le["e"])("assets")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Array)],Ae.prototype,"claimAllRewards",null);class je{static connect(e,t){return new O["b"](e,ke,t)}}const ke=[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];class xe extends U{constructor(e){super(e,je),this.tokenDecimals={},this.tokenMetadata={},this.approve=this.approve.bind(this),this.isApproved=this.isApproved.bind(this),this.getTokenData=this.getTokenData.bind(this),this.decimalsOf=this.decimalsOf.bind(this)}approve({user:e,token:t,spender:n,amount:a}){const r=this.getContractInstance(t),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.approve(n,a),from:e});return{tx:i,txType:D["d"].ERC20_APPROVAL,gas:this.generateTxPriceEstimation([],i)}}async isApproved({user:e,token:t,spender:n,amount:a}){if(t.toLowerCase()===B["a"].toLowerCase())return!0;const r=await this.decimalsOf(t),i=this.getContractInstance(t),s=await i.allowance(e,n),o="-1"===a?E["a"].from(B["e"]):E["a"].from(Object(B["l"])(a,r));return s.gte(o)}async decimalsOf(e){if(e.toLowerCase()===B["a"].toLowerCase())return 18;if(!this.tokenDecimals[e]){const t=this.getContractInstance(e);this.tokenDecimals[e]=await t.decimals()}return this.tokenDecimals[e]}async getTokenData(e){if(e.toLowerCase()===B["a"].toLowerCase())return{name:"Ethereum",symbol:"ETH",decimals:18,address:e};if(e.toLowerCase()==="0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2".toLowerCase())return{name:"Maker",symbol:"MKR",decimals:18,address:e};if(!this.tokenMetadata[e]){const{name:t,symbol:n}=this.getContractInstance(e),[a,r,i]=await Promise.all([t(),n(),this.decimalsOf(e)]);this.tokenMetadata[e]={name:a,symbol:r,decimals:i,address:e}}return this.tokenMetadata[e]}}Object(j["__decorate"])([X,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("token")),Object(j["__param"])(0,Object(le["d"])("spender")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Object)],xe.prototype,"approve",null),Object(j["__decorate"])([X,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("token")),Object(j["__param"])(0,Object(le["d"])("spender")),Object(j["__param"])(0,Object(le["n"])("amount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],xe.prototype,"isApproved",null),Object(j["__decorate"])([X,Object(j["__param"])(0,Object(le["d"])()),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[String]),Object(j["__metadata"])("design:returntype",Promise)],xe.prototype,"decimalsOf",null),Object(j["__decorate"])([X,Object(j["__param"])(0,Object(le["d"])()),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[String]),Object(j["__metadata"])("design:returntype",Promise)],xe.prototype,"getTokenData",null);class Ce{static connect(e,t){return new O["b"](e,Se,t)}}const Se=[{inputs:[{internalType:"address",name:"assetToSwapFrom",type:"address"},{internalType:"address",name:"assetToSwapTo",type:"address"},{internalType:"uint256",name:"amountToSwap",type:"uint256"},{internalType:"uint256",name:"minAmountToReceive",type:"uint256"},{internalType:"uint256",name:"swapAllBalanceOffset",type:"uint256"},{internalType:"bytes",name:"swapCalldata",type:"bytes"},{internalType:"address",name:"augustus",type:"address"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IParaSwapLiquiditySwapAdapter.PermitSignature",name:"permitParams",type:"tuple"}],name:"swapAndDeposit",outputs:[],stateMutability:"nonpayable",type:"function"}];function Pe(e){switch(e.slice(0,10)){case"0xda8567c8":return 100;case"0x58b9d179":return 4;case"0x0863b7ac":return 68;case"0x8f00eccb":return 68;case"0xec1d21dd":return 68;case"0x54840d1a":return 4;case"0xf5661034":return 68;case"0x0b86a4c1":return 36;case"0x64466805":return 68;case"0xa94e78ef":return 68;case"0x46c67b6d":return 68;default:throw new Error("Unrecognized function selector for Augustus")}}class Ee extends U{constructor(e,t){super(e,Ce),this.liquiditySwapAdapterAddress=null!==t&&void 0!==t?t:"",this.swapAndDeposit=this.swapAndDeposit.bind(this)}swapAndDeposit({user:e,assetToSwapFrom:t,assetToSwapTo:n,amountToSwap:a,minAmountToReceive:r,permitParams:i,augustus:s,swapCallData:o,swapAll:d},u){const l=this.getContractInstance(this.liquiditySwapAdapterAddress),c=this.generateTxCallback({rawTxMethod:async()=>l.populateTransaction.swapAndDeposit(t,n,a,r,d?Pe(o):0,o,s,i),from:e});return{tx:c,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(null!==u&&void 0!==u?u:[],c,D["c"].swapCollateral)}}}Object(j["__decorate"])([ee,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("assetToSwapFrom")),Object(j["__param"])(0,Object(le["d"])("assetToSwapTo")),Object(j["__param"])(0,Object(le["d"])("augustus")),Object(j["__param"])(0,Object(le["l"])("amountToSwap")),Object(j["__param"])(0,Object(le["l"])("minAmountToReceive")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object,Array]),Object(j["__metadata"])("design:returntype",Object)],Ee.prototype,"swapAndDeposit",null);const De=[{inputs:[{internalType:"contract IPoolAddressesProvider",name:"addressesProvider",type:"address"},{internalType:"contract IParaSwapAugustusRegistry",name:"augustusRegistry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"fromAsset",type:"address"},{indexed:!0,internalType:"address",name:"toAsset",type:"address"},{indexed:!1,internalType:"uint256",name:"amountSold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"receivedAmount",type:"uint256"}],name:"Bought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"fromAsset",type:"address"},{indexed:!0,internalType:"address",name:"toAsset",type:"address"},{indexed:!1,internalType:"uint256",name:"fromAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"receivedAmount",type:"uint256"}],name:"Swapped",type:"event"},{inputs:[],name:"ADDRESSES_PROVIDER",outputs:[{internalType:"contract IPoolAddressesProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"AUGUSTUS_REGISTRY",outputs:[{internalType:"contract IParaSwapAugustusRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_SLIPPAGE_PERCENT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ORACLE",outputs:[{internalType:"contract IPriceOracleGetter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"POOL",outputs:[{internalType:"contract IPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"premiums",type:"uint256[]"},{internalType:"address",name:"initiator",type:"address"},{internalType:"bytes",name:"params",type:"bytes"}],name:"executeOperation",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"token",type:"address"}],name:"rescueTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20Detailed",name:"collateralAsset",type:"address"},{internalType:"contract IERC20Detailed",name:"debtAsset",type:"address"},{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"debtRepayAmount",type:"uint256"},{internalType:"uint256",name:"debtRateMode",type:"uint256"},{internalType:"uint256",name:"buyAllBalanceOffset",type:"uint256"},{internalType:"bytes",name:"paraswapData",type:"bytes"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct BaseParaSwapAdapter.PermitSignature",name:"permitSignature",type:"tuple"}],name:"swapAndRepay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Ie="0x6101006040523480156200001257600080fd5b506040516200333638038062003336833981016040819052620000359162000263565b81818180806001600160a01b03166080816001600160a01b031681525050806001600160a01b031663026b1d5f6040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000092573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620000b89190620002a2565b6001600160a01b031660a05250600080546001600160a01b031916339081178255604051909182917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a350806001600160a01b031663fca513a86040518163ffffffff1660e01b8152600401602060405180830381865afa15801562000145573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200016b9190620002a2565b6001600160a01b0390811660c05260405163fb04e17b60e01b815260006004820152908316915063fb04e17b90602401602060405180830381865afa158015620001b9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620001df9190620002c9565b15620002315760405162461bcd60e51b815260206004820152601c60248201527f4e6f7420612076616c6964204175677573747573206164647265737300000000604482015260640160405180910390fd5b6001600160a01b031660e05250506001805550620002ed565b6001600160a01b03811681146200026057600080fd5b50565b600080604083850312156200027757600080fd5b825162000284816200024a565b602084015190925062000297816200024a565b809150509250929050565b600060208284031215620002b557600080fd5b8151620002c2816200024a565b9392505050565b600060208284031215620002dc57600080fd5b81518015158114620002c257600080fd5b60805160a05160c05160e051612fa06200039660003960008181610176015261111801526000818161014f015261237b0152600081816101b8015281816104bb015281816105750152818161064b015281816106e50152818161079f0152818161087501528181610a7001528181611a6801528181611b2601528181611bfe01528181611cc301528181611d5e01528181611fc6015261217b0152600060e70152612fa06000f3fe608060405234801561001057600080fd5b50600436106100c85760003560e01c80634db9dc97116100815780638da5cb5b1161005b5780638da5cb5b146101da578063920f5c84146101f8578063f2fde38b1461021b57600080fd5b80634db9dc9714610198578063715018a6146101ab5780637535d246146101b357600080fd5b806332e4b286116100b257806332e4b2861461013357806338013f021461014a5780633a8298671461017157600080fd5b8062ae3bf8146100cd5780630542975c146100e2575b600080fd5b6100e06100db366004612585565b61022e565b005b6101097f000000000000000000000000000000000000000000000000000000000000000081565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020015b60405180910390f35b61013c610bb881565b60405190815260200161012a565b6101097f000000000000000000000000000000000000000000000000000000000000000081565b6101097f000000000000000000000000000000000000000000000000000000000000000081565b6100e06101a63660046125eb565b610385565b6100e06108f4565b6101097f000000000000000000000000000000000000000000000000000000000000000081565b60005473ffffffffffffffffffffffffffffffffffffffff16610109565b61020b6102063660046126f9565b6109e4565b604051901515815260200161012a565b6100e0610229366004612585565b610c31565b60005473ffffffffffffffffffffffffffffffffffffffff1633146102b4576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064015b60405180910390fd5b6103826102d660005473ffffffffffffffffffffffffffffffffffffffff1690565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015273ffffffffffffffffffffffffffffffffffffffff8416906370a0823190602401602060405180830381865afa158015610340573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061036491906127d4565b73ffffffffffffffffffffffffffffffffffffffff84169190610de2565b50565b600260015414156103f2576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064016102ab565b60026001556104048886868933610ebb565b955061042089338961041b3686900386018661291f565b61108e565b60006104688585858080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152508f92508e91508d90508c6110b4565b90506000610476828a61296a565b905080156106a8576040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000081166004830152600060248301528c169063095ea7b3906044016020604051808303816000875af1158015610513573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105379190612981565b506040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018390528c169063095ea7b3906044016020604051808303816000875af11580156105cd573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105f19190612981565b506040517fe8eda9df00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8c8116600483015260248201839052336044830152600060648301527f0000000000000000000000000000000000000000000000000000000000000000169063e8eda9df90608401600060405180830381600087803b15801561068f57600080fd5b505af11580156106a3573d6000803e3d6000fd5b505050505b6040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000081166004830152600060248301528b169063095ea7b3906044016020604051808303816000875af115801561073d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107619190612981565b506040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018a90528b169063095ea7b3906044016020604051808303816000875af11580156107f7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061081b9190612981565b506040517f573ade8100000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8b81166004830152602482018a9052604482018990523360648301527f0000000000000000000000000000000000000000000000000000000000000000169063573ade81906084016020604051808303816000875af11580156108be573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108e291906127d4565b50506001805550505050505050505050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610975576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016102ab565b6000805460405173ffffffffffffffffffffffffffffffffffffffff909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080547fffffffffffffffffffffffff0000000000000000000000000000000000000000169055565b600060026001541415610a53576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064016102ab565b60026001553373ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001614610af7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f43414c4c45525f4d5553545f42455f504f4f4c0000000000000000000000000060448201526064016102ab565b600189148015610b075750600187145b8015610b135750600185145b610b9f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602760248201527f464c4153484c4f414e5f4d554c5449504c455f4153534554535f4e4f545f535560448201527f50504f525445440000000000000000000000000000000000000000000000000060648201526084016102ab565b600088886000818110610bb457610bb46129a3565b905060200201359050600087876000818110610bd257610bd26129a3565b905060200201359050600086905060008d8d6000818110610bf557610bf56129a3565b9050602002016020810190610c0a9190612585565b9050610c1a8787858585896119ed565b505060018080559c9b505050505050505050505050565b60005473ffffffffffffffffffffffffffffffffffffffff163314610cb2576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016102ab565b73ffffffffffffffffffffffffffffffffffffffff8116610d55576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f646472657373000000000000000000000000000000000000000000000000000060648201526084016102ab565b6000805460405173ffffffffffffffffffffffffffffffffffffffff808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080547fffffffffffffffffffffffff00000000000000000000000000000000000000001673ffffffffffffffffffffffffffffffffffffffff92909216919091179055565b6040517fa9059cbb0000000000000000000000000000000000000000000000000000000080825273ffffffffffffffffffffffffffffffffffffffff84166004830152602482018390529060008060448382895af1610e45573d6000803e3d6000fd5b50610e4f84611e35565b610eb5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f475076323a206661696c6564207472616e73666572000000000000000000000060448201526064016102ab565b50505050565b600080610ec787611f01565b905060006001876002811115610edf57610edf6129d2565b6002811115610ef057610ef06129d2565b14610f0057816101400151610f07565b8161012001515b6040517f70a0823100000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff86811660048301529192506000918316906370a0823190602401602060405180830381865afa158015610f79573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610f9d91906127d4565b90508615611017578581111561100f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f494e53554646494349454e545f414d4f554e545f544f5f52455041590000000060448201526064016102ab565b809550611081565b80861115611081576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f494e56414c49445f444542545f52455041595f414d4f554e540000000000000060448201526064016102ab565b5093979650505050505050565b600061109985611f01565b610100015190506110ad8582868686612038565b5050505050565b6000806000878060200190518101906110cd9190612a73565b6040517ffb04e17b00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff80831660048301529294509092507f00000000000000000000000000000000000000000000000000000000000000009091169063fb04e17b90602401602060405180830381865afa158015611161573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111859190612981565b6111eb576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601060248201527f494e56414c49445f41554755535455530000000000000000000000000000000060448201526064016102ab565b60006111f688612251565b60ff169050600061120688612251565b60ff16905060006112168a612333565b905060006112238a612333565b9050600061127b611238612710610bb86123e8565b61127561125061124988600a612c26565b87906123f8565b61126f6112686112618b600a612c26565b88906123f8565b8e906123f8565b90612422565b90612435565b9050808a111561130d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f6d6178416d6f756e74546f5377617020657863656564206d617820736c69707060448201527f616765000000000000000000000000000000000000000000000000000000000060648201526084016102ab565b50506040517f70a082310000000000000000000000000000000000000000000000000000000081523060048201526000935073ffffffffffffffffffffffffffffffffffffffff8b1692506370a082319150602401602060405180830381865afa15801561137f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113a391906127d4565b90508581101561140f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f494e53554646494349454e545f42414c414e43455f4245464f52455f5357415060448201526064016102ab565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015260009073ffffffffffffffffffffffffffffffffffffffff8916906370a0823190602401602060405180830381865afa15801561147c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114a091906127d4565b905060008373ffffffffffffffffffffffffffffffffffffffff1663d2c4b5986040518163ffffffff1660e01b8152600401602060405180830381865afa1580156114ef573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115139190612c42565b6040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff808316600483015260006024830152919250908b169063095ea7b3906044016020604051808303816000875af115801561158c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115b09190612981565b506040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8281166004830152602482018a90528b169063095ea7b3906044016020604051808303816000875af1158015611626573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061164a9190612981565b508b156116dd5760048c1015801561166e5750845161166a906020612478565b8c11155b6116d4576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f544f5f414d4f554e545f4f46465345545f4f55545f4f465f52414e474500000060448201526064016102ab565b8660208d018601525b60008473ffffffffffffffffffffffffffffffffffffffff16866040516117049190612c5f565b6000604051808303816000865af19150503d8060008114611741576040519150601f19603f3d011682016040523d82523d6000602084013e611746565b606091505b5050905080611759573d6000803e3d6000fd5b6040517f70a0823100000000000000000000000000000000000000000000000000000000815230600482015260009073ffffffffffffffffffffffffffffffffffffffff8d16906370a0823190602401602060405180830381865afa1580156117c6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117ea91906127d4565b90506117f6818661296a565b975089881115611862576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f57524f4e475f42414c414e43455f41465445525f53574150000000000000000060448201526064016102ab565b6040517f70a082310000000000000000000000000000000000000000000000000000000081523060048201526000906118ff90869073ffffffffffffffffffffffffffffffffffffffff8f16906370a0823190602401602060405180830381865afa1580156118d5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118f991906127d4565b90612478565b90508981101561196b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f494e53554646494349454e545f414d4f554e545f52454345495645440000000060448201526064016102ab565b8b73ffffffffffffffffffffffffffffffffffffffff168d73ffffffffffffffffffffffffffffffffffffffff167fbf77fd13a39d14dc0da779342c14105c38d9a5d0c60f2caa22f5fd1d5525416d8b846040516119d3929190918252602082015260400190565b60405180910390a350505050505050509695505050505050565b60008080808080611a008b8d018d612c7b565b955095509550955095509550611a19868486888d610ebb565b94506000611a2b85848b8a8c8b6110b4565b6040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000081166004830152600060248301529192509088169063095ea7b3906044016020604051808303816000875af1158015611ac4573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ae89190612981565b506040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000811660048301526024820188905288169063095ea7b3906044016020604051808303816000875af1158015611b7e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ba29190612981565b506040517f573ade8100000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff888116600483015260248201889052604482018690528b811660648301527f0000000000000000000000000000000000000000000000000000000000000000169063573ade81906084016020604051808303816000875af1158015611c47573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611c6b91906127d4565b506000611c78828d6123e8565b9050611c868a8c838661108e565b6040517f095ea7b300000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000081166004830152600060248301528b169063095ea7b3906044016020604051808303816000875af1158015611d1b573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d3f9190612981565b508973ffffffffffffffffffffffffffffffffffffffff1663095ea7b37f0000000000000000000000000000000000000000000000000000000000000000611d908f8d6123e890919063ffffffff16565b6040517fffffffff0000000000000000000000000000000000000000000000000000000060e085901b16815273ffffffffffffffffffffffffffffffffffffffff909216600483015260248201526044016020604051808303816000875af1158015611e00573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e249190612981565b505050505050505050505050505050565b6000611e75565b7f08c379a00000000000000000000000000000000000000000000000000000000060005260206004528060245250806044525060646000fd5b3d8015611eb45760208114611eee57611eaf7f475076323a206d616c666f726d6564207472616e7366657220726573756c7400601f611e3c565b611efb565b823b611ee557611ee57f475076323a206e6f74206120636f6e74726163740000000000000000000000006014611e3c565b60019150611efb565b3d6000803e600051151591505b50919050565b604080516102008101825260006101e08201818152825260208201819052918101829052606081018290526080810182905260a0810182905260c0810182905260e08101829052610100810182905261012081018290526101408101829052610160810182905261018081018290526101a081018290526101c08101919091526040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff83811660048301527f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa15801561200e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906120329190612dc0565b92915050565b60208101511561210557805160208201516040808401516060850151608086015192517fd505accf00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff89811660048301523060248301526044820196909652606481019490945260ff909116608484015260a483015260c48201529085169063d505accf9060e401600060405180830381600087803b1580156120ec57600080fd5b505af1158015612100573d6000803e3d6000fd5b505050505b61212773ffffffffffffffffffffffffffffffffffffffff8516843085612488565b6040517f69328dec00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff86811660048301526024820184905230604483015283917f0000000000000000000000000000000000000000000000000000000000000000909116906369328dec906064016020604051808303816000875af11580156121c6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906121ea91906127d4565b146110ad576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f554e45585045435445445f414d4f554e545f57495448445241574e000000000060448201526064016102ab565b6000808273ffffffffffffffffffffffffffffffffffffffff1663313ce5676040518163ffffffff1660e01b8152600401602060405180830381865afa15801561229f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122c39190612ee3565b9050604d8160ff161115612032576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f544f4f5f4d414e595f444543494d414c535f4f4e5f544f4b454e00000000000060448201526064016102ab565b6040517fb3596f0700000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff82811660048301526000917f00000000000000000000000000000000000000000000000000000000000000009091169063b3596f0790602401602060405180830381865afa1580156123c4573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061203291906127d4565b8082018281101561203257600080fd5b60008215806124195750508181028183828161241657612416612f00565b04145b61203257600080fd5b600061242e8284612f2f565b9392505050565b600081157fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec778390048411151761246a57600080fd5b506127109102611388010490565b8082038281111561203257600080fd5b6040517f23b872dd0000000000000000000000000000000000000000000000000000000080825273ffffffffffffffffffffffffffffffffffffffff8581166004840152841660248301526044820183905290600080606483828a5af16124f3573d6000803e3d6000fd5b506124fd85611e35565b6110ad576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f475076323a206661696c6564207472616e7366657246726f6d0000000000000060448201526064016102ab565b73ffffffffffffffffffffffffffffffffffffffff8116811461038257600080fd5b60006020828403121561259757600080fd5b813561242e81612563565b60008083601f8401126125b457600080fd5b50813567ffffffffffffffff8111156125cc57600080fd5b6020830191508360208285010111156125e457600080fd5b9250929050565b6000806000806000806000806000898b0361018081121561260b57600080fd5b8a3561261681612563565b995060208b013561262681612563565b985060408b0135975060608b0135965060808b0135955060a08b0135945060c08b013567ffffffffffffffff81111561265e57600080fd5b61266a8d828e016125a2565b90955093505060a07fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff20820112156126a057600080fd5b5060e08a0190509295985092959850929598565b60008083601f8401126126c657600080fd5b50813567ffffffffffffffff8111156126de57600080fd5b6020830191508360208260051b85010111156125e457600080fd5b600080600080600080600080600060a08a8c03121561271757600080fd5b893567ffffffffffffffff8082111561272f57600080fd5b61273b8d838e016126b4565b909b50995060208c013591508082111561275457600080fd5b6127608d838e016126b4565b909950975060408c013591508082111561277957600080fd5b6127858d838e016126b4565b909750955060608c0135915061279a82612563565b90935060808b013590808211156127b057600080fd5b506127bd8c828d016125a2565b915080935050809150509295985092959850929598565b6000602082840312156127e657600080fd5b5051919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040516101e0810167ffffffffffffffff81118282101715612840576128406127ed565b60405290565b604051601f82017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016810167ffffffffffffffff8111828210171561288d5761288d6127ed565b604052919050565b60ff8116811461038257600080fd5b600060a082840312156128b657600080fd5b60405160a0810181811067ffffffffffffffff821117156128d9576128d96127ed565b8060405250809150823581526020830135602082015260408301356128fd81612895565b8060408301525060608301356060820152608083013560808201525092915050565b600060a0828403121561293157600080fd5b61242e83836128a4565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60008282101561297c5761297c61293b565b500390565b60006020828403121561299357600080fd5b8151801515811461242e57600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b600067ffffffffffffffff821115612a1b57612a1b6127ed565b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b60005b83811015612a62578181015183820152602001612a4a565b83811115610eb55750506000910152565b60008060408385031215612a8657600080fd5b825167ffffffffffffffff811115612a9d57600080fd5b8301601f81018513612aae57600080fd5b8051612ac1612abc82612a01565b612846565b818152866020838501011115612ad657600080fd5b612ae7826020830160208601612a47565b8094505050506020830151612afb81612563565b809150509250929050565b600181815b80851115612b5f57817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04821115612b4557612b4561293b565b80851615612b5257918102915b93841c9390800290612b0b565b509250929050565b600082612b7657506001612032565b81612b8357506000612032565b8160018114612b995760028114612ba357612bbf565b6001915050612032565b60ff841115612bb457612bb461293b565b50506001821b612032565b5060208310610133831016604e8410600b8410161715612be2575081810a612032565b612bec8383612b06565b807fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04821115612c1e57612c1e61293b565b029392505050565b600061242e8383612b67565b8051612c3d81612563565b919050565b600060208284031215612c5457600080fd5b815161242e81612563565b60008251612c71818460208701612a47565b9190910192915050565b6000806000806000806101408789031215612c9557600080fd5b8635612ca081612563565b9550602087013594506040870135935060608701359250608087013567ffffffffffffffff811115612cd157600080fd5b8701601f81018913612ce257600080fd5b8035612cf0612abc82612a01565b8181528a6020838501011115612d0557600080fd5b81602084016020830137600060208383010152809450505050612d2b8860a089016128a4565b90509295509295509295565b600060208284031215612d4957600080fd5b6040516020810181811067ffffffffffffffff82111715612d6c57612d6c6127ed565b6040529151825250919050565b80516fffffffffffffffffffffffffffffffff81168114612c3d57600080fd5b805164ffffffffff81168114612c3d57600080fd5b805161ffff81168114612c3d57600080fd5b60006101e08284031215612dd357600080fd5b612ddb61281c565b612de58484612d37565b8152612df360208401612d79565b6020820152612e0460408401612d79565b6040820152612e1560608401612d79565b6060820152612e2660808401612d79565b6080820152612e3760a08401612d79565b60a0820152612e4860c08401612d99565b60c0820152612e5960e08401612dae565b60e0820152610100612e6c818501612c32565b90820152610120612e7e848201612c32565b90820152610140612e90848201612c32565b90820152610160612ea2848201612c32565b90820152610180612eb4848201612d79565b908201526101a0612ec6848201612d79565b908201526101c0612ed8848201612d79565b908201529392505050565b600060208284031215612ef557600080fd5b815161242e81612895565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b600082612f65577f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b50049056fea26469706673582212201ae79dd35f34ecf1387bee8e87022a83fa61b3a7ba8b1ecade15267edadaceb264736f6c634300080a0033";class Re extends O["c"]{constructor(e){super(De,Ie,e)}deploy(e,t,n){return super.deploy(e,t,n||{})}getDeployTransaction(e,t,n){return super.getDeployTransaction(e,t,n||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static createInterface(){return new N["utils"].Interface(De)}static connect(e,t){return new O["b"](e,De,t)}}Re.bytecode=Ie,Re.abi=De;class Me extends U{constructor(e,t){super(e,Re),this.repayWithCollateralAddress=null!==t&&void 0!==t?t:"",this.swapAndRepay=this.swapAndRepay.bind(this)}swapAndRepay({collateralAsset:e,debtAsset:t,collateralAmount:n,debtRepayAmount:a,debtRateMode:r,repayAll:i,permitParams:s,swapAndRepayCallData:o,user:d,augustus:u},l){const c=r===D["b"].Stable?1:2,p=this.getContractInstance(this.repayWithCollateralAddress),f=N["utils"].defaultAbiCoder.encode(["bytes","address"],[o,u]),y=this.generateTxCallback({rawTxMethod:async()=>p.populateTransaction.swapAndRepay(e,t,n,a,c,i?Object(B["g"])(o):0,f,s),from:d});return{tx:y,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(null!==l&&void 0!==l?l:[],y,D["c"].repayCollateral)}}}Object(j["__decorate"])([te,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("collateralAsset")),Object(j["__param"])(0,Object(le["d"])("debtAsset")),Object(j["__param"])(0,Object(le["l"])("collateralAmount")),Object(j["__param"])(0,Object(le["l"])("debtRepayAmount")),Object(j["__param"])(0,Object(le["d"])("augustus")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object,Array]),Object(j["__metadata"])("design:returntype",Object)],Me.prototype,"swapAndRepay",null);class Be{static connect(e,t){return new O["b"](e,Ue,t)}}const Ue=[{inputs:[{internalType:"address",name:"collateralAsset",type:"address"},{internalType:"address",name:"debtAsset",type:"address"},{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"debtRepayAmount",type:"uint256"},{internalType:"uint256",name:"debtRateMode",type:"uint256"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IRepayWithCollateral.PermitSignature",name:"permitSignature",type:"tuple"},{internalType:"bool",name:"useEthPath",type:"bool"}],name:"swapAndRepay",outputs:[],stateMutability:"nonpayable",type:"function"}];class Ne extends U{constructor(e,t){super(e,Be),this.repayWithCollateralAddress=null!==t&&void 0!==t?t:"",this.swapAndRepay=this.swapAndRepay.bind(this)}swapAndRepay({user:e,collateralAsset:t,debtAsset:n,collateralAmount:a,debtRepayAmount:r,debtRateMode:i,permit:s,useEthPath:o},d){const u=i===D["b"].Stable?1:2,l=this.getContractInstance(this.repayWithCollateralAddress),c=this.generateTxCallback({rawTxMethod:async()=>l.populateTransaction.swapAndRepay(t,n,a,r,u,s,null!==o&&void 0!==o&&o),from:e});return{tx:c,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(null!==d&&void 0!==d?d:[],c,D["c"].repayCollateral)}}}Object(j["__decorate"])([te,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("collateralAsset")),Object(j["__param"])(0,Object(le["d"])("debtAsset")),Object(j["__param"])(0,Object(le["l"])("collateralAmount")),Object(j["__param"])(0,Object(le["l"])("debtRepayAmount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object,Array]),Object(j["__metadata"])("design:returntype",Object)],Ne.prototype,"swapAndRepay",null);class Le{static connect(e,t){return new O["b"](e,Fe,t)}}const Fe=[{inputs:[{internalType:"address",name:"account",type:"address"}],name:"transferableSynthetix",outputs:[{internalType:"uint256",name:"transferable",type:"uint256"}],stateMutability:"view",type:"function"}],Ve={[D["a"].mainnet]:"0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f"};class He extends U{constructor(e){super(e,Le),this.synthetixValidation=this.synthetixValidation.bind(this)}async synthetixValidation({user:e,reserve:t,amount:n}){const{chainId:a}=await this.provider.getNetwork();if(Ve[a]&&t.toLowerCase()===Ve[a].toLowerCase()){const t=this.getContractInstance(Ve[a]),r=await t.transferableSynthetix(e);return E["a"].from(n).lte(r)}return!0}}Object(j["__decorate"])([Z,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],He.prototype,"synthetixValidation",null);class We{static connect(e,t){return new O["b"](e,qe,t)}}const qe=[{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approveDelegation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"fromUser",type:"address"},{internalType:"address",name:"toUser",type:"address"}],name:"borrowAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class Ge extends U{constructor(e,t){super(e,We),this.erc20Service=t}approveDelegation({user:e,delegatee:t,debtTokenAddress:n,amount:a}){const r=this.getContractInstance(n),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.approveDelegation(t,a),from:e});return{tx:i,txType:D["d"].ERC20_APPROVAL,gas:this.generateTxPriceEstimation([],i)}}async isDelegationApproved({debtTokenAddress:e,allowanceGiver:t,allowanceReceiver:n,amount:a}){const r=await this.erc20Service.decimalsOf(e),i=this.getContractInstance(e),s=await i.borrowAllowance(t,n),o=E["a"].from(Object(B["l"])(a,r));return s.gt(o)}}Object(j["__decorate"])([Q,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("delegatee")),Object(j["__param"])(0,Object(le["d"])("debtTokenAddress")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Object)],Ge.prototype,"approveDelegation",null),Object(j["__decorate"])([Q,Object(j["__param"])(0,Object(le["d"])("debtTokenAddress")),Object(j["__param"])(0,Object(le["d"])("allowanceGiver")),Object(j["__param"])(0,Object(le["d"])("allowanceReceiver")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ge.prototype,"isDelegationApproved",null);class ze{static connect(e,t){return new O["b"](e,Ye,t)}}const Ye=[{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interesRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"borrowETH",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"depositETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"repayETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"}];class Ke extends U{constructor(e,t,n){super(e,ze),this.erc20Service=t,this.baseDebtTokenService=new Ge(this.provider,this.erc20Service),this.wethGatewayAddress=null!==n&&void 0!==n?n:"",this.depositETH=this.depositETH.bind(this),this.withdrawETH=this.withdrawETH.bind(this),this.repayETH=this.repayETH.bind(this),this.borrowETH=this.borrowETH.bind(this)}depositETH({lendingPool:e,user:t,amount:n,onBehalfOf:a,referralCode:r}){const i=Object(B["l"])(n,18),s=this.getContractInstance(this.wethGatewayAddress),o=this.generateTxCallback({rawTxMethod:async()=>s.populateTransaction.depositETH(e,null!==a&&void 0!==a?a:t,null!==r&&void 0!==r?r:"0"),from:t,value:i});return[{tx:o,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],o)}]}async borrowETH({lendingPool:e,user:t,amount:n,debtTokenAddress:a,interestRateMode:r,referralCode:i}){const s=[],o=Object(B["l"])(n,18),d=r===D["b"].Variable?2:1,u=await this.baseDebtTokenService.isDelegationApproved({debtTokenAddress:a,allowanceGiver:t,allowanceReceiver:this.wethGatewayAddress,amount:n});if(!u){const e=this.baseDebtTokenService.approveDelegation({user:t,delegatee:this.wethGatewayAddress,debtTokenAddress:a,amount:N["constants"].MaxUint256.toString()});s.push(e)}const l=this.getContractInstance(this.wethGatewayAddress),c=this.generateTxCallback({rawTxMethod:async()=>l.populateTransaction.borrowETH(e,o,d,null!==i&&void 0!==i?i:"0"),from:t});return s.push({tx:c,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(s,c,D["c"].borrowETH)}),s}async withdrawETH({lendingPool:e,user:t,amount:n,onBehalfOf:a,aTokenAddress:r}){const i=[],{isApproved:s,approve:o}=this.erc20Service,d="-1"===n?N["constants"].MaxUint256.toString():Object(B["l"])(n,18),u=await s({token:r,user:t,spender:this.wethGatewayAddress,amount:n});if(!u){const e=o({user:t,token:r,spender:this.wethGatewayAddress,amount:N["constants"].MaxUint256.toString()});i.push(e)}const l=this.getContractInstance(this.wethGatewayAddress),c=this.generateTxCallback({rawTxMethod:async()=>l.populateTransaction.withdrawETH(e,d,null!==a&&void 0!==a?a:t),from:t});return i.push({tx:c,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(i,c,D["c"].withdrawETH)}),i}repayETH({lendingPool:e,user:t,amount:n,interestRateMode:a,onBehalfOf:r}){const i=Object(B["l"])(n,18),s=a===D["b"].Variable?2:1,o=this.getContractInstance(this.wethGatewayAddress),d=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.repayETH(e,i,s,null!==r&&void 0!==r?r:t),gasSurplus:30,from:t,value:i});return[{tx:d,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],d)}]}}Object(j["__decorate"])([ie,Object(j["__param"])(0,Object(le["d"])("lendingPool")),Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__param"])(0,Object(le["a"])("referralCode")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Array)],Ke.prototype,"depositETH",null),Object(j["__decorate"])([ie,Object(j["__param"])(0,Object(le["d"])("lendingPool")),Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__param"])(0,Object(le["d"])("debtTokenAddress")),Object(j["__param"])(0,Object(le["a"])("referralCode")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ke.prototype,"borrowETH",null),Object(j["__decorate"])([ie,Object(j["__param"])(0,Object(le["d"])("lendingPool")),Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__param"])(0,Object(le["n"])("amount")),Object(j["__param"])(0,Object(le["d"])("aTokenAddress")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ke.prototype,"withdrawETH",null),Object(j["__decorate"])([ie,Object(j["__param"])(0,Object(le["d"])("lendingPool")),Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Array)],Ke.prototype,"repayETH",null);class $e{static connect(e,t){return new O["b"](e,Je,t)}}const Je=[{inputs:[],name:"FLASHLOAN_PREMIUM_TOTAL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"borrow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"modes",type:"uint256[]"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"bytes",name:"params",type:"bytes"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"flashLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"collateral",type:"address"},{internalType:"address",name:"reserve",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"purchaseAmount",type:"uint256"},{internalType:"bool",name:"receiveAToken",type:"bool"}],name:"liquidationCall",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"repay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"bool",name:"useAsCollateral",type:"bool"}],name:"setUserUseReserveAsCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"rateMode",type:"uint256"}],name:"swapBorrowRateMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],Qe=(e,t,n,a,r,i,s,o,d,u)=>N["utils"].defaultAbiCoder.encode(["address","uint256","uint256","bytes","address","tuple(uint256,uint256,uint8,bytes32,bytes32)"],[e,t,n,a,r,[i,s,o,d,u]]);class Ze extends U{constructor(e,t){super(e,$e);const{LENDING_POOL:n,FLASH_LIQUIDATION_ADAPTER:a,REPAY_WITH_COLLATERAL_ADAPTER:r,SWAP_COLLATERAL_ADAPTER:i,WETH_GATEWAY:s}=null!==t&&void 0!==t?t:{};this.lendingPoolAddress=null!==n&&void 0!==n?n:"",this.flashLiquidationAddress=null!==a&&void 0!==a?a:"",this.swapCollateralAddress=null!==i&&void 0!==i?i:"",this.repayWithCollateralAddress=null!==r&&void 0!==r?r:"",this.erc20Service=new xe(e),this.synthetixService=new He(e),this.wethGatewayService=new Ke(e,this.erc20Service,s),this.liquiditySwapAdapterService=new Ee(e,i),this.repayWithCollateralAdapterService=new Ne(e,r),this.paraswapRepayWithCollateralAdapterService=new Me(e,r)}async deposit({user:e,reserve:t,amount:n,onBehalfOf:a,referralCode:r}){if(t.toLowerCase()===B["a"].toLowerCase())return this.wethGatewayService.depositETH({lendingPool:this.lendingPoolAddress,user:e,amount:n,onBehalfOf:a,referralCode:r});const{isApproved:i,approve:s,decimalsOf:o}=this.erc20Service,d=[],u=await o(t),l=Object(B["l"])(n,u),c=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:l});if(!c)throw new Error("Not enough funds to execute operation");const p=await i({token:t,user:e,spender:this.lendingPoolAddress,amount:n});if(!p){const n=s({user:e,token:t,spender:this.lendingPoolAddress,amount:B["b"]});d.push(n)}const f=this.getContractInstance(this.lendingPoolAddress),y=this.generateTxCallback({rawTxMethod:async()=>f.populateTransaction.deposit(t,l,null!==a&&void 0!==a?a:e,null!==r&&void 0!==r?r:"0"),from:e,value:Object(B["j"])(t,l)});return d.push({tx:y,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,y,D["c"].deposit)}),d}async withdraw({user:e,reserve:t,amount:n,onBehalfOf:a,aTokenAddress:r}){if(t.toLowerCase()===B["a"].toLowerCase()){if(!r)throw new Error("To withdraw ETH you need to pass the aWETH token address");return this.wethGatewayService.withdrawETH({lendingPool:this.lendingPoolAddress,user:e,amount:n,onBehalfOf:a,aTokenAddress:r})}const{decimalsOf:i}=this.erc20Service,s=await i(t),o="-1"===n?N["constants"].MaxUint256.toString():Object(B["l"])(n,s),d=this.getContractInstance(this.lendingPoolAddress),u=this.generateTxCallback({rawTxMethod:async()=>d.populateTransaction.withdraw(t,o,null!==a&&void 0!==a?a:e),from:e,action:D["c"].withdraw});return[{tx:u,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],u,D["c"].withdraw)}]}async borrow({user:e,reserve:t,amount:n,interestRateMode:a,debtTokenAddress:r,onBehalfOf:i,referralCode:s}){if(t.toLowerCase()===B["a"].toLowerCase()){if(!r)throw new Error("To borrow ETH you need to pass the stable or variable WETH debt Token Address corresponding the interestRateMode");return this.wethGatewayService.borrowETH({lendingPool:this.lendingPoolAddress,user:e,amount:n,debtTokenAddress:r,interestRateMode:a,referralCode:s})}const{decimalsOf:o}=this.erc20Service,d=await o(t),u=Object(B["l"])(n,d),l=a===D["b"].Variable?2:1,c=this.getContractInstance(this.lendingPoolAddress),p=this.generateTxCallback({rawTxMethod:async()=>c.populateTransaction.borrow(t,u,l,null!==s&&void 0!==s?s:0,null!==i&&void 0!==i?i:e),from:e});return[{tx:p,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],p)}]}async repay({user:e,reserve:t,amount:n,interestRateMode:a,onBehalfOf:r}){if(t.toLowerCase()===B["a"].toLowerCase())return this.wethGatewayService.repayETH({lendingPool:this.lendingPoolAddress,user:e,amount:n,interestRateMode:a,onBehalfOf:r});const i=[],{isApproved:s,approve:o,decimalsOf:d}=this.erc20Service,u=this.getContractInstance(this.lendingPoolAddress),{populateTransaction:l}=u,c=a===D["b"].Variable?2:1,p=await d(t),f="-1"===n?N["constants"].MaxUint256.toString():Object(B["l"])(n,p);if("-1"!==n){const n=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:f});if(!n)throw new Error("Not enough funds to execute operation")}const y=await s({token:t,user:e,spender:this.lendingPoolAddress,amount:n});if(!y){const n=o({user:e,token:t,spender:this.lendingPoolAddress,amount:B["b"]});i.push(n)}const m=this.generateTxCallback({rawTxMethod:async()=>l.repay(t,f,c,null!==r&&void 0!==r?r:e),from:e,value:Object(B["j"])(t,f)});return i.push({tx:m,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(i,m,D["c"].repay)}),i}swapBorrowRateMode({user:e,reserve:t,interestRateMode:n}){const a=n===D["b"].Variable?2:1,r=this.getContractInstance(this.lendingPoolAddress),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.swapBorrowRateMode(t,a),from:e});return[{txType:D["d"].DLP_ACTION,tx:i,gas:this.generateTxPriceEstimation([],i)}]}setUsageAsCollateral({user:e,reserve:t,usageAsCollateral:n}){const a=this.getContractInstance(this.lendingPoolAddress),r=this.generateTxCallback({rawTxMethod:async()=>a.populateTransaction.setUserUseReserveAsCollateral(t,n),from:e});return[{tx:r,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],r)}]}async liquidationCall({liquidator:e,liquidatedUser:t,debtReserve:n,collateralReserve:a,purchaseAmount:r,getAToken:i,liquidateAll:s}){const o=[],{isApproved:d,approve:u,decimalsOf:l}=this.erc20Service,c=await d({token:n,user:e,spender:this.lendingPoolAddress,amount:r});if(!c){const t=u({user:e,token:n,spender:this.lendingPoolAddress,amount:B["b"]});o.push(t)}let p=N["constants"].MaxUint256.toString();if(!s){const e=await l(n);p=Object(B["l"])(r,e)}const f=this.getContractInstance(this.lendingPoolAddress),y=this.generateTxCallback({rawTxMethod:async()=>f.populateTransaction.liquidationCall(a,n,t,p,null!==i&&void 0!==i&&i),from:e,value:Object(B["j"])(n,p)});return o.push({tx:y,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(o,y,D["c"].liquidationCall)}),o}async swapCollateral({user:e,flash:t,fromAsset:n,fromAToken:a,toAsset:r,fromAmount:i,minToAmount:s,permitSignature:o,swapAll:d,onBehalfOf:u,referralCode:l,augustus:c,swapCallData:p}){const f=[],y=null!==o&&void 0!==o?o:{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},m=await this.erc20Service.isApproved({token:a,user:e,spender:this.swapCollateralAddress,amount:i});if(!m){const t=this.erc20Service.approve({user:e,token:a,spender:this.swapCollateralAddress,amount:N["constants"].MaxUint256.toString()});f.push(t)}const b=await this.erc20Service.decimalsOf(n),h=Object(B["l"])(i,b),T=await this.erc20Service.decimalsOf(r),g=Object(B["l"])(s,T),v=this.getContractInstance(this.lendingPoolAddress);if(t){const t=Qe(r,g,d?Pe(p):0,p,c,y.amount,y.deadline,y.v,y.r,y.s),a=(Number(i)+Number(i)*Number(B["f"])/100).toString(),s=Object(B["l"])(a,b),o=this.generateTxCallback({rawTxMethod:async()=>v.populateTransaction.flashLoan(this.swapCollateralAddress,[n],d?[s]:[h],[0],null!==u&&void 0!==u?u:e,t,null!==l&&void 0!==l?l:"0"),from:e});return f.push({tx:o,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(f,o,D["c"].swapCollateral)}),f}const w=this.liquiditySwapAdapterService.swapAndDeposit({user:e,assetToSwapFrom:n,assetToSwapTo:r,amountToSwap:h,minAmountToReceive:g,swapAll:d,swapCallData:p,augustus:c,permitParams:y},f);return f.push(w),f}async repayWithCollateral({user:e,fromAsset:t,fromAToken:n,assetToRepay:a,repayWithAmount:r,repayAmount:i,permitSignature:s,repayAllDebt:o,rateMode:d,onBehalfOf:u,referralCode:l,flash:c,useEthPath:p}){const f=[],y=null!==s&&void 0!==s?s:{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},m=await this.erc20Service.isApproved({token:n,user:e,spender:this.repayWithCollateralAddress,amount:r});if(!m){const t=this.erc20Service.approve({user:e,token:n,spender:this.repayWithCollateralAddress,amount:N["constants"].MaxUint256.toString()});f.push(t)}const b=await this.erc20Service.decimalsOf(t),h=Object(B["l"])(r,b),T=(Number(i)+Number(i)*Number(B["f"])/100).toString(),g=await this.erc20Service.decimalsOf(a),v=o?Object(B["l"])(T,g):Object(B["l"])(i,g),w=d===D["b"].Stable?1:2;if(c){const n=N["utils"].defaultAbiCoder.encode(["address","uint256","uint256","uint256","uint256","uint8","bytes32","bytes32","bool"],[t,h,w,y.amount,y.deadline,y.v,y.r,y.s,null!==p&&void 0!==p&&p]),r=this.getContractInstance(this.lendingPoolAddress),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.flashLoan(this.repayWithCollateralAddress,[a],[v],[0],null!==u&&void 0!==u?u:e,n,null!==l&&void 0!==l?l:"0"),from:e});return f.push({tx:i,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(f,i,D["c"].repayCollateral)}),f}const _=this.repayWithCollateralAdapterService.swapAndRepay({user:e,collateralAsset:t,debtAsset:a,collateralAmount:h,debtRepayAmount:v,debtRateMode:d,permit:y,useEthPath:p},f);return f.push(_),f}async paraswapRepayWithCollateral({user:e,fromAsset:t,fromAToken:n,assetToRepay:a,repayWithAmount:r,repayAmount:i,permitSignature:s,repayAllDebt:o,rateMode:d,onBehalfOf:u,referralCode:l,flash:c,swapAndRepayCallData:p,augustus:f}){const y=[],m=null!==s&&void 0!==s?s:{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},b=await this.erc20Service.isApproved({token:n,user:e,spender:this.repayWithCollateralAddress,amount:r});if(!b){const t=this.erc20Service.approve({user:e,token:n,spender:this.repayWithCollateralAddress,amount:N["constants"].MaxUint256.toString()});y.push(t)}const h=await this.erc20Service.decimalsOf(t),T=Object(B["l"])(r,h),g=(Number(r)+Number(r)*Number(B["f"])/100).toString(),v=Object(B["l"])(g,h),w=await this.erc20Service.decimalsOf(a),_=Object(B["l"])(i,w),O=d===D["b"].Stable?1:2;if(c){const n=N["utils"].defaultAbiCoder.encode(["bytes","address"],[p,f]),r=N["utils"].defaultAbiCoder.encode(["address","uint256","uint256","uint256","bytes","uint256","uint256","uint8","bytes32","bytes32"],[a,_,o?Object(B["g"])(p):0,O,n,m.amount,m.deadline,m.v,m.r,m.s]),i=this.getContractInstance(this.lendingPoolAddress),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.flashLoan(this.repayWithCollateralAddress,[t],o?[v]:[T],[0],null!==u&&void 0!==u?u:e,r,null!==l&&void 0!==l?l:"0"),from:e});return y.push({tx:s,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(y,s,D["c"].repayCollateral)}),y}const A=this.paraswapRepayWithCollateralAdapterService.swapAndRepay({user:e,collateralAsset:t,debtAsset:a,collateralAmount:T,debtRepayAmount:_,debtRateMode:d,permitParams:m,repayAll:null!==o&&void 0!==o&&o,swapAndRepayCallData:p,augustus:f},y);return y.push(A),y}async flashLiquidation({user:e,collateralAsset:t,borrowedAsset:n,debtTokenCover:a,liquidateAll:r,initiator:i,useEthPath:s}){const o=e=>(Number(e)+Number(e)*Number(e)/100).toString(),d=[],u=this.getContractInstance(this.lendingPoolAddress),l=await this.erc20Service.decimalsOf(n),c=Object(B["l"])(a,l),p=r?N["constants"].MaxUint256.toString():c,f=r?Object(B["l"])(o(a),l):c,y=N["utils"].defaultAbiCoder.encode(["address","address","address","uint256","bool"],[t,n,e,p,null!==s&&void 0!==s&&s]),m=this.generateTxCallback({rawTxMethod:async()=>u.populateTransaction.flashLoan(this.flashLiquidationAddress,[n],[f],[0],i,y,"0"),from:i});return d.push({tx:m,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,m,D["c"].liquidationFlash)}),d}}Object(j["__decorate"])([z,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ze.prototype,"deposit",null),Object(j["__decorate"])([z,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["n"])("amount")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__param"])(0,Object(le["d"])("aTokenAddress")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ze.prototype,"withdraw",null),Object(j["__decorate"])([z,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__param"])(0,Object(le["d"])("debtTokenAddress")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ze.prototype,"borrow",null),Object(j["__decorate"])([z,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["n"])("amount")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ze.prototype,"repay",null),Object(j["__decorate"])([z,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Array)],Ze.prototype,"swapBorrowRateMode",null),Object(j["__decorate"])([z,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Array)],Ze.prototype,"setUsageAsCollateral",null),Object(j["__decorate"])([z,Object(j["__param"])(0,Object(le["d"])("liquidator")),Object(j["__param"])(0,Object(le["d"])("liquidatedUser")),Object(j["__param"])(0,Object(le["d"])("debtReserve")),Object(j["__param"])(0,Object(le["d"])("collateralReserve")),Object(j["__param"])(0,Object(le["l"])("purchaseAmount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ze.prototype,"liquidationCall",null),Object(j["__decorate"])([W,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("fromAsset")),Object(j["__param"])(0,Object(le["d"])("fromAToken")),Object(j["__param"])(0,Object(le["d"])("toAsset")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__param"])(0,Object(le["d"])("augustus")),Object(j["__param"])(0,Object(le["l"])("fromAmount")),Object(j["__param"])(0,Object(le["l"])("minToAmount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ze.prototype,"swapCollateral",null),Object(j["__decorate"])([H,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("fromAsset")),Object(j["__param"])(0,Object(le["d"])("fromAToken")),Object(j["__param"])(0,Object(le["d"])("assetToRepay")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__param"])(0,Object(le["l"])("repayWithAmount")),Object(j["__param"])(0,Object(le["l"])("repayAmount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ze.prototype,"repayWithCollateral",null),Object(j["__decorate"])([H,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("fromAsset")),Object(j["__param"])(0,Object(le["d"])("fromAToken")),Object(j["__param"])(0,Object(le["d"])("assetToRepay")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__param"])(0,Object(le["l"])("repayWithAmount")),Object(j["__param"])(0,Object(le["l"])("repayAmount")),Object(j["__param"])(0,Object(le["d"])("augustus")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ze.prototype,"paraswapRepayWithCollateral",null),Object(j["__decorate"])([F,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("collateralAsset")),Object(j["__param"])(0,Object(le["d"])("borrowedAsset")),Object(j["__param"])(0,Object(le["l"])("debtTokenCover")),Object(j["__param"])(0,Object(le["d"])("initiator")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ze.prototype,"flashLiquidation",null);class Xe{static connect(e,t){return new O["b"](e,et,t)}}const et=[{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"getMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"}];class tt extends U{constructor(e,t){super(e,Xe),this.faucetAddress=null!==t&&void 0!==t?t:""}mint({userAddress:e,reserve:t,tokenSymbol:n}){const a=B["k"][n];if(!a)return console.log("No amount predefined for minting for token : "+n),[];const r=this.getContractInstance(this.faucetAddress),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.mint(t,a),from:e,value:B["c"]});return[{tx:i,txType:D["d"].FAUCET_MINT,gas:this.generateTxPriceEstimation([],i)}]}}Object(j["__decorate"])([re,Object(j["__param"])(0,Object(le["d"])("userAddress")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Array)],tt.prototype,"mint",null);class nt{static connect(e,t){return new O["b"](e,at,t)}}const at=[{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"}];class rt{static connect(e,t){return new O["b"](e,it,t)}}const it=[{inputs:[],name:"REWARD_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"STAKED_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cooldown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"}];class st extends U{constructor(e,t){var n;super(e,rt),this.erc20Service=new xe(e),this.stakingContractAddress=t.TOKEN_STAKING_ADDRESS,this.stakingHelperContractAddress=null!==(n=t.STAKING_HELPER_ADDRESS)&&void 0!==n?n:"",""!==this.stakingHelperContractAddress&&(this.stakingHelperContract=nt.connect(this.stakingHelperContractAddress,e))}async signStaking(e,t,n){const{getTokenData:a}=this.erc20Service,r=this.getContractInstance(this.stakingContractAddress),i=await r.STAKED_TOKEN(),{name:s,decimals:o}=await a(i),d=Object(B["l"])(t,o),{chainId:u}=await this.provider.getNetwork(),l={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},primaryType:"Permit",domain:{name:s,version:"1",chainId:u,verifyingContract:i},message:{owner:e,spender:this.stakingHelperContractAddress,value:d,nonce:n,deadline:N["constants"].MaxUint256.toString()}};return JSON.stringify(l)}async stakeWithPermit(e,t,n){const a=[],{decimalsOf:r}=this.erc20Service,i=this.getContractInstance(this.stakingContractAddress),s=await i.STAKED_TOKEN(),o=await r(s),d=Object(B["l"])(t,o),u=N["utils"].splitSignature(n),l=this.generateTxCallback({rawTxMethod:async()=>this.stakingHelperContract.populateTransaction.stake(e,d,u.v,u.r,u.s),from:e});return a.push({tx:l,txType:D["d"].STAKE_ACTION,gas:this.generateTxPriceEstimation(a,l)}),a}async stake(e,t,n){const a=[],{decimalsOf:r,isApproved:i,approve:s}=this.erc20Service,o=this.getContractInstance(this.stakingContractAddress),d=await o.STAKED_TOKEN(),u=await r(d),l=Object(B["l"])(t,u),c=await i({token:d,user:e,spender:this.stakingContractAddress,amount:t});if(!c){const t=s({user:e,token:d,spender:this.stakingContractAddress,amount:B["b"]});a.push(t)}console.log(o);const p=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.stake(null!==n&&void 0!==n?n:e,l),from:e});return a.push({tx:p,txType:D["d"].STAKE_ACTION,gas:this.generateTxPriceEstimation(a,p)}),a}async redeem(e,t){let n;const a=this.getContractInstance(this.stakingContractAddress);if("-1"===t)n=N["constants"].MaxUint256.toString();else{const{decimalsOf:e}=this.erc20Service,r=await a.STAKED_TOKEN(),i=await e(r);n=Object(B["l"])(t,i)}const r=this.generateTxCallback({rawTxMethod:async()=>a.populateTransaction.redeem(e,n),from:e,gasSurplus:20});return[{tx:r,txType:D["d"].STAKE_ACTION,gas:this.generateTxPriceEstimation([],r)}]}cooldown(e){const t=this.getContractInstance(this.stakingContractAddress),n=this.generateTxCallback({rawTxMethod:async()=>t.populateTransaction.cooldown(),from:e});return[{tx:n,txType:D["d"].STAKE_ACTION,gas:this.generateTxPriceEstimation([],n)}]}async claimRewards(e,t){let n;const a=this.getContractInstance(this.stakingContractAddress);if("-1"===t)n=N["constants"].MaxUint256.toString();else{const{decimalsOf:e}=this.erc20Service,r=await a.REWARD_TOKEN(),i=await e(r);n=Object(B["l"])(t,i)}const r=this.generateTxCallback({rawTxMethod:async()=>a.populateTransaction.claimRewards(e,n),from:e,gasSurplus:20});return[{tx:r,txType:D["d"].STAKE_ACTION,gas:this.generateTxPriceEstimation([],r)}]}}Object(j["__decorate"])([ae,Object(j["__param"])(0,Object(le["d"])()),Object(j["__param"])(1,Object(le["l"])()),Object(j["__param"])(2,Object(le["a"])()),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[String,String,String]),Object(j["__metadata"])("design:returntype",Promise)],st.prototype,"signStaking",null),Object(j["__decorate"])([ae,Object(j["__param"])(0,Object(le["d"])()),Object(j["__param"])(1,Object(le["l"])()),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[String,String,Object]),Object(j["__metadata"])("design:returntype",Promise)],st.prototype,"stakeWithPermit",null),Object(j["__decorate"])([ne,Object(j["__param"])(0,Object(le["d"])()),Object(j["__param"])(1,Object(le["l"])()),Object(j["__param"])(2,Object(le["d"])()),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[String,String,String]),Object(j["__metadata"])("design:returntype",Promise)],st.prototype,"stake",null),Object(j["__decorate"])([ne,Object(j["__param"])(0,Object(le["d"])()),Object(j["__param"])(1,Object(le["n"])()),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[String,String]),Object(j["__metadata"])("design:returntype",Promise)],st.prototype,"redeem",null),Object(j["__decorate"])([ne,Object(j["__param"])(0,Object(le["d"])()),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[String]),Object(j["__metadata"])("design:returntype",Array)],st.prototype,"cooldown",null),Object(j["__decorate"])([ne,Object(j["__param"])(0,Object(le["d"])()),Object(j["__param"])(1,Object(le["n"])()),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[String,String]),Object(j["__metadata"])("design:returntype",Promise)],st.prototype,"claimRewards",null);class ot{static connect(e,t){return new O["b"](e,dt,t)}}const dt=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"executor",type:"address"}],name:"ExecutorAuthorized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"executor",type:"address"}],name:"ExecutorUnauthorized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newStrategy",type:"address"},{indexed:!0,internalType:"address",name:"initiatorChange",type:"address"}],name:"GovernanceStrategyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"}],name:"ProposalCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!0,internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{indexed:!1,internalType:"address[]",name:"targets",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"},{indexed:!1,internalType:"string[]",name:"signatures",type:"string[]"},{indexed:!1,internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{indexed:!1,internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{indexed:!1,internalType:"uint256",name:"startBlock",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endBlock",type:"uint256"},{indexed:!1,internalType:"address",name:"strategy",type:"address"},{indexed:!1,internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],name:"ProposalCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorExecution",type:"address"}],name:"ProposalExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"executionTime",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorQueueing",type:"address"}],name:"ProposalQueued",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"voter",type:"address"},{indexed:!1,internalType:"bool",name:"support",type:"bool"},{indexed:!1,internalType:"uint256",name:"votingPower",type:"uint256"}],name:"VoteEmitted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newVotingDelay",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorChange",type:"address"}],name:"VotingDelayChanged",type:"event"},{inputs:[],name:"__abdicate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"executors",type:"address[]"}],name:"authorizeExecutors",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"cancel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],name:"create",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getGovernanceStrategy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGuardian",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalById",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],internalType:"struct IAaveGovernanceV2.ProposalWithoutVotes",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalState",outputs:[{internalType:"enum IAaveGovernanceV2.ProposalState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProposalsCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"address",name:"voter",type:"address"}],name:"getVoteOnProposal",outputs:[{components:[{internalType:"bool",name:"support",type:"bool"},{internalType:"uint248",name:"votingPower",type:"uint248"}],internalType:"struct IAaveGovernanceV2.Vote",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVotingDelay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"executor",type:"address"}],name:"isExecutorAuthorized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"queue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"governanceStrategy",type:"address"}],name:"setGovernanceStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"votingDelay",type:"uint256"}],name:"setVotingDelay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"}],name:"submitVote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"submitVoteBySignature",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"executors",type:"address[]"}],name:"unauthorizeExecutors",outputs:[],stateMutability:"nonpayable",type:"function"}];class ut{static connect(e,t){return new O["b"](e,lt,t)}}const lt=[{inputs:[],name:"AAVE",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"STK_AAVE",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPropositionPowerAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getTotalPropositionSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getTotalVotingSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getVotingPowerAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class ct{static connect(e,t){return new O["b"](e,pt,t)}}const pt=[{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"contract IAaveGovernanceV2",name:"governance",type:"address"}],name:"getProposal",outputs:[{components:[{internalType:"uint256",name:"totalVotingSupply",type:"uint256"},{internalType:"uint256",name:"minimumQuorum",type:"uint256"},{internalType:"uint256",name:"minimumDiff",type:"uint256"},{internalType:"uint256",name:"executionTimeWithGracePeriod",type:"uint256"},{internalType:"uint256",name:"proposalCreated",type:"uint256"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"},{internalType:"enum IAaveGovernanceV2.ProposalState",name:"proposalState",type:"uint8"}],internalType:"struct IGovernanceV2Helper.ProposalStats",name:"proposalStats",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"skip",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"contract IAaveGovernanceV2",name:"governance",type:"address"}],name:"getProposals",outputs:[{components:[{internalType:"uint256",name:"totalVotingSupply",type:"uint256"},{internalType:"uint256",name:"minimumQuorum",type:"uint256"},{internalType:"uint256",name:"minimumDiff",type:"uint256"},{internalType:"uint256",name:"executionTimeWithGracePeriod",type:"uint256"},{internalType:"uint256",name:"proposalCreated",type:"uint256"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"},{internalType:"enum IAaveGovernanceV2.ProposalState",name:"proposalState",type:"uint8"}],internalType:"struct IGovernanceV2Helper.ProposalStats[]",name:"proposalsStats",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address[]",name:"tokens",type:"address[]"}],name:"getTokensPower",outputs:[{components:[{internalType:"uint256",name:"votingPower",type:"uint256"},{internalType:"address",name:"delegatedAddressVotingPower",type:"address"},{internalType:"uint256",name:"propositionPower",type:"uint256"},{internalType:"address",name:"delegatedAddressPropositionPower",type:"address"}],internalType:"struct IGovernanceV2Helper.Power[]",name:"power",type:"tuple[]"}],stateMutability:"view",type:"function"}];var ft,yt;(function(e){e[e["Short"]=0]="Short",e[e["Long"]=1]="Long"})(ft||(ft={})),function(e){e["Pending"]="Pending",e["Canceled"]="Canceled",e["Active"]="Active",e["Failed"]="Failed",e["Succeeded"]="Succeeded",e["Queued"]="Queued",e["Expired"]="Expired",e["Executed"]="Executed"}(yt||(yt={}));const mt=e=>({id:Number(e.id.toString()),creator:e.creator,executor:e.executor,targets:e.targets,values:e.values,signatures:e.signatures,calldatas:e.calldatas,withDelegatecalls:e.withDelegatecalls,startBlock:Number(e.startBlock.toString()),endBlock:Number(e.endBlock.toString()),executionTime:Number(e.executionTime.toString()),forVotes:e.forVotes.toString(),againstVotes:e.againstVotes.toString(),executed:e.executed,canceled:e.canceled,strategy:e.strategy,state:Object.values(yt)[e.proposalState],minimumQuorum:e.minimumQuorum.toString(),minimumDiff:e.minimumDiff.toString(),executionTimeWithGracePeriod:Number(e.executionTimeWithGracePeriod.toString()),proposalCreated:Number(e.proposalCreated.toString()),totalVotingSupply:e.totalVotingSupply.toString(),ipfsHash:e.ipfsHash});class bt extends U{constructor(e,t){var n;super(e,ot),this.aaveGovernanceV2Address=t.GOVERNANCE_ADDRESS,this.aaveGovernanceV2HelperAddress=null!==(n=t.GOVERNANCE_HELPER_ADDRESS)&&void 0!==n?n:""}submitVote({user:e,proposalId:t,support:n}){const a=[],r=this.getContractInstance(this.aaveGovernanceV2Address),i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.submitVote(t,n),from:e});return a.push({tx:i,txType:D["d"].GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(a,i)}),a}async getProposals({skip:e,limit:t}){const n=ct.connect(this.aaveGovernanceV2HelperAddress,this.provider),a=await n.getProposals(e.toString(),t.toString(),this.aaveGovernanceV2Address);return a.map(e=>mt(e))}async getProposal({proposalId:e}){const t=ct.connect(this.aaveGovernanceV2HelperAddress,this.provider),n=await t.getProposal(e,this.aaveGovernanceV2Address);return mt(n)}async getVotingPowerAt({user:e,block:t,strategy:n}){const a=ut.connect(n,this.provider),r=await a.getVotingPowerAt(e,t.toString());return Object(_["formatEther"])(r)}async getTokensPower({user:e,tokens:t}){const n=ct.connect(this.aaveGovernanceV2HelperAddress,this.provider);return n.getTokensPower(e,t)}async getVoteOnProposal({proposalId:e,user:t}){const n=this.getContractInstance(this.aaveGovernanceV2Address);return n.getVoteOnProposal(e,t)}async getProposalsCount(){const e=this.getContractInstance(this.aaveGovernanceV2Address);return(await e.getProposalsCount()).toNumber()}}Object(j["__decorate"])([oe,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["a"])("proposalId")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Array)],bt.prototype,"submitVote",null),Object(j["__decorate"])([se,Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],bt.prototype,"getProposals",null),Object(j["__decorate"])([se,Object(j["__param"])(0,Object(le["a"])("proposalId")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],bt.prototype,"getProposal",null),Object(j["__decorate"])([oe,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],bt.prototype,"getVotingPowerAt",null),Object(j["__decorate"])([se,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["e"])("tokens")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],bt.prototype,"getTokensPower",null),Object(j["__decorate"])([oe,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["a"])("proposalId")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],bt.prototype,"getVoteOnProposal",null),Object(j["__decorate"])([oe,Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[]),Object(j["__metadata"])("design:returntype",Promise)],bt.prototype,"getProposalsCount",null);var ht=n("549e");class Tt{static connect(e,t){return new O["b"](e,gt,t)}}const gt=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!0,internalType:"address",name:"delegatee",type:"address"},{indexed:!1,internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"DelegateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"DelegatedPowerChanged",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"delegateByType",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateByTypeBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getDelegateeByType",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getPowerAtBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getPowerCurrent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"totalSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class vt extends U{constructor(e){super(e,Tt)}async delegate({user:e,delegatee:t,governanceToken:n}){const a=[],r=this.getContractInstance(n),i=await this.getDelegateeAddress(t),s=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.delegate(i),from:e});return a.push({tx:s,txType:D["d"].GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(a,s)}),a}async delegateByType({user:e,delegatee:t,delegationType:n,governanceToken:a}){const r=[],i=this.getContractInstance(a),s=await this.getDelegateeAddress(t),o=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.delegateByType(s,n),from:e});return r.push({tx:o,txType:D["d"].GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(r,o)}),r}async delegateBySig({user:e,delegatee:t,expiry:n,signature:a,governanceToken:r}){const i=[],s=this.getContractInstance(r),o=await this.getNonce({user:e,governanceToken:r}),{v:d,r:u,s:l}=Object(ht["splitSignature"])(a),c=await this.getDelegateeAddress(t),p=this.generateTxCallback({rawTxMethod:async()=>s.populateTransaction.delegateBySig(c,o,n,d,u,l),from:e});return i.push({tx:p,txType:D["d"].GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(i,p)}),i}async delegateByTypeBySig({user:e,delegatee:t,delegationType:n,expiry:a,signature:r,governanceToken:i}){const s=[],o=this.getContractInstance(i),d=await this.getNonce({user:e,governanceToken:i}),{v:u,r:l,s:c}=Object(ht["splitSignature"])(r),p=await this.getDelegateeAddress(t),f=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.delegateByTypeBySig(p,n,d,a,u,l,c),from:e});return s.push({tx:f,txType:D["d"].GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(s,f)}),s}async prepareDelegateSignature({delegatee:e,nonce:t,expiry:n,governanceTokenName:a,governanceToken:r}){const i=await this.getDelegateeAddress(e),{chainId:s}=await this.provider.getNetwork(),o={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Delegate:[{name:"delegatee",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"}]},primaryType:"Delegate",domain:{name:a,chainId:s,verifyingContract:r},message:{delegatee:i,nonce:t,expiry:n}};return JSON.stringify(o)}async prepareDelegateByTypeSignature({delegatee:e,type:t,nonce:n,expiry:a,governanceTokenName:r,governanceToken:i}){const s=await this.getDelegateeAddress(e),{chainId:o}=await this.provider.getNetwork(),d={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],DelegateByType:[{name:"delegatee",type:"address"},{name:"type",type:"uint256"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"}]},primaryType:"DelegateByType",domain:{name:r,chainId:o,verifyingContract:i},message:{delegatee:s,type:t,nonce:n,expiry:a}};return JSON.stringify(d)}async getDelegateeByType({delegator:e,delegationType:t,governanceToken:n}){const a=this.getContractInstance(n);return a.getDelegateeByType(e,t)}async getPowerCurrent({user:e,delegationType:t,governanceToken:n}){const a=this.getContractInstance(n);return(await a.getPowerCurrent(e,t)).toString()}async getPowerAtBlock({user:e,blockNumber:t,delegationType:n,governanceToken:a}){const r=this.getContractInstance(a);return(await r.getPowerAtBlock(e,t,n)).toString()}async getNonce({user:e,governanceToken:t}){const n=this.getContractInstance(t);return(await n._nonces(e)).toString()}async getDelegateeAddress(e){if(Object(B["h"])(e)){const t=await this.provider.resolveName(e);if(!t)throw new Error(`Address: ${e} is not a valid ENS address`);return t}return e}}Object(j["__decorate"])([de,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["i"])("delegatee")),Object(j["__param"])(0,Object(le["d"])("governanceToken")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],vt.prototype,"delegate",null),Object(j["__decorate"])([de,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["i"])("delegatee")),Object(j["__param"])(0,Object(le["d"])("governanceToken")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],vt.prototype,"delegateByType",null),Object(j["__decorate"])([de,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["i"])("delegatee")),Object(j["__param"])(0,Object(le["d"])("governanceToken")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],vt.prototype,"delegateBySig",null),Object(j["__decorate"])([de,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["i"])("delegatee")),Object(j["__param"])(0,Object(le["d"])("governanceToken")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],vt.prototype,"delegateByTypeBySig",null),Object(j["__decorate"])([de,Object(j["__param"])(0,Object(le["i"])("delegatee")),Object(j["__param"])(0,Object(le["d"])("governanceToken")),Object(j["__param"])(0,Object(le["a"])("nonce")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],vt.prototype,"prepareDelegateSignature",null),Object(j["__decorate"])([de,Object(j["__param"])(0,Object(le["i"])("delegatee")),Object(j["__param"])(0,Object(le["d"])("governanceToken")),Object(j["__param"])(0,Object(le["a"])("nonce")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],vt.prototype,"prepareDelegateByTypeSignature",null),Object(j["__decorate"])([de,Object(j["__param"])(0,Object(le["d"])("delegator")),Object(j["__param"])(0,Object(le["d"])("governanceToken")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],vt.prototype,"getDelegateeByType",null),Object(j["__decorate"])([de,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("governanceToken")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],vt.prototype,"getPowerCurrent",null),Object(j["__decorate"])([de,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("governanceToken")),Object(j["__param"])(0,Object(le["l"])("blockNumber")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],vt.prototype,"getPowerAtBlock",null),Object(j["__decorate"])([de,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("governanceToken")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],vt.prototype,"getNonce",null);const wt=[{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"_nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class _t{static createInterface(){return new N["utils"].Interface(wt)}static connect(e,t){return new O["b"](e,wt,t)}}_t.abi=wt;class Ot extends U{constructor(e){super(e,_t),this.getNonce=this.getNonce.bind(this)}async getNonce({token:e,owner:t}){const n=this.getContractInstance(e);let a;try{return a=await n.nonces(t),a.toNumber()}catch(r){}try{return a=await n._nonces(t),a.toNumber()}catch(r){console.log(`Token ${e} does not implement nonces or _nonces method`)}return null}}Object(j["__decorate"])([X,Object(j["__param"])(0,Object(le["d"])("token")),Object(j["__param"])(0,Object(le["d"])("owner")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],Ot.prototype,"getNonce",null);const At=[{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"borrow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args1",type:"bytes32"},{internalType:"bytes32",name:"args2",type:"bytes32"}],name:"liquidationCall",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"rebalanceStableBorrowRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"repay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"repayWithATokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"repayWithPermit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"setUserUseReserveAsCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"supply",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"supplyWithPermit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"swapBorrowRateMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"args",type:"bytes32"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}];class jt{static createInterface(){return new N["utils"].Interface(At)}static connect(e,t){return new O["b"](e,At,t)}}jt.abi=At;const kt=[{inputs:[{internalType:"contract IPool",name:"pool",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"POOL",outputs:[{internalType:"contract IPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"encodeBorrowParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collateralAsset",type:"address"},{internalType:"address",name:"debtAsset",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"debtToCover",type:"uint256"},{internalType:"bool",name:"receiveAToken",type:"bool"}],name:"encodeLiquidationCall",outputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"encodeRebalanceStableBorrowRate",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"encodeRepayParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"encodeRepayWithATokensParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"permitV",type:"uint8"},{internalType:"bytes32",name:"permitR",type:"bytes32"},{internalType:"bytes32",name:"permitS",type:"bytes32"}],name:"encodeRepayWithPermitParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"bool",name:"useAsCollateral",type:"bool"}],name:"encodeSetUserUseReserveAsCollateral",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"encodeSupplyParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"permitV",type:"uint8"},{internalType:"bytes32",name:"permitR",type:"bytes32"},{internalType:"bytes32",name:"permitS",type:"bytes32"}],name:"encodeSupplyWithPermitParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"encodeSwapBorrowRateMode",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"encodeWithdrawParams",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"}],xt="0x60a060405234801561001057600080fd5b5060405161143138038061143183398101604081905261002f91610040565b6001600160a01b0316608052610070565b60006020828403121561005257600080fd5b81516001600160a01b038116811461006957600080fd5b9392505050565b6080516113606100d16000396000818161016b0152818161027e015281816103760152818161043f015281816105180152818161062e0152818161073c015281816107fc0152818161094101528181610a700152610b5501526113606000f3fe608060405234801561001057600080fd5b50600436106100d45760003560e01c806388d5185211610081578063b76398e41161005b578063b76398e414610200578063fc0eed8514610213578063fed63a931461022157600080fd5b806388d51852146101b25780638da7fb18146101da5780639d2ffc1b146101ed57600080fd5b80635cc7bc10116100b25780635cc7bc1014610125578063671a7fae146101385780637535d2461461016657600080fd5b80631a64acf2146100d95780631a8f6dee146100ff5780631fd3479714610112575b600080fd5b6100ec6100e7366004610e66565b610234565b6040519081526020015b60405180910390f35b6100ec61010d366004610eb0565b61032c565b6100ec610120366004610ee9565b6103f5565b6100ec610133366004610ee9565b6104ce565b61014b610146366004610f2b565b6105e0565b604080519384526020840192909252908201526060016100f6565b61018d7f000000000000000000000000000000000000000000000000000000000000000081565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020016100f6565b6101c56101c0366004610fa9565b6106f0565b604080519283526020830191909152016100f6565b6100ec6101e836600461100d565b6108e2565b6100ec6101fb36600461100d565b6108f7565b6100ec61020e366004611042565b610a26565b6100ec61010d366004611084565b61014b61022f3660046110b9565b610b07565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff858116600483015260009182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa1580156102c6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102ea9190611207565b60e081015190915060006102fd87610c5d565b9050600061030a87610d08565b60109290921b60909290921b60989690961b9590950101019695505050505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff838116600483015260009182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa1580156103be573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103e29190611207565b60e00151601084901b0191505092915050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff838116600483015260009182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa158015610487573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104ab9190611207565b60e081015190915060006104be85610d08565b60101b9190910195945050505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff838116600483015260009182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa158015610560573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105849190611207565b60e081015190915060007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff85146105c3576105be85610c5d565b6104be565b5071ffffffffffffffffffffffffffffffff000001949350505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff88811660048301526000918291829182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa158015610676573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061069a9190611207565b60e081015190915060006106ad8c610c5d565b905060006106ba8b610d9b565b905060008a60c01b8260a01b018d60901b018360101b0184019050808a8a97509750975050505050509750975097945050505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8681166004830152600091829182917f0000000000000000000000000000000000000000000000000000000000000000909116906335ea6a75906024016101e060405180830381865afa158015610786573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107aa9190611207565b60e08101516040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff8a8116600483015292935090916000917f0000000000000000000000000000000000000000000000000000000000000000909116906335ea6a75906024016101e060405180830381865afa158015610846573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061086a9190611207565b60e081015190915060007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff89146108a9576108a489610c5d565b6108bb565b6fffffffffffffffffffffffffffffffff5b60109290921b9390930160208a901b019550608087901b0193505050509550959350505050565b60006108ef8484846108f7565b949350505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff848116600483015260009182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa158015610989573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109ad9190611207565b60e081015190915060007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff86146109ec576109e786610c5d565b6109fe565b6fffffffffffffffffffffffffffffffff5b90506000610a0b86610d08565b60901b60109290921b91909101919091019695505050505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff848116600483015260009182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa158015610ab8573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610adc9190611207565b60e08101519091506000610aef86610c5d565b60101b609086901b0191909101925050509392505050565b6040517f35ea6a7500000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff88811660048301526000918291829182917f000000000000000000000000000000000000000000000000000000000000000016906335ea6a75906024016101e060405180830381865afa158015610b9d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bc19190611207565b60e081015190915060007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8c14610c0057610bfb8c610c5d565b610c12565b6fffffffffffffffffffffffffffffffff5b90506000610c1f8c610d08565b90506000610c2c8c610d9b565b60b89b909b1b60989b909b1b9a909a0160909190911b0160109190911b01019b959a50939850939650505050505050565b60006fffffffffffffffffffffffffffffffff821115610d04576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602760248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203160448201527f323820626974730000000000000000000000000000000000000000000000000060648201526084015b60405180910390fd5b5090565b600060ff821115610d04576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602560248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203860448201527f20626974730000000000000000000000000000000000000000000000000000006064820152608401610cfb565b600063ffffffff821115610d04576040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602660248201527f53616665436173743a2076616c756520646f65736e27742066697420696e203360448201527f32206269747300000000000000000000000000000000000000000000000000006064820152608401610cfb565b73ffffffffffffffffffffffffffffffffffffffff81168114610e5357600080fd5b50565b61ffff81168114610e5357600080fd5b60008060008060808587031215610e7c57600080fd5b8435610e8781610e31565b935060208501359250604085013591506060850135610ea581610e56565b939692955090935050565b60008060408385031215610ec357600080fd5b8235610ece81610e31565b91506020830135610ede81610e31565b809150509250929050565b60008060408385031215610efc57600080fd5b8235610f0781610e31565b946020939093013593505050565b803560ff81168114610f2657600080fd5b919050565b600080600080600080600060e0888a031215610f4657600080fd5b8735610f5181610e31565b9650602088013595506040880135610f6881610e56565b945060608801359350610f7d60808901610f15565b925060a0880135915060c0880135905092959891949750929550565b80358015158114610f2657600080fd5b600080600080600060a08688031215610fc157600080fd5b8535610fcc81610e31565b94506020860135610fdc81610e31565b93506040860135610fec81610e31565b92506060860135915061100160808701610f99565b90509295509295909350565b60008060006060848603121561102257600080fd5b833561102d81610e31565b95602085013595506040909401359392505050565b60008060006060848603121561105757600080fd5b833561106281610e31565b925060208401359150604084013561107981610e56565b809150509250925092565b6000806040838503121561109757600080fd5b82356110a281610e31565b91506110b060208401610f99565b90509250929050565b600080600080600080600060e0888a0312156110d457600080fd5b87356110df81610e31565b9650602088013595506040880135945060608801359350610f7d60808901610f15565b6040516101e0810167ffffffffffffffff8111828210171561114d577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60405290565b60006020828403121561116557600080fd5b6040516020810181811067ffffffffffffffff821117156111af577f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040529151825250919050565b80516fffffffffffffffffffffffffffffffff81168114610f2657600080fd5b805164ffffffffff81168114610f2657600080fd5b8051610f2681610e56565b8051610f2681610e31565b60006101e0828403121561121a57600080fd5b611222611102565b61122c8484611153565b815261123a602084016111bc565b602082015261124b604084016111bc565b604082015261125c606084016111bc565b606082015261126d608084016111bc565b608082015261127e60a084016111bc565b60a082015261128f60c084016111dc565b60c08201526112a060e084016111f1565b60e08201526101006112b38185016111fc565b908201526101206112c58482016111fc565b908201526101406112d78482016111fc565b908201526101606112e98482016111fc565b908201526101806112fb8482016111bc565b908201526101a061130d8482016111bc565b908201526101c061131f8482016111bc565b90820152939250505056fea2646970667358221220550a5d1ca13779d56fd6a3f9cf5cee982d93d61310d74a95690bcec9ee75ab4a64736f6c634300080a0033";class Ct extends O["c"]{constructor(...e){1===e.length?super(kt,xt,e[0]):super(...e)}deploy(e,t){return super.deploy(e,t||{})}getDeployTransaction(e,t){return super.getDeployTransaction(e,t||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static createInterface(){return new N["utils"].Interface(kt)}static connect(e,t){return new O["b"](e,kt,t)}}Ct.bytecode=xt,Ct.abi=kt;class St extends U{constructor(e,t){super(e,jt);const{l2PoolAddress:n,encoderAddress:a}=null!==t&&void 0!==t?t:{};this.l2PoolAddress=null!==n&&void 0!==n?n:"",this.encoderAddress=null!==a&&void 0!==a?a:""}async supply({user:e,reserve:t,amount:n,referralCode:a},r){const i=this.getEncoder(),s=await i.encodeSupplyParams(t,n,null!==a&&void 0!==a?a:0),o=this.getContractInstance(this.l2PoolAddress),d=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.supply(s),from:e,value:Object(B["j"])(t,n)});return r.push({tx:d,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(r,d,D["c"].supply)}),r}async supplyWithPermit({user:e,reserve:t,amount:n,deadline:a,referralCode:r,permitR:i,permitS:s,permitV:o},d){const u=this.getEncoder(),l=await u.encodeSupplyWithPermitParams(t,n,null!==r&&void 0!==r?r:0,a,o,i,s),c=this.getContractInstance(this.l2PoolAddress),p=this.generateTxCallback({rawTxMethod:async()=>c.populateTransaction.supplyWithPermit(l[0],i,s),from:e});return d.push({tx:p,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,p)}),d}async withdraw({user:e,reserve:t,amount:n}){const a=this.getEncoder(),r=await a.encodeWithdrawParams(t,n),i=this.getContractInstance(this.l2PoolAddress),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.withdraw(r),from:e,action:D["c"].withdraw});return[{tx:s,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],s,D["c"].supply)}]}async borrow({user:e,reserve:t,amount:n,numericRateMode:a,referralCode:r}){const i=this.getEncoder(),s=await i.encodeBorrowParams(t,n,a,null!==r&&void 0!==r?r:0),o=this.getContractInstance(this.l2PoolAddress),d=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.borrow(s),from:e});return[{tx:d,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],d)}]}async repay({reserve:e,user:t,amount:n,numericRateMode:a},r){const i=this.getEncoder(),s=await i.encodeRepayParams(e,n,a),o=this.getContractInstance(this.l2PoolAddress),d=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.repay(s),from:t,value:Object(B["j"])(e,n)});return r.push({tx:d,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(r,d,D["c"].repay)}),r}async repayWithPermit({user:e,reserve:t,amount:n,numericRateMode:a,permitR:r,permitS:i,permitV:s,deadline:o},d){const u=this.getEncoder(),l=await u.encodeRepayWithPermitParams(t,n,a,o,s,r,i),c=this.getContractInstance(this.l2PoolAddress),p=this.generateTxCallback({rawTxMethod:async()=>c.populateTransaction.repayWithPermit(l[0],r,i),from:e,value:Object(B["j"])(t,n)});return d.push({tx:p,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,p,D["c"].repay)}),d}async repayWithATokens({reserve:e,user:t,amount:n,numericRateMode:a},r){const i=this.getEncoder(),s=await i.encodeRepayWithATokensParams(e,n,a),o=this.getContractInstance(this.l2PoolAddress),d=this.generateTxCallback({rawTxMethod:async()=>o.populateTransaction.repayWithATokens(s),from:t,value:Object(B["j"])(e,n)});return r.push({tx:d,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(r,d,D["c"].repay)}),r}async swapBorrowRateMode({reserve:e,numericRateMode:t,user:n}){const a=this.getEncoder(),r=await a.encodeSwapBorrowRateMode(e,t),i=this.getContractInstance(this.l2PoolAddress),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.swapBorrowRateMode(r),from:n});return[{tx:s,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],s)}]}async setUserUseReserveAsCollateral({reserve:e,usageAsCollateral:t,user:n}){const a=this.getEncoder(),r=await a.encodeSetUserUseReserveAsCollateral(e,t),i=this.getContractInstance(this.l2PoolAddress),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.setUserUseReserveAsCollateral(r),from:n});return[{tx:s,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],s)}]}async liquidationCall({liquidator:e,liquidatedUser:t,debtReserve:n,collateralReserve:a,debtToCover:r,getAToken:i},s){const o=this.getEncoder(),d=await o.encodeLiquidationCall(a,n,t,r,null!==i&&void 0!==i&&i),u=this.getContractInstance(this.l2PoolAddress),l=this.generateTxCallback({rawTxMethod:async()=>u.populateTransaction.liquidationCall(d[0],d[1]),from:e,value:Object(B["j"])(n,r)});return s.push({tx:l,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],l,D["c"].liquidationCall)}),s}getEncoder(){return this.encoderContract||""===this.encoderAddress||(this.encoderContract=Ct.connect(this.encoderAddress,this.provider)),this.encoderContract}}Object(j["__decorate"])([Y,Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object,Array]),Object(j["__metadata"])("design:returntype",Promise)],St.prototype,"supply",null),Object(j["__decorate"])([Y,Object(j["__param"])(0,Object(le["c"])("deadline")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object,Array]),Object(j["__metadata"])("design:returntype",Promise)],St.prototype,"supplyWithPermit",null),Object(j["__decorate"])([Y,Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],St.prototype,"withdraw",null),Object(j["__decorate"])([Y,Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],St.prototype,"borrow",null),Object(j["__decorate"])([Y,Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object,Array]),Object(j["__metadata"])("design:returntype",Promise)],St.prototype,"repay",null),Object(j["__decorate"])([Y,Object(j["__param"])(0,Object(le["c"])("deadline")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object,Array]),Object(j["__metadata"])("design:returntype",Promise)],St.prototype,"repayWithPermit",null),Object(j["__decorate"])([Y,Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object,Array]),Object(j["__metadata"])("design:returntype",Promise)],St.prototype,"repayWithATokens",null),Object(j["__decorate"])([Y,Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],St.prototype,"swapBorrowRateMode",null),Object(j["__decorate"])([Y,Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],St.prototype,"setUserUseReserveAsCollateral",null),Object(j["__decorate"])([Y,Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object,Array]),Object(j["__metadata"])("design:returntype",Promise)],St.prototype,"liquidationCall",null);const Pt=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"backer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"BackUnbacked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"onBehalfOf",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"enum DataTypes.InterestRateMode",name:"interestRateMode",type:"uint8"},{indexed:!1,internalType:"uint256",name:"borrowRate",type:"uint256"},{indexed:!0,internalType:"uint16",name:"referral",type:"uint16"}],name:"Borrow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"target",type:"address"},{indexed:!0,internalType:"address",name:"initiator",type:"address"},{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"enum DataTypes.InterestRateMode",name:"interestRateMode",type:"uint8"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint16",name:"referralCode",type:"uint16"}],name:"FlashLoan",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!1,internalType:"uint256",name:"totalDebt",type:"uint256"}],name:"IsolationModeTotalDebtUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collateralAsset",type:"address"},{indexed:!0,internalType:"address",name:"debtAsset",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"debtToCover",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidatedCollateralAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"liquidator",type:"address"},{indexed:!1,internalType:"bool",name:"receiveAToken",type:"bool"}],name:"LiquidationCall",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"onBehalfOf",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"uint16",name:"referral",type:"uint16"}],name:"MintUnbacked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!1,internalType:"uint256",name:"amountMinted",type:"uint256"}],name:"MintedToTreasury",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"RebalanceStableBorrowRate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"repayer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"bool",name:"useATokens",type:"bool"}],name:"Repay",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!1,internalType:"uint256",name:"liquidityRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stableBorrowRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"variableBorrowRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidityIndex",type:"uint256"},{indexed:!1,internalType:"uint256",name:"variableBorrowIndex",type:"uint256"}],name:"ReserveDataUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"ReserveUsedAsCollateralDisabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"ReserveUsedAsCollateralEnabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"onBehalfOf",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"uint16",name:"referralCode",type:"uint16"}],name:"Supply",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"enum DataTypes.InterestRateMode",name:"interestRateMode",type:"uint8"}],name:"SwapBorrowRateMode",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint8",name:"categoryId",type:"uint8"}],name:"UserEModeSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"reserve",type:"address"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"ADDRESSES_PROVIDER",outputs:[{internalType:"contract IPoolAddressesProvider",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"BRIDGE_PROTOCOL_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FLASHLOAN_PREMIUM_TOTAL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FLASHLOAN_PREMIUM_TO_PROTOCOL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_NUMBER_RESERVES",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_STABLE_RATE_BORROW_SIZE_PERCENT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"fee",type:"uint256"}],name:"backUnbacked",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"borrow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"id",type:"uint8"},{components:[{internalType:"uint16",name:"ltv",type:"uint16"},{internalType:"uint16",name:"liquidationThreshold",type:"uint16"},{internalType:"uint16",name:"liquidationBonus",type:"uint16"},{internalType:"address",name:"priceSource",type:"address"},{internalType:"string",name:"label",type:"string"}],internalType:"struct DataTypes.EModeCategory",name:"config",type:"tuple"}],name:"configureEModeCategory",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"dropReserve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"balanceFromBefore",type:"uint256"},{internalType:"uint256",name:"balanceToBefore",type:"uint256"}],name:"finalizeTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiverAddress",type:"address"},{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"interestRateModes",type:"uint256[]"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"bytes",name:"params",type:"bytes"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"flashLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiverAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"params",type:"bytes"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"flashLoanSimple",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getConfiguration",outputs:[{components:[{internalType:"uint256",name:"data",type:"uint256"}],internalType:"struct DataTypes.ReserveConfigurationMap",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint8",name:"id",type:"uint8"}],name:"getEModeCategoryData",outputs:[{components:[{internalType:"uint16",name:"ltv",type:"uint16"},{internalType:"uint16",name:"liquidationThreshold",type:"uint16"},{internalType:"uint16",name:"liquidationBonus",type:"uint16"},{internalType:"address",name:"priceSource",type:"address"},{internalType:"string",name:"label",type:"string"}],internalType:"struct DataTypes.EModeCategory",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getReserveData",outputs:[{components:[{components:[{internalType:"uint256",name:"data",type:"uint256"}],internalType:"struct DataTypes.ReserveConfigurationMap",name:"configuration",type:"tuple"},{internalType:"uint128",name:"liquidityIndex",type:"uint128"},{internalType:"uint128",name:"currentLiquidityRate",type:"uint128"},{internalType:"uint128",name:"variableBorrowIndex",type:"uint128"},{internalType:"uint128",name:"currentVariableBorrowRate",type:"uint128"},{internalType:"uint128",name:"currentStableBorrowRate",type:"uint128"},{internalType:"uint40",name:"lastUpdateTimestamp",type:"uint40"},{internalType:"uint16",name:"id",type:"uint16"},{internalType:"address",name:"aTokenAddress",type:"address"},{internalType:"address",name:"stableDebtTokenAddress",type:"address"},{internalType:"address",name:"variableDebtTokenAddress",type:"address"},{internalType:"address",name:"interestRateStrategyAddress",type:"address"},{internalType:"uint128",name:"accruedToTreasury",type:"uint128"},{internalType:"uint128",name:"unbacked",type:"uint128"},{internalType:"uint128",name:"isolationModeTotalDebt",type:"uint128"}],internalType:"struct DataTypes.ReserveData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getReserveNormalizedIncome",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getReserveNormalizedVariableDebt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReservesList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserAccountData",outputs:[{internalType:"uint256",name:"totalCollateralBase",type:"uint256"},{internalType:"uint256",name:"totalDebtBase",type:"uint256"},{internalType:"uint256",name:"availableBorrowsBase",type:"uint256"},{internalType:"uint256",name:"currentLiquidationThreshold",type:"uint256"},{internalType:"uint256",name:"ltv",type:"uint256"},{internalType:"uint256",name:"healthFactor",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserConfiguration",outputs:[{components:[{internalType:"uint256",name:"data",type:"uint256"}],internalType:"struct DataTypes.UserConfigurationMap",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserEMode",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"aTokenAddress",type:"address"},{internalType:"address",name:"stableDebtAddress",type:"address"},{internalType:"address",name:"variableDebtAddress",type:"address"},{internalType:"address",name:"interestRateStrategyAddress",type:"address"}],name:"initReserve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"collateralAsset",type:"address"},{internalType:"address",name:"debtAsset",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"debtToCover",type:"uint256"},{internalType:"bool",name:"receiveAToken",type:"bool"}],name:"liquidationCall",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"assets",type:"address[]"}],name:"mintToTreasury",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"mintUnbacked",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"user",type:"address"}],name:"rebalanceStableBorrowRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"repay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"repayWithATokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"permitV",type:"uint8"},{internalType:"bytes32",name:"permitR",type:"bytes32"},{internalType:"bytes32",name:"permitS",type:"bytes32"}],name:"repayWithPermit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"configuration",type:"uint256"}],name:"setConfiguration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"address",name:"rateStrategyAddress",type:"address"}],name:"setReserveInterestRateStrategyAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint8",name:"categoryId",type:"uint8"}],name:"setUserEMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"bool",name:"useAsCollateral",type:"bool"}],name:"setUserUseReserveAsCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"supply",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"permitV",type:"uint8"},{internalType:"bytes32",name:"permitR",type:"bytes32"},{internalType:"bytes32",name:"permitS",type:"bytes32"}],name:"supplyWithPermit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"interestRateMode",type:"uint256"}],name:"swapBorrowRateMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bridgeProtocolFee",type:"uint256"}],name:"updateBridgeProtocolFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"flashLoanPremiumTotal",type:"uint256"},{internalType:"uint256",name:"flashLoanPremiumToProtocol",type:"uint256"}],name:"updateFlashloanPremiums",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"withdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];class Et{static createInterface(){return new N["utils"].Interface(Pt)}static connect(e,t){return new O["b"](e,Pt,t)}}Et.abi=Pt;const Dt=(e,t,n,a,r,i,s,o,d,u)=>N["utils"].defaultAbiCoder.encode(["address","uint256","uint256","bytes","address","tuple(uint256,uint256,uint8,bytes32,bytes32)"],[e,t,n,a,r,[i,s,o,d,u]]);class It extends U{constructor(e,t){super(e,Et);const{POOL:n,FLASH_LIQUIDATION_ADAPTER:a,REPAY_WITH_COLLATERAL_ADAPTER:r,SWAP_COLLATERAL_ADAPTER:i,WETH_GATEWAY:s,L2_ENCODER:o}=null!==t&&void 0!==t?t:{};this.poolAddress=null!==n&&void 0!==n?n:"",this.flashLiquidationAddress=null!==a&&void 0!==a?a:"",this.swapCollateralAddress=null!==i&&void 0!==i?i:"",this.repayWithCollateralAddress=null!==r&&void 0!==r?r:"",this.l2EncoderAddress=null!==o&&void 0!==o?o:"",this.erc20_2612Service=new Ot(e),this.erc20Service=new xe(e),this.synthetixService=new He(e),this.wethGatewayService=new Ke(e,this.erc20Service,s),this.liquiditySwapAdapterService=new Ee(e,i),this.paraswapRepayWithCollateralAdapterService=new Me(e,r),this.l2PoolService=new St(e,{l2PoolAddress:this.poolAddress,encoderAddress:this.l2EncoderAddress})}async deposit({user:e,reserve:t,amount:n,onBehalfOf:a,referralCode:r}){if(t.toLowerCase()===B["a"].toLowerCase())return this.wethGatewayService.depositETH({lendingPool:this.poolAddress,user:e,amount:n,onBehalfOf:a,referralCode:r});const{isApproved:i,approve:s,decimalsOf:o}=this.erc20Service,d=[],u=await o(t),l=Object(B["l"])(n,u),c=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:l});if(!c)throw new Error("Not enough funds to execute operation");const p=await i({token:t,user:e,spender:this.poolAddress,amount:n});if(!p){const n=s({user:e,token:t,spender:this.poolAddress,amount:B["b"]});d.push(n)}const f=this.getContractInstance(this.poolAddress),y=this.generateTxCallback({rawTxMethod:async()=>f.populateTransaction.deposit(t,l,null!==a&&void 0!==a?a:e,null!==r&&void 0!==r?r:"0"),from:e,value:Object(B["j"])(t,l)});return d.push({tx:y,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,y,D["c"].supply)}),d}async supply({user:e,reserve:t,amount:n,onBehalfOf:a,referralCode:r,useOptimizedPath:i}){if(t.toLowerCase()===B["a"].toLowerCase())return this.wethGatewayService.depositETH({lendingPool:this.poolAddress,user:e,amount:n,onBehalfOf:a,referralCode:r});const{isApproved:s,approve:o,decimalsOf:d}=this.erc20Service,u=[],l=await d(t),c=Object(B["l"])(n,l),p=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:c});if(!p)throw new Error("Not enough funds to execute operation");const f=await s({token:t,user:e,spender:this.poolAddress,amount:n});if(!f){const n=o({user:e,token:t,spender:this.poolAddress,amount:B["b"]});u.push(n)}const y=this.getContractInstance(this.poolAddress);if(i)return this.l2PoolService.supply({user:e,reserve:t,amount:c,referralCode:r},u);const m=this.generateTxCallback({rawTxMethod:async()=>y.populateTransaction.supply(t,c,null!==a&&void 0!==a?a:e,null!==r&&void 0!==r?r:"0"),from:e,value:Object(B["j"])(t,c)});return u.push({tx:m,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(u,m,D["c"].supply)}),u}async signERC20Approval({user:e,reserve:t,amount:n,deadline:a}){const{getTokenData:r,isApproved:i}=this.erc20Service,{name:s,decimals:o}=await r(t),d="-1"===n?N["constants"].MaxUint256.toString():Object(B["l"])(n,o),u=await i({token:t,user:e,spender:this.poolAddress,amount:n});if(u)return"";const{chainId:l}=await this.provider.getNetwork(),c=await this.erc20_2612Service.getNonce({token:t,owner:e});if(null===c)return"";const p={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},primaryType:"Permit",domain:{name:s,version:"1",chainId:l,verifyingContract:t},message:{owner:e,spender:this.poolAddress,value:d,nonce:c,deadline:a}};return JSON.stringify(p)}async supplyWithPermit({user:e,reserve:t,onBehalfOf:n,amount:a,referralCode:r,signature:i,useOptimizedPath:s,deadline:o}){const d=[],{decimalsOf:u}=this.erc20Service,l=this.getContractInstance(this.poolAddress),c=await u(t),p=Object(B["l"])(a,c),f=Object(ht["splitSignature"])(i),y=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:p});if(!y)throw new Error("Not enough funds to execute operation");if(s)return this.l2PoolService.supplyWithPermit({user:e,reserve:t,amount:p,referralCode:r,deadline:o,permitV:f.v,permitR:f.r,permitS:f.s},d);const m=this.generateTxCallback({rawTxMethod:async()=>l.populateTransaction.supplyWithPermit(t,p,null!==n&&void 0!==n?n:e,null!==r&&void 0!==r?r:0,o,f.v,f.r,f.s),from:e});return d.push({tx:m,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,m)}),d}async withdraw({user:e,reserve:t,amount:n,onBehalfOf:a,aTokenAddress:r,useOptimizedPath:i}){if(t.toLowerCase()===B["a"].toLowerCase()){if(!r)throw new Error("To withdraw ETH you need to pass the aWETH token address");return this.wethGatewayService.withdrawETH({lendingPool:this.poolAddress,user:e,amount:n,onBehalfOf:a,aTokenAddress:r})}const{decimalsOf:s}=this.erc20Service,o=await s(t),d="-1"===n?N["constants"].MaxUint256.toString():Object(B["l"])(n,o);if(i)return this.l2PoolService.withdraw({user:e,reserve:t,amount:d});const u=this.getContractInstance(this.poolAddress),l=this.generateTxCallback({rawTxMethod:async()=>u.populateTransaction.withdraw(t,d,null!==a&&void 0!==a?a:e),from:e,action:D["c"].withdraw});return[{tx:l,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],l,D["c"].withdraw)}]}async borrow({user:e,reserve:t,amount:n,interestRateMode:a,debtTokenAddress:r,onBehalfOf:i,referralCode:s,useOptimizedPath:o}){if(t.toLowerCase()===B["a"].toLowerCase()){if(!r)throw new Error("To borrow ETH you need to pass the stable or variable WETH debt Token Address corresponding the interestRateMode");return this.wethGatewayService.borrowETH({lendingPool:this.poolAddress,user:e,amount:n,debtTokenAddress:r,interestRateMode:a,referralCode:s})}const{decimalsOf:d}=this.erc20Service,u=await d(t),l=Object(B["l"])(n,u),c=a===D["b"].Variable?2:1;if(o)return this.l2PoolService.borrow({user:e,reserve:t,amount:l,numericRateMode:c,referralCode:s});const p=this.getContractInstance(this.poolAddress),f=this.generateTxCallback({rawTxMethod:async()=>p.populateTransaction.borrow(t,l,c,null!==s&&void 0!==s?s:0,null!==i&&void 0!==i?i:e),from:e});return[{tx:f,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],f)}]}async repay({user:e,reserve:t,amount:n,interestRateMode:a,onBehalfOf:r,useOptimizedPath:i}){if(t.toLowerCase()===B["a"].toLowerCase())return this.wethGatewayService.repayETH({lendingPool:this.poolAddress,user:e,amount:n,interestRateMode:a,onBehalfOf:r});const s=[],{isApproved:o,approve:d,decimalsOf:u}=this.erc20Service,l=this.getContractInstance(this.poolAddress),{populateTransaction:c}=l,p=a===D["b"].Variable?2:1,f=await u(t),y="-1"===n?N["constants"].MaxUint256.toString():Object(B["l"])(n,f);if("-1"!==n){const n=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:y});if(!n)throw new Error("Not enough funds to execute operation")}const m=await o({token:t,user:e,spender:this.poolAddress,amount:n});if(!m){const n=d({user:e,token:t,spender:this.poolAddress,amount:B["b"]});s.push(n)}if(i)return this.l2PoolService.repay({user:e,reserve:t,amount:y,numericRateMode:p},s);const b=this.generateTxCallback({rawTxMethod:async()=>c.repay(t,y,p,null!==r&&void 0!==r?r:e),from:e,value:Object(B["j"])(t,y)});return s.push({tx:b,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(s,b,D["c"].repay)}),s}async repayWithPermit({user:e,reserve:t,amount:n,interestRateMode:a,onBehalfOf:r,signature:i,useOptimizedPath:s,deadline:o}){const d=[],{decimalsOf:u}=this.erc20Service,l=this.getContractInstance(this.poolAddress),{populateTransaction:c}=l,p=a===D["b"].Variable?2:1,f=await u(t),y=N["utils"].splitSignature(i),m="-1"===n?N["constants"].MaxUint256.toString():Object(B["l"])(n,f);if("-1"!==n){const n=await this.synthetixService.synthetixValidation({user:e,reserve:t,amount:m});if(!n)throw new Error("Not enough funds to execute operation")}if(s)return this.l2PoolService.repayWithPermit({user:e,reserve:t,amount:m,numericRateMode:p,deadline:o,permitR:y.r,permitS:y.s,permitV:y.v},d);const b=this.generateTxCallback({rawTxMethod:async()=>c.repayWithPermit(t,m,p,null!==r&&void 0!==r?r:e,o,y.v,y.r,y.s),from:e,value:Object(B["j"])(t,m)});return d.push({tx:b,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,b,D["c"].repay)}),d}async swapBorrowRateMode({user:e,reserve:t,interestRateMode:n,useOptimizedPath:a}){const r=n===D["b"].Variable?2:1;if(a)return this.l2PoolService.swapBorrowRateMode({user:e,reserve:t,numericRateMode:r});const i=this.getContractInstance(this.poolAddress),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.swapBorrowRateMode(t,r),from:e});return[{txType:D["d"].DLP_ACTION,tx:s,gas:this.generateTxPriceEstimation([],s)}]}async setUsageAsCollateral({user:e,reserve:t,usageAsCollateral:n,useOptimizedPath:a}){const r=this.getContractInstance(this.poolAddress);if(a)return this.l2PoolService.setUserUseReserveAsCollateral({user:e,reserve:t,usageAsCollateral:n});const i=this.generateTxCallback({rawTxMethod:async()=>r.populateTransaction.setUserUseReserveAsCollateral(t,n),from:e});return[{tx:i,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],i)}]}async liquidationCall({liquidator:e,liquidatedUser:t,debtReserve:n,collateralReserve:a,purchaseAmount:r,getAToken:i,liquidateAll:s,useOptimizedPath:o}){const d=[],{isApproved:u,approve:l,decimalsOf:c}=this.erc20Service,p=await u({token:n,user:e,spender:this.poolAddress,amount:r});if(!p){const t=l({user:e,token:n,spender:this.poolAddress,amount:B["b"]});d.push(t)}let f=N["constants"].MaxUint256.toString();if(!s){const e=await c(n);f=Object(B["l"])(r,e)}if(o)return this.l2PoolService.liquidationCall({liquidator:e,liquidatedUser:t,debtReserve:n,collateralReserve:a,debtToCover:f,getAToken:i},d);const y=this.getContractInstance(this.poolAddress),m=this.generateTxCallback({rawTxMethod:async()=>y.populateTransaction.liquidationCall(a,n,t,f,null!==i&&void 0!==i&&i),from:e,value:Object(B["j"])(n,f)});return d.push({tx:m,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,m,D["c"].liquidationCall)}),d}async swapCollateral({user:e,flash:t,fromAsset:n,fromAToken:a,toAsset:r,fromAmount:i,minToAmount:s,permitSignature:o,swapAll:d,referralCode:u,augustus:l,swapCallData:c}){const p=[],f=null!==o&&void 0!==o?o:{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},y=await this.erc20Service.isApproved({token:a,user:e,spender:this.swapCollateralAddress,amount:i});if(!y){const t=this.erc20Service.approve({user:e,token:a,spender:this.swapCollateralAddress,amount:N["constants"].MaxUint256.toString()});p.push(t)}const m=await this.erc20Service.decimalsOf(n),b=Object(B["l"])(i,m),h=await this.erc20Service.decimalsOf(r),T=Object(B["l"])(s,h),g=this.getContractInstance(this.poolAddress);if(t){const t=Dt(r,T,d?Pe(c):0,c,l,f.amount,f.deadline,f.v,f.r,f.s),a=(Number(i)+Number(i)*Number(B["f"])/100).toString(),s=Object(B["l"])(a,m),o=this.generateTxCallback({rawTxMethod:async()=>g.populateTransaction.flashLoanSimple(this.swapCollateralAddress,n,d?s:b,t,null!==u&&void 0!==u?u:"0"),from:e});return p.push({tx:o,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(p,o,D["c"].swapCollateral)}),p}const v=this.liquiditySwapAdapterService.swapAndDeposit({user:e,assetToSwapFrom:n,assetToSwapTo:r,amountToSwap:b,minAmountToReceive:T,swapAll:d,swapCallData:c,augustus:l,permitParams:f},p);return p.push(v),p}async paraswapRepayWithCollateral({user:e,fromAsset:t,fromAToken:n,assetToRepay:a,repayWithAmount:r,repayAmount:i,permitSignature:s,repayAllDebt:o,rateMode:d,referralCode:u,flash:l,swapAndRepayCallData:c,augustus:p}){const f=[],y=null!==s&&void 0!==s?s:{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},m=await this.erc20Service.isApproved({token:n,user:e,spender:this.repayWithCollateralAddress,amount:r});if(!m){const t=this.erc20Service.approve({user:e,token:n,spender:this.repayWithCollateralAddress,amount:N["constants"].MaxUint256.toString()});f.push(t)}const b=await this.erc20Service.decimalsOf(t),h=Object(B["l"])(r,b),T=(Number(r)+Number(r)*Number(B["f"])/100).toString(),g=Object(B["l"])(T,b),v=await this.erc20Service.decimalsOf(a),w=Object(B["l"])(i,v),_=d===D["b"].Stable?1:2;if(l){const n=N["utils"].defaultAbiCoder.encode(["bytes","address"],[c,p]),r=N["utils"].defaultAbiCoder.encode(["address","uint256","uint256","uint256","bytes","uint256","uint256","uint8","bytes32","bytes32"],[a,w,o?Object(B["g"])(c):0,_,n,y.amount,y.deadline,y.v,y.r,y.s]),i=this.getContractInstance(this.poolAddress),s=this.generateTxCallback({rawTxMethod:async()=>i.populateTransaction.flashLoanSimple(this.repayWithCollateralAddress,t,o?g:h,r,null!==u&&void 0!==u?u:"0"),from:e});return f.push({tx:s,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(f,s,D["c"].repayCollateral)}),f}const O=this.paraswapRepayWithCollateralAdapterService.swapAndRepay({user:e,collateralAsset:t,debtAsset:a,collateralAmount:h,debtRepayAmount:w,debtRateMode:d,permitParams:y,repayAll:null!==o&&void 0!==o&&o,swapAndRepayCallData:c,augustus:p},f);return f.push(O),f}async flashLiquidation({user:e,collateralAsset:t,borrowedAsset:n,debtTokenCover:a,liquidateAll:r,initiator:i,useEthPath:s}){const o=e=>(Number(e)+Number(e)*Number(e)/100).toString(),d=[],u=this.getContractInstance(this.poolAddress),l=await this.erc20Service.decimalsOf(n),c=Object(B["l"])(a,l),p=r?N["constants"].MaxUint256.toString():c,f=r?Object(B["l"])(o(a),l):c,y=N["utils"].defaultAbiCoder.encode(["address","address","address","uint256","bool"],[t,n,e,p,null!==s&&void 0!==s&&s]),m=this.generateTxCallback({rawTxMethod:async()=>u.populateTransaction.flashLoanSimple(this.flashLiquidationAddress,n,f,y,"0"),from:i});return d.push({tx:m,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(d,m,D["c"].liquidationFlash)}),d}async repayWithATokens({user:e,amount:t,reserve:n,rateMode:a,useOptimizedPath:r}){if(n.toLowerCase()===B["a"].toLowerCase())throw new Error("Can not repay with aTokens with eth. Should be WETH instead");const i=[],{decimalsOf:s}=this.erc20Service,o=this.getContractInstance(this.poolAddress),{populateTransaction:d}=o,u=a===D["b"].Variable?2:1,l=await s(n),c="-1"===t?N["constants"].MaxUint256.toString():Object(B["l"])(t,l);if(r)return this.l2PoolService.repayWithATokens({user:e,reserve:n,amount:c,numericRateMode:u},i);const p=this.generateTxCallback({rawTxMethod:async()=>d.repayWithATokens(n,c,u),from:e,value:Object(B["j"])(n,c)});return i.push({tx:p,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation(i,p,D["c"].repay)}),i}setUserEMode({user:e,categoryId:t}){const n=this.getContractInstance(this.poolAddress),a=this.generateTxCallback({rawTxMethod:async()=>n.populateTransaction.setUserEMode(t),from:e});return[{tx:a,txType:D["d"].DLP_ACTION,gas:this.generateTxPriceEstimation([],a,D["c"].repay)}]}}Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"deposit",null),Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"supply",null),Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["n"])("amount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"signERC20Approval",null),Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__param"])(0,Object(le["l"])("referralCode")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"supplyWithPermit",null),Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["n"])("amount")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__param"])(0,Object(le["d"])("aTokenAddress")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"withdraw",null),Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["l"])("amount")),Object(j["__param"])(0,Object(le["d"])("debtTokenAddress")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"borrow",null),Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["n"])("amount")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"repay",null),Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["n"])("amount")),Object(j["__param"])(0,Object(le["d"])("onBehalfOf")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"repayWithPermit",null),Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"swapBorrowRateMode",null),Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"setUsageAsCollateral",null),Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("liquidator")),Object(j["__param"])(0,Object(le["d"])("liquidatedUser")),Object(j["__param"])(0,Object(le["d"])("debtReserve")),Object(j["__param"])(0,Object(le["d"])("collateralReserve")),Object(j["__param"])(0,Object(le["l"])("purchaseAmount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"liquidationCall",null),Object(j["__decorate"])([G,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("fromAsset")),Object(j["__param"])(0,Object(le["d"])("fromAToken")),Object(j["__param"])(0,Object(le["d"])("toAsset")),Object(j["__param"])(0,Object(le["d"])("augustus")),Object(j["__param"])(0,Object(le["l"])("fromAmount")),Object(j["__param"])(0,Object(le["l"])("minToAmount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"swapCollateral",null),Object(j["__decorate"])([q,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("fromAsset")),Object(j["__param"])(0,Object(le["d"])("fromAToken")),Object(j["__param"])(0,Object(le["d"])("assetToRepay")),Object(j["__param"])(0,Object(le["l"])("repayWithAmount")),Object(j["__param"])(0,Object(le["l"])("repayAmount")),Object(j["__param"])(0,Object(le["d"])("augustus")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"paraswapRepayWithCollateral",null),Object(j["__decorate"])([V,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("collateralAsset")),Object(j["__param"])(0,Object(le["d"])("borrowedAsset")),Object(j["__param"])(0,Object(le["l"])("debtTokenCover")),Object(j["__param"])(0,Object(le["d"])("initiator")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"flashLiquidation",null),Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["d"])("reserve")),Object(j["__param"])(0,Object(le["n"])("amount")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Promise)],It.prototype,"repayWithATokens",null),Object(j["__decorate"])([K,Object(j["__param"])(0,Object(le["d"])("user")),Object(j["__param"])(0,Object(le["a"])("categoryId")),Object(j["__metadata"])("design:type",Function),Object(j["__metadata"])("design:paramtypes",[Object]),Object(j["__metadata"])("design:returntype",Array)],It.prototype,"setUserEMode",null);n("eed8");const Rt=s["BigNumber"].clone({DECIMAL_PLACES:0,ROUNDING_MODE:s["BigNumber"].ROUND_DOWN});function Mt(e){return e instanceof s["BigNumber"]?e:new s["BigNumber"](e)}function Bt(e){return new Rt(e)}function Ut(e,t){return Nt(e,t).toString(10)}function Nt(e,t){return Mt(e).shiftedBy(-1*t)}const Lt=Mt("31536000"),Ft=8,Vt=27,Ht=4,Wt=Bt(10).pow(18),qt=(Wt.dividedBy(2),Bt(10).pow(27)),Gt=qt.dividedBy(2),zt=Bt(10).pow(9);function Yt(e,t){return Gt.plus(Bt(e).multipliedBy(t)).div(qt)}function Kt(e,t){const n=Bt(t).div(2);return n.plus(Bt(e).multipliedBy(qt)).div(t)}function $t(e){const t=Bt(zt).div(2);return t.plus(e).div(zt)}function Jt(e){return Bt(e).multipliedBy(zt).decimalPlaces(0)}function Qt(e,t){let n=Bt(e),a=Bt(t),r=a.modulo(2).eq(0)?Bt(qt):n;for(a=a.div(2);!a.eq(0);a=a.div(2))n=Yt(n,n),a.modulo(2).eq(0)||(r=Yt(r,n));return r}function Zt(e,t){const n=Bt(e),a=Bt(t);if(a.eq(0))return qt;const r=a.minus(1),i=a.gt(2)?a.minus(2):0,s=Yt(n,n),o=Yt(s,n),d=a.multipliedBy(n),u=a.multipliedBy(r).multipliedBy(s).div(2),l=a.multipliedBy(r).multipliedBy(i).multipliedBy(o).div(6);return qt.plus(d).plus(u).plus(l)}function Xt({amount:e,currencyDecimals:t,priceInMarketReferenceCurrency:n,marketReferenceCurrencyDecimals:a,normalizedMarketReferencePriceInUsd:r}){return Mt(e.toString()).multipliedBy(n).multipliedBy(r).dividedBy(new o.a(1).shiftedBy(t+a)).toString()}function en(e,t,n){return e.multipliedBy(t).shiftedBy(-1*n)}function tn({rate:e,currentTimestamp:t,lastUpdateTimestamp:n}){const a=Bt(t-n),r=Bt(e).dividedBy(Lt);return Zt(r,a)}function nn(e,t){const n=an(e,t),a=rn(e,t),r=n.plus(a),i=r.plus(e.availableLiquidity);return{totalVariableDebt:n,totalStableDebt:a,totalDebt:r,totalLiquidity:i}}function an(e,t){return Yt(Yt(e.totalScaledVariableDebt,e.variableBorrowIndex),tn({rate:e.variableBorrowRate,currentTimestamp:t,lastUpdateTimestamp:e.lastUpdateTimestamp}))}function rn(e,t){return Yt(e.totalPrincipalStableDebt,tn({rate:e.averageStableRate,currentTimestamp:t,lastUpdateTimestamp:e.stableDebtLastUpdateTimestamp}))}function sn({reserve:e,currentTimestamp:t}){const{totalDebt:n,totalStableDebt:a,totalVariableDebt:r,totalLiquidity:i}=nn(e,t),s=i.eq(0)?"0":Mt(n).dividedBy(i).toFixed(),d=i.eq(0)?"0":Mt(n).dividedBy(i.plus(e.unbacked)).toFixed(),u=Ut(Mt(e.reserveLiquidationBonus).minus(10**Ht),Ht),l=Ut(Mt(e.eModeLiquidationBonus).minus(10**Ht),Ht),c="0"===e.borrowCap?new o.a(e.availableLiquidity):o.a.min(e.availableLiquidity,new o.a(e.borrowCap).shiftedBy(e.decimals).minus(n.plus(1))),p=Qt(Bt(e.liquidityRate).dividedBy(Lt).plus(qt),Lt).minus(qt),f=Qt(Bt(e.variableBorrowRate).dividedBy(Lt).plus(qt),Lt).minus(qt),y=Qt(Bt(e.stableBorrowRate).dividedBy(Lt).plus(qt),Lt).minus(qt);return{totalDebt:n,totalStableDebt:a,totalVariableDebt:r,totalLiquidity:i,borrowUsageRatio:s,supplyUsageRatio:d,formattedReserveLiquidationBonus:u,formattedEModeLiquidationBonus:l,formattedEModeLiquidationThreshold:e.eModeLiquidationThreshold.toString(),formattedEModeLtv:e.eModeLtv.toString(),supplyAPY:p,variableBorrowAPY:f,stableBorrowAPY:y,formattedAvailableLiquidity:c,unborrowedLiquidity:e.availableLiquidity}}function on({reserve:e}){const t=t=>Ut(t,e.decimals),n="0"!==e.debtCeiling,a=n?Ut(Mt(e.debtCeiling).minus(e.isolationModeTotalDebt),e.debtCeilingDecimals):"0";return Object.assign(Object.assign({},e),{totalVariableDebt:t(e.totalVariableDebt),totalStableDebt:t(e.totalStableDebt),totalLiquidity:t(e.totalLiquidity),formattedAvailableLiquidity:t(e.availableLiquidity),unborrowedLiquidity:t(e.unborrowedLiquidity),borrowUsageRatio:e.borrowUsageRatio,supplyUsageRatio:e.supplyUsageRatio,totalDebt:t(e.totalDebt),formattedBaseLTVasCollateral:Ut(e.baseLTVasCollateral,Ht),formattedEModeLtv:Ut(e.eModeLtv,Ht),reserveFactor:Ut(e.reserveFactor,Ht),supplyAPY:Ut(e.supplyAPY,Vt),supplyAPR:Ut(e.liquidityRate,Vt),variableBorrowAPY:Ut(e.variableBorrowAPY,Vt),variableBorrowAPR:Ut(e.variableBorrowRate,Vt),stableBorrowAPY:Ut(e.stableBorrowAPY,Vt),stableBorrowAPR:Ut(e.stableBorrowRate,Vt),formattedReserveLiquidationThreshold:Ut(e.reserveLiquidationThreshold,4),formattedEModeLiquidationThreshold:Ut(e.eModeLiquidationThreshold,4),formattedReserveLiquidationBonus:Ut(Mt(e.reserveLiquidationBonus).minus(10**Ht),4),formattedEModeLiquidationBonus:Ut(Mt(e.eModeLiquidationBonus).minus(10**Ht),4),totalScaledVariableDebt:t(e.totalScaledVariableDebt),totalPrincipalStableDebt:t(e.totalPrincipalStableDebt),debtCeilingUSD:n?Ut(e.debtCeiling,e.debtCeilingDecimals):"0",isolationModeTotalDebtUSD:n?Ut(e.isolationModeTotalDebt,e.debtCeilingDecimals):"0",availableDebtCeilingUSD:a,isIsolated:n})}function dn({reserve:e,currentTimestamp:t,marketReferencePriceInUsd:n,marketReferenceCurrencyDecimals:a}){const r=Nt(n,Ft),i=sn({reserve:e,currentTimestamp:t}),s=on({reserve:Object.assign(Object.assign({},e),i)});return Object.assign(Object.assign({},s),{totalLiquidityUSD:Xt({amount:i.totalLiquidity,currencyDecimals:e.decimals,marketReferenceCurrencyDecimals:a,priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,normalizedMarketReferencePriceInUsd:r}),availableLiquidityUSD:Xt({amount:i.formattedAvailableLiquidity,currencyDecimals:e.decimals,marketReferenceCurrencyDecimals:a,priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,normalizedMarketReferencePriceInUsd:r}),totalDebtUSD:Xt({amount:i.totalDebt,currencyDecimals:e.decimals,marketReferenceCurrencyDecimals:a,priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,normalizedMarketReferencePriceInUsd:r}),totalVariableDebtUSD:Xt({amount:i.totalVariableDebt,currencyDecimals:e.decimals,marketReferenceCurrencyDecimals:a,priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,normalizedMarketReferencePriceInUsd:r}),totalStableDebtUSD:Xt({amount:i.totalStableDebt,currencyDecimals:e.decimals,marketReferenceCurrencyDecimals:a,priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,normalizedMarketReferencePriceInUsd:r}),formattedPriceInMarketReferenceCurrency:Ut(e.priceInMarketReferenceCurrency,a),priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,priceInUSD:Xt({amount:new o.a(1).shiftedBy(e.decimals),currencyDecimals:e.decimals,marketReferenceCurrencyDecimals:a,priceInMarketReferenceCurrency:e.priceInMarketReferenceCurrency,normalizedMarketReferencePriceInUsd:r}),borrowCapUSD:en(new o.a(e.borrowCap),e.priceInMarketReferenceCurrency,a).toString(),supplyCapUSD:en(new o.a(e.supplyCap),e.priceInMarketReferenceCurrency,a).toString(),unbackedUSD:en(new o.a(e.unbacked),e.priceInMarketReferenceCurrency,a).toString()})}function un({reserves:e,currentTimestamp:t,marketReferencePriceInUsd:n,marketReferenceCurrencyDecimals:a}){return e.map(e=>{const r=dn({reserve:e,currentTimestamp:t,marketReferencePriceInUsd:n,marketReferenceCurrencyDecimals:a});return Object.assign(Object.assign({},e),r)})}function ln({reserve:e,marketReferenceCurrencyDecimals:t}){const{userReserve:n}=e,{reserve:a}=n,r=a.decimals,i=e=>Ut(e,a.decimals),s=Qt(Bt(n.stableBorrowRate).dividedBy(Lt).plus(qt),Lt).minus(qt);return Object.assign(Object.assign({},n),{underlyingBalance:Ut(e.underlyingBalance,r),underlyingBalanceMarketReferenceCurrency:Ut(e.underlyingBalanceMarketReferenceCurrency,t),underlyingBalanceUSD:e.underlyingBalanceUSD.toString(),stableBorrows:i(e.stableBorrows),stableBorrowsMarketReferenceCurrency:Ut(e.stableBorrowsMarketReferenceCurrency,t),stableBorrowsUSD:e.stableBorrowsUSD.toString(),variableBorrows:i(e.variableBorrows),variableBorrowsMarketReferenceCurrency:Ut(e.variableBorrowsMarketReferenceCurrency,t),variableBorrowsUSD:e.variableBorrowsUSD.toString(),totalBorrows:i(e.totalBorrows),totalBorrowsMarketReferenceCurrency:Ut(e.totalBorrowsMarketReferenceCurrency,t),totalBorrowsUSD:e.totalBorrowsUSD.toString(),stableBorrowAPR:Ut(n.stableBorrowRate,Vt),stableBorrowAPY:Ut(s,Vt)})}function cn({rate:e,currentTimestamp:t,lastUpdateTimestamp:n}){const a=Bt(t-n),r=Bt(e).dividedBy(Lt);return Zt(r,a)}function pn({principalBalance:e,reserveIndex:t,reserveRate:n,lastUpdateTimestamp:a,currentTimestamp:r}){const i=Bt(e);if(i.eq("0"))return i;const s=cn({rate:n,currentTimestamp:r,lastUpdateTimestamp:a}),o=Yt(s,t),d=Jt(i);return $t(Yt(d,o))}function fn({rate:e,currentTimestamp:t,lastUpdateTimestamp:n}){const a=Jt(Bt(t-n)),r=Kt(a,Jt(Lt)),i=Yt(e,r).plus(qt);return i}function yn({rate:e,index:t,lastUpdateTimestamp:n,currentTimestamp:a}){if(Bt(e).eq("0"))return Bt(t);const r=fn({rate:e,currentTimestamp:a,lastUpdateTimestamp:n});return Yt(r,t)}function mn({balance:e,index:t,rate:n,lastUpdateTimestamp:a,currentTimestamp:r}){return $t(Yt(Jt(e),yn({rate:n,index:t,lastUpdateTimestamp:a,currentTimestamp:r})))}function bn({principalBalance:e,userStableRate:t,lastUpdateTimestamp:n,currentTimestamp:a}){const r=Bt(e);if(r.eq("0"))return r;const i=cn({rate:t,currentTimestamp:a,lastUpdateTimestamp:n}),s=Jt(r);return $t(Yt(s,i))}function hn({borrowBalanceMarketReferenceCurrency:e,collateralBalanceMarketReferenceCurrency:t,currentLiquidationThreshold:n}){return Mt(e).eq(0)?Mt("-1"):Mt(t).multipliedBy(n).shiftedBy(-1*Ht).div(e)}function Tn({collateralBalanceMarketReferenceCurrency:e,borrowBalanceMarketReferenceCurrency:t,currentLtv:n}){if(Bt(n).eq(0))return Bt("0");const a=Bt(e).multipliedBy(n).shiftedBy(-1*Ht).minus(t);return a.gt("0")?a:Bt("0")}function gn({balance:e,priceInMarketReferenceCurrency:t,marketReferenceCurrencyDecimals:n,decimals:a,marketReferencePriceInUsdNormalized:r}){const i=Bt(e).multipliedBy(t).shiftedBy(-1*a),s=i.multipliedBy(r).shiftedBy(-1*n);return{marketReferenceCurrencyBalance:i,usdBalance:s}}function vn({userReserves:e,userEmodeCategoryId:t}){let n,a=Bt("0"),r=Bt("0"),i=Bt("0"),s=Mt("0"),o=Mt("0"),d=!1;return e.forEach(e=>{a=a.plus(e.underlyingBalanceMarketReferenceCurrency),i=i.plus(e.variableBorrowsMarketReferenceCurrency).plus(e.stableBorrowsMarketReferenceCurrency),e.userReserve.reserve.usageAsCollateralEnabled&&e.userReserve.usageAsCollateralEnabledOnUser&&("0"!==e.userReserve.reserve.debtCeiling&&(n=e.userReserve.reserve,d=!0),r=r.plus(e.underlyingBalanceMarketReferenceCurrency),t&&t===e.userReserve.reserve.eModeCategoryId?(s=s.plus(Mt(e.underlyingBalanceMarketReferenceCurrency).multipliedBy(e.userReserve.reserve.eModeLtv)),o=o.plus(Mt(e.underlyingBalanceMarketReferenceCurrency).multipliedBy(e.userReserve.reserve.eModeLiquidationThreshold))):(s=s.plus(Mt(e.underlyingBalanceMarketReferenceCurrency).multipliedBy(e.userReserve.reserve.baseLTVasCollateral)),o=o.plus(Mt(e.underlyingBalanceMarketReferenceCurrency).multipliedBy(e.userReserve.reserve.reserveLiquidationThreshold))))}),s.gt(0)&&(s=Bt(s.div(r))),o.gt(0)&&(o=Bt(o.div(r))),{totalLiquidityMarketReferenceCurrency:a,totalBorrowsMarketReferenceCurrency:i,totalCollateralMarketReferenceCurrency:r,currentLtv:s,currentLiquidationThreshold:o,isInIsolationMode:d,isolatedReserve:n}}function wn({userReserves:e,marketReferencePriceInUsd:t,marketReferenceCurrencyDecimals:n,userEmodeCategoryId:a}){const{totalLiquidityMarketReferenceCurrency:r,totalBorrowsMarketReferenceCurrency:i,totalCollateralMarketReferenceCurrency:s,currentLtv:d,currentLiquidationThreshold:u,isInIsolationMode:l,isolatedReserve:c}=vn({userReserves:e,userEmodeCategoryId:a}),p=Tn({collateralBalanceMarketReferenceCurrency:s,borrowBalanceMarketReferenceCurrency:i,currentLtv:d}),f=l&&c?o.a.min(Nt(new o.a(c.debtCeiling).minus(c.isolationModeTotalDebt),c.debtCeilingDecimals-n),p):p;return{isInIsolationMode:l,isolatedReserve:c,totalLiquidityUSD:en(r,t,n),totalCollateralUSD:en(s,t,n),totalBorrowsUSD:en(i,t,n),totalLiquidityMarketReferenceCurrency:r,totalCollateralMarketReferenceCurrency:s,totalBorrowsMarketReferenceCurrency:i,availableBorrowsMarketReferenceCurrency:f,availableBorrowsUSD:en(f,t,n),currentLoanToValue:d,currentLiquidationThreshold:u,healthFactor:hn({collateralBalanceMarketReferenceCurrency:s,borrowBalanceMarketReferenceCurrency:i,currentLiquidationThreshold:u})}}function _n({userReserve:e,marketReferencePriceInUsdNormalized:t,marketReferenceCurrencyDecimals:n,currentTimestamp:a}){const r=e.reserve,{priceInMarketReferenceCurrency:i,decimals:s}=r,o=mn({balance:e.scaledATokenBalance,index:r.liquidityIndex,rate:r.liquidityRate,lastUpdateTimestamp:r.lastUpdateTimestamp,currentTimestamp:a}),{marketReferenceCurrencyBalance:d,usdBalance:u}=gn({balance:o,priceInMarketReferenceCurrency:i,marketReferenceCurrencyDecimals:n,decimals:s,marketReferencePriceInUsdNormalized:t}),l=pn({principalBalance:e.scaledVariableDebt,reserveIndex:r.variableBorrowIndex,reserveRate:r.variableBorrowRate,lastUpdateTimestamp:r.lastUpdateTimestamp,currentTimestamp:a}),{marketReferenceCurrencyBalance:c,usdBalance:p}=gn({balance:l,priceInMarketReferenceCurrency:i,marketReferenceCurrencyDecimals:n,decimals:s,marketReferencePriceInUsdNormalized:t}),f=bn({principalBalance:e.principalStableDebt,userStableRate:e.stableBorrowRate,lastUpdateTimestamp:e.stableBorrowLastUpdateTimestamp,currentTimestamp:a}),{marketReferenceCurrencyBalance:y,usdBalance:m}=gn({balance:f,priceInMarketReferenceCurrency:i,marketReferenceCurrencyDecimals:n,decimals:s,marketReferencePriceInUsdNormalized:t});return{userReserve:e,underlyingBalance:o,underlyingBalanceMarketReferenceCurrency:d,underlyingBalanceUSD:u,variableBorrows:l,variableBorrowsMarketReferenceCurrency:c,variableBorrowsUSD:p,stableBorrows:f,stableBorrowsMarketReferenceCurrency:y,stableBorrowsUSD:m,totalBorrows:l.plus(f),totalBorrowsMarketReferenceCurrency:c.plus(y),totalBorrowsUSD:p.plus(m)}}function On({currentTimestamp:e,marketReferencePriceInUsd:t,marketReferenceCurrencyDecimals:n,userReserves:a,formattedReserves:r,userEmodeCategoryId:i}){const s=Ut(t,Ft),o=[];a.forEach(e=>{const t=r.find(t=>t.underlyingAsset.toLowerCase()===e.underlyingAsset.toLowerCase());t&&o.push(Object.assign(Object.assign({},e),{reserve:t}))});const d=o.map(t=>_n({userReserve:t,marketReferencePriceInUsdNormalized:s,marketReferenceCurrencyDecimals:n,currentTimestamp:e})),u=d.map(e=>ln({reserve:e,marketReferenceCurrencyDecimals:n})),l=wn({userReserves:d,marketReferencePriceInUsd:s,marketReferenceCurrencyDecimals:n,userEmodeCategoryId:i});return{userReservesData:u,totalLiquidityMarketReferenceCurrency:Ut(l.totalLiquidityMarketReferenceCurrency,n),totalLiquidityUSD:l.totalLiquidityUSD.toString(),totalCollateralMarketReferenceCurrency:Ut(l.totalCollateralMarketReferenceCurrency,n),totalCollateralUSD:l.totalCollateralUSD.toString(),totalBorrowsMarketReferenceCurrency:Ut(l.totalBorrowsMarketReferenceCurrency,n),totalBorrowsUSD:l.totalBorrowsUSD.toString(),netWorthUSD:l.totalLiquidityUSD.minus(l.totalBorrowsUSD).toString(),availableBorrowsMarketReferenceCurrency:Ut(l.availableBorrowsMarketReferenceCurrency,n),availableBorrowsUSD:l.availableBorrowsUSD.toString(),currentLoanToValue:Ut(l.currentLoanToValue,Ht),currentLiquidationThreshold:Ut(l.currentLiquidationThreshold,Ht),healthFactor:l.healthFactor.toFixed(),isInIsolationMode:l.isInIsolationMode,isolatedReserve:l.isolatedReserve}}var An=n("5ba3"),jn=n("5e3c"),kn=n("8638"),xn=n("3cf9"),Cn=n("3301"),Sn=n("9b88"),Pn=n("e863"),En=n("d73f"),Dn=n.n(En),In=n("c030"),Rn=n("98b4");const Mn='[{"inputs":[{"internalType":"address[]","name":"assets","type":"address[]"},{"internalType":"address[]","name":"sources","type":"address[]"},{"internalType":"address","name":"fallbackOracle","type":"address"},{"internalType":"address","name":"weth","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"asset","type":"address"},{"indexed":true,"internalType":"address","name":"source","type":"address"}],"name":"AssetSourceUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"fallbackOracle","type":"address"}],"name":"FallbackOracleUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"weth","type":"address"}],"name":"WethSet","type":"event"},{"inputs":[],"name":"WETH","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"asset","type":"address"}],"name":"getAssetPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"assets","type":"address[]"}],"name":"getAssetsPrices","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getFallbackOracle","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"asset","type":"address"}],"name":"getSourceOfAsset","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"assets","type":"address[]"},{"internalType":"address[]","name":"sources","type":"address[]"}],"name":"setAssetSources","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"fallbackOracle","type":"address"}],"name":"setFallbackOracle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]';var Bn=n("2623");const Un=["TUSD","DAI","USDT","USDC","sUSD"],Nn="0x7d2768dE32b0b80b7a3454c06BdAc94A69DDc7A9",Ln="0x80Aca0C645fEdABaa20fd2Bf0Daf57885A309FE6",Fn="0x135896DE8421be2ec868E0b811006171D9df802A",Vn="0xcc9a0B7c43DC2a5F023Bb9b738E45B0Ef6B06E04",Hn="0xA50ba011c48153De246E5192C8f9258A2ba79Ca9";var Wn={name:"handlerAave",props:{open:{default:!1,type:Boolean},close:{default:()=>{},type:Function},preSelectedToken:{default:()=>({}),type:Object}},data(){return{reservesStable:[],reservesData:[],rawReserveData:[],liquidityRateHistoryUpdate:"",userReserveData:[],reservesRates30DaysAgo:[],usdPriceEth:"",userSummary:{},isLoadingData:!0,lendingPool:{},poolContract:{},priceOracle:{}}},mounted(){const e=new In["ethers"].providers.StaticJsonRpcProvider("https://nodes.mewapi.io/rpc/eth",D["a"].mainnet);this.lendingPool=new Ze(e,{LENDING_POOL:Nn,REPAY_WITH_COLLATERAL_ADAPTER:Ln,SWAP_COLLATERAL_ADAPTER:Fn,WETH_GATEWAY:Vn}),this.poolContract=this.lendingPool.getContractInstance(Nn),this.priceOracle=new In["ethers"].Contract(Hn,Mn,e)},apollo:{$subscribe:{reserveUpdateSubscription:{query:kn["ReserveUpdateSubscription"],variables(){return{pool:Pn["a"].POOL_ID}},client:"aave",result({data:e}){Promise.all(e.reserves.map(e=>this.rawDataParser(e))).then(e=>{this.rawReserveData=e.filter(e=>void 0!==e&&!e.isFrozen),this.reservesData=un({reserves:this.rawReserveData,currentTimestamp:Math.floor(Date.now()/1e3),marketReferenceCurrencyDecimals:18,marketReferencePriceInUsd:1/(this.usdPriceEth/10**18)}).reverse(),this.setFormatUserSummaryData()})},error(e){Object(Sn["e"])(e.message,{},Sn["a"])}},userPositionUpdateSubscription:{query:xn["UserPositionUpdateSubscription"],variables(){return{userAddress:this.address,pool:Pn["a"].POOL_ID}},client:"aave",skip(){return null===this.address||""===this.address},result({data:e}){this.userReserveData=e.userReserves.map(e=>{var t;return e.reserve["icon"]=(null===(t=this.contractToToken(e.underlyingAsset))||void 0===t?void 0:t.img)||Dn.a,{...e,underlyingAsset:e.reserve.underlyingAsset}}),this.setFormatUserSummaryData()},error(e){Object(Sn["e"])(e.message,{},Sn["a"])}},usdPriceEth:{query:Cn["UsdPriceEth"],client:"aave",result({data:e}){this.usdPriceEth=e.priceOracle.usdPriceEth,this.setFormatUserSummaryData()},error(e){Object(Sn["e"])(e.message,{},Sn["a"])}}}},computed:{...Object(i["e"])("wallet",["address","web3"]),...Object(i["e"])("global",["gasPriceType"]),...Object(i["c"])("wallet",["tokensList","balanceInWei"]),...Object(i["c"])("external",["contractToToken"]),...Object(i["c"])("global",["getFiatValue","gasPriceByType","network"]),userReservesData(){return this.userSummary.userReservesData},selectedTokenToUse(){return this.selectedToken||this.preSelectedToken},selectedTokenDetails(){return this.reservesData.find(e=>{if(e.symbol===this.selectedTokenToUse.token)return e})},selectedTokenUSD(){var e,t;return new o.a((null===(e=this.selectedTokenDetails)||void 0===e||null===(t=e.price)||void 0===t?void 0:t.priceInEth)||0).times(this.fiatValue)},selectedTokenInUserSummary(){var e,t;return null===(e=this.userSummary)||void 0===e||null===(t=e.userReservesData)||void 0===t?void 0:t.find(e=>{if(e.reserve.symbol===this.selectedTokenToUse.token)return e})},userBorrowingPowerInETH(){let e=0;for(const t of this.userReservesData)t.usageAsCollateralEnabledOnUser&&(e+=t.underlyingBalanceMarketReferenceCurrency*t.reserve.formattedBaseLTVasCollateral);return e-=this.userSummary.totalBorrowsMarketReferenceCurrency,e<=0&&(e=0),e}},methods:{async rawDataParser(e){const t=this.contractToToken(e.underlyingAsset);if(e["icon"]=(null===t||void 0===t?void 0:t.img)||Dn.a,"0"===e.price.priceInEth){const t=await this.getTokenPrice(e.underlyingAsset);e.price.priceInEth=t.toString()}return{...e,priceInMarketReferenceCurrency:e.price.priceInEth,eModeCategoryId:0,borrowCap:"",supplyCap:"",debtCeiling:"",debtCeilingDecimals:0,isolationModeTotalDebt:"",eModeLtv:0,eModeLiquidationThreshold:0,eModeLiquidationBonus:0}},async onDeposit({amount:e,reserve:t,referralCode:n,user:a}){try{let r=[];const i=await this.formatAllowanceData(t,a,this.poolContract.address),s=await this.formatApprovalData(t,a,this.poolContract.address,0),o=await this.formatApprovalData(t,a,this.poolContract.address,e),d=await this.poolContract.populateTransaction.deposit(t,e,a,n);d.from=a,r=Object(An["toBN"])(i).gt(Object(An["toBN"])(e))?[d]:[s,o,d];const u=await Object(Rn["a"])(this.network.type.name,r);this.sendTxns(r,u)}catch(r){throw new Error(r)}},async onBorrow({amount:e,reserve:t,referralCode:n,interestRateMode:a,user:r}){try{const i=[t,e,a===h.variable?2:1,n,r],s=await this.poolContract.populateTransaction.borrow(...i);this.formatTxData(s)}catch(i){throw new Error(i)}},async onRepay({amount:e,reserve:t,interestRateMode:n,user:a}){try{let r=[];const i=await this.formatAllowanceData(t,a,this.poolContract.address),s=await this.formatApprovalData(t,a,this.poolContract.address,e),o=await this.formatApprovalData(t,a,this.poolContract.address,0),d=await this.poolContract.populateTransaction.repay(t,e,n===h.variable?2:1,a);d.from=a,r=Object(An["toBN"])(i).gt(Object(An["toBN"])(e))?[d]:[o,s,d];const u=await Object(Rn["a"])(this.network.type.name,r);this.sendTxns(r,u)}catch(r){throw new Error(r)}},async setBorrowRate({reserve:e,rateMode:t,symbol:n}){try{const a=await this.poolContract.populateTransaction.swapBorrowRateMode(e,t),r=2===t,i={reserve:n,value:r},s=[this.resetAprToggle,i];this.formatTxData(a,s)}catch(a){throw new Error(a)}},async onWithdraw({reserve:e,amount:t,user:n}){try{const a=await this.poolContract.populateTransaction.withdraw(e,t,n);this.formatTxData(a)}catch(a){throw new Error(a)}},async formatApprovalData(e,t,n,a){try{const r=["function approve(address _spender, uint256 _value) public returns (bool success)"],i=new In["ethers"].Contract(e,r,this.poolContract.provider),s=await i.populateTransaction.approve(n,a);return s.from=t,s}catch(r){throw new Error(r)}},async formatAllowanceData(e,t,n){try{const a=[{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],r=new this.web3.eth.Contract(a,e);return r.methods.allowance(t,n).call()}catch(a){throw new Error(a)}},async setCollateral({reserve:e,useAsCollateral:t,symbol:n}){try{const a=await this.poolContract.populateTransaction.setUserUseReserveAsCollateral(e,t),r={reserve:n,useAsCollateral:!t},i=[this.resetCollateralToggle,r];this.formatTxData(a,i)}catch(a){throw new Error(a)}},formatTxData(e,t){try{const n={from:this.address,to:e.to,data:e.data,value:"0",gasPrice:this.gasPriceByType(this.gasPriceType)};this.web3.eth.estimateGas(n).then(e=>{n["gas"]=Object(An["toHex"])(e),this.sendTransaction(n).then(e=>{null!==e&&void 0!==e&&e.rejected&&Object(Sn["e"])("User rejected action!",{},Sn["f"]),Object(Sn["e"])("Success! Your transaction will be displayed shortly",{},Sn["d"])}).catch(e=>{const n=Object(Bn["a"])(e);n&&Object(Sn["e"])(e,{},Sn["a"]),t&&t[0](t[1])})}).catch(()=>{Object(Sn["e"])("Insufficient funds for gas",{},Sn["a"]),t&&t[0](t[1])})}catch(n){Object(Sn["e"])(n,{},Sn["a"])}},sendTxns(e,t){try{if(!t)throw new Error("Unable to estimate transaction fees");for(let a=0;a<e.length;a++){const n={from:this.address,to:e[a].to,data:e[a].data,gas:t[a],value:"0",gasPrice:this.gasPriceByType(this.gasPriceType)};e[a]=n}let n=Object(An["toBN"])(0);for(const t of e)n=n.add(Object(An["toBN"])(t.gasPrice).mul(Object(An["toBN"])(t.gas)));if(n.gt(Object(An["toBN"])(this.balanceInWei)))return void Object(Sn["e"])("Insufficient funds for gas",{},Sn["a"]);this.web3.mew.sendBatchTransactions(e).then(e=>{null!==e&&void 0!==e&&e.rejected&&Object(Sn["e"])("User rejected action!",{},Sn["f"]),Object(Sn["e"])("Success! Your transaction will be displayed shortly",{},Sn["d"])}).catch(e=>{Object(Sn["e"])(e,{},Sn["a"])})}catch(n){Object(Sn["e"])(n,{},Sn["a"])}},sendTransaction(e){return e?this.web3.eth.sendTransaction(e):new Error("No Parameters sent!")},setFormatUserSummaryData(){var e;(null===(e=this.reservesData)||void 0===e?void 0:e.length)>0&&this.userReserveData&&this.usdPriceEth&&(this.userSummary=On({currentTimestamp:Math.floor(Date.now()/1e3),marketReferencePriceInUsd:1/(this.usdPriceEth/10**18),marketReferenceCurrencyDecimals:18,userReserves:this.userReserveData,formattedReserves:this.reservesData,userEmodeCategoryId:0}),this.mergeTheReserves())},mergeTheReserves(){this.userSummary.userReservesData&&this.userSummary.userReservesData.length>0&&this.userSummary.userReservesData.forEach(e=>{const t=this.reservesData.find(t=>t.name===e.reserve.name);t&&(t.user=e)}),this.getReserveBalances()},getReserveBalances(){this.reservesData.length>0&&this.reservesData.forEach(e=>{e.tokenBalance=0,e.user=e.user||{},"ETH"===e.symbol&&(e.tokenBalance=this.balanceInEth);const t=this.tokensList.find(t=>t.symbol===e.symbol);t&&(e.tokenBalance=t.balance),this.reservesStable.length<5&&Un.findIndex(t=>t===e.symbol)>=0&&this.reservesStable.push(e)}),this.isLoadingData=!1},formatUSDValue(e){return 10**8*e},nextTokenHealthFactor(e,t){let n=this.currentHealthFactor,a=this.userSummary.totalBorrowsMarketReferenceCurrency;const r=this.userSummary.totalCollateralMarketReferenceCurrency;if(null!==e&&void 0!==e&&e.usageAsCollateralEnabled&&null!==e&&void 0!==e&&e.formattedPriceInMarketReferenceCurrency&&"0"!==t){const i=o()(t).times(null===e||void 0===e?void 0:e.formattedPriceInMarketReferenceCurrency);a=new o.a(this.userSummary.totalBorrowsMarketReferenceCurrency).plus(i),n=Object(jn["b"])(r,a,this.userSummary.currentLiquidationThreshold).toFixed(3)}return n},userBorrowPower(e){let t=0;const n=o()(this.userBorrowingPowerInETH).dividedBy(e.formattedPriceInMarketReferenceCurrency);this.nextTokenHealthFactor(e,n);return t=n,t.isFinite()&&!t.isNaN()?t:0},async getTokenPrice(e){try{return await this.priceOracle.getAssetPrice(e)}catch(t){return"0"}}}},qn=n("068e"),Gn={name:"AaveTable",mixins:[Wn],props:{title:{type:String,default:m.deposit},hasSearch:{type:Boolean,default:!0},hasToggle:{type:Boolean,default:!0}},data(){return{searchInput:"",toggleType:0}},computed:{...Object(i["c"])("global",["network","getFiatValue"]),...Object(i["c"])("wallet",["balanceInETH","tokensList"]),userReservesData(){var e;return(null===(e=this.userSummary)||void 0===e?void 0:e.userReservesData)||[]},header(){switch(this.title){case m.deposit:return g.deposit;case m.borrow:return g.borrow;case m.balance_deposit:return g.balanceDeposit;default:return g.balanceBorrow}},stableCoins(){if(!this.isLoadingData){var e;const t=["TUSD","DAI","USDT","USDC","sUSD"],n=null===(e=this.list)||void 0===e?void 0:e.filter(e=>{if(t.includes(e.symbol))return e});return n}return[]},list(){return this.title===m.deposit||this.title===m.borrow?this.reservesData:this.title===m.balance_borrow?this.userReservesData.filter(e=>new o.a(e.totalBorrows).gt(0)):this.title===m.balance_deposit?this.userReservesData.filter(e=>new o.a(e.scaledATokenBalance).gt(0)):{}},listData(){if(!this.isLoadingData){let e=this.toggleType?this.stableCoins:this.list;const t=this.userReservesData;switch(this.title){case m.deposit:e=e.map(e=>{const n=t.find(t=>{if(t.reserve.symbol===e.symbol)return t}),a="ETH"===e.symbol?this.balanceInETH:this.tokensList.find(t=>{if(e.symbol===t.symbol)return t}),r=a?new o.a(10).pow(a.decimals):0,i=a?new o.a(a.balance).dividedBy(r).toFixed():0,s=Object.assign({},T.deposit);return s.disabled=new o.a(i).lte(0),T.swap.method=this.onSwapClick,{price:e.price,token:e.symbol,available:i?Object(v["c"])(i).value:"0",deposited:n?Object(v["c"])(n.underlyingBalance).value:"0",apy:this.getDepositAPY(e.liquidityRate),tokenImg:""+e.icon,address:e.aToken.id,callToAction:[s,T.swap]}});break;case m.borrow:e=e.reduce((e,t)=>{if(t.borrowingEnabled){const n=Object(v["c"])(this.userBorrowPower(t)).value;e.push({token:t.symbol,available:n,stableApy:t.stableBorrowRateEnabled?Object(v["g"])(new o.a(t.stableBorrowAPY).multipliedBy(100)).value:"--",variableApy:Object(v["g"])(new o.a(t.variableBorrowAPY).multipliedBy(100)).value,tokenImg:""+t.icon,address:t.aToken.id,callToAction:[{...T.borrow,disabled:new o.a(n).lte(0)}]})}return e},[]);break;case m.balance_deposit:e=e.map(e=>{const t=Object.assign({},T.deposit);T.withdraw.method=this.onWithdrawClick,t.method=this.onDepositClick;const n=e.reserve.usageAsCollateralEnabled,a=e.reserve.tokenBalance,r=Object(An["isBN"])(a)?a.gt(Object(An["toBN"])(0)):a>0;return t.disabled=!r,{token:e.reserve.symbol,tokenImg:""+e.reserve.icon,balance:[`${Object(v["c"])(e.underlyingBalance).value} ${e.reserve.symbol}`,this.getFiatValue(this.formatUSDValue(e.underlyingBalanceUSD))],apy:this.getDepositAPY(e.reserve.liquidityRate),toggle:n?{color:"secondary",method:this.onToggleClick,value:e.usageAsCollateralEnabledOnUser}:null,callToAction:[t,T.withdraw]}});break;case m.balance_borrow:e=e.map(e=>{T.repay.method=this.onRepayClick,T.borrow.method=this.onBorrowClick;const t=e.variableBorrows>0,n=this.reservesData.find(t=>t.symbol===e.reserve.symbol),a=!!n&&n.stableBorrowRateEnabled,r=Object(v["c"])(this.userBorrowPower(n)).value,i=Object.assign({},T.borrow);return i.disabled=!n.borrowingEnabled||new o.a(r).lte(0),{token:e.reserve.symbol,tokenImg:""+e.reserve.icon,balance:[`${Object(v["c"])(e.totalBorrows).value} ${e.reserve.symbol}`,this.getFiatValue(this.formatUSDValue(e.totalBorrowsUSD))],apy:Object(v["g"])(new o.a(t?e.reserve.variableBorrowAPY:e.reserve.stableBorrowAPY).times(100).toString()).value,toggle:a?{color:"greenPrimary",method:this.onToggleAprType,value:t,label:t?h.variable:h.stable,disabled:!1}:null,callToAction:[i,T.repay]}});break;default:break}return null===this.searchInput||""===this.searchInput?e:e.filter(e=>{if(e.token.toLowerCase().includes(this.searchInput.toLowerCase()))return e})}return[]}},mounted(){this.title!==m.balance_deposit&&this.title!==m.balance_borrow||(T.deposit.btnStyle="transparent",T.withdraw.btnStyle="transparent",T.borrow.btnStyle="transparent"),T.deposit.method=this.onDepositClick,T.borrow.method=this.onBorrowClick},methods:{getDepositAPY(e){const t=Math.pow(10,27),n=31536e3,a=new o.a(e).dividedBy(t).toFixed(),r=Math.pow(1+a/n,n)-1;return Object(v["g"])(new o.a(r).multipliedBy(100)).value},onDepositClick(e){qn["a"].$emit("selectedDeposit",e)},onBorrowClick(e){qn["a"].$emit("selectedBorrow",e)},onWithdrawClick(e){qn["a"].$emit("withdrawToken",e)},onSwapClick(e){this.$router.push({name:w["b"].SWAP.NAME,query:{fromToken:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",toToken:e.address,amount:"1"}})},onRepayClick(e){qn["a"].$emit("repayBorrowing",e)},onToggleClick(e){qn["a"].$emit("collateralChange",e)},onToggleAprType(e){qn["a"].$emit("changeAprType",e)},setSearchInput(e){this.searchInput=e}}},zn=Gn,Yn=n("2877"),Kn=Object(Yn["a"])(zn,f,y,!1,null,null,null),$n=Kn.exports,Jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-width"},[e.isDeposit||e.isBorrow||e.isWithdraw||e.isRepay?n("v-card",{staticClass:"d-flex align-center justify-space-between pa-7 mb-6",attrs:{flat:"",color:"overlayBg"}},[n("div",{staticClass:"d-flex flex-column align-start"},[n("span",{staticClass:"mew-heading-3 textLight--text mb-2"},[e._v("Amount to "+e._s(e.actionTitle))]),n("span",{staticClass:"mew-heading-1 mb-2"},[e._v(e._s(e.formattedAmount)+" "+e._s(e.tokenSymbol))]),n("span",{staticClass:"textLight--text"},[e._v(e._s(e.amountUsd))])]),n("img",{attrs:{height:e.$vuetify.breakpoint.mdAndUp?"80":"30",src:e.tokenIcon,alt:e.tokenSymbol}})]):e._e(),e.isInterest?n("div",{staticClass:"d-flex align-center justify-space-between mb-10"},[n("v-card",{staticClass:"d-flex flex-column pa-10 text-left",attrs:{flat:"",color:"overlayBg"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Current Interest Type")]),n("span",{class:["mew-heading-2 my-3",e.getInterestTypeClass(e.currentInterest.type)]},[e._v(e._s(e.currentInterest.percentage))]),n("span",{class:["font-weight-bold",e.getInterestTypeClass(e.currentInterest.type)]},[e._v(e._s(e.currentInterest.type))])]),n("v-icon",[e._v("mdi-arrow-right")]),n("v-card",{staticClass:"d-flex flex-column pa-10 text-left",attrs:{flat:"",color:"overlayBg"}},[n("span",{staticClass:"font-weight-bold"},[e._v("Next Interest Type")]),n("span",{class:["mew-heading-2 my-3",e.getInterestTypeClass(e.nextInterest.type)]},[e._v(e._s(e.nextInterest.percentage))]),n("span",{class:["font-weight-bold",e.getInterestTypeClass(e.nextInterest.type)]},[e._v(e._s(e.nextInterest.type))])])],1):e._e(),e.isInterest?n("v-divider"):e._e(),e._l(e.details,(function(t,a){return n("v-row",{key:a,staticClass:"d-flex align-center"},[n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"6"}},[n("span",[e._v(e._s(t.title))]),t.tooltip?n("mew-tooltip",{staticClass:"ml-1",attrs:{text:t.tooltip}}):e._e()],1),n("v-col",{staticClass:"font-weight-bold d-flex align-center justify-end",attrs:{cols:"6"}},[t.icon?n("img",{staticClass:"mr-1",attrs:{src:t.icon,height:"20"}}):e._e(),t.indicator?n("v-icon",{class:t.class,attrs:{dense:""}},[e._v(e._s(t.indicator))]):e._e(),n("span",{class:t.class},[e._v(e._s(t.value))])],1)],1)})),e.isInterest?n("v-divider",{staticClass:"mt-5"}):e._e(),n("mew-button",{staticClass:"mt-10 mx-auto d-block",attrs:{title:e.btnTitle,"btn-size":"xlarge",disabled:e.disableBtn},nativeOn:{click:function(t){return e.confirm.apply(null,arguments)}}})],2)},Qn=[],Zn={mixins:[Wn],props:{actionType:{type:String,default:""},apr:{type:Object,default:()=>{}},selectedToken:{type:Object,default:()=>{}},amount:{type:String,default:"0"},amountUsd:{type:String,default:"0"},step:{type:Number,default:0}},computed:{formattedAmount(){return Object(v["c"])(this.amount||"0").value},actionTitle(){return this.isBorrow?"Borrow":this.isRepay?"Repay":this.isWithdraw?"Withdraw":"Deposit"},isDeposit(){return this.actionType.toLowerCase()===b.deposit},isRepay(){return this.actionType.toLowerCase()===b.repay},isBorrow(){return this.actionType.toLowerCase()===b.borrow},isInterest(){return this.actionType.toLowerCase()===b.interest},isWithdraw(){return this.actionType.toLowerCase()===b.withdraw},isCollateral(){return this.actionType.toLowerCase()===b.collateral},currentHealthFactorTooltip(){return"The health factor is the numeric representation of the safety of your deposited assets against the borrowed assets and its underlying value. The higher the value is, the safer the state of your funds are against a liquidation scenario."},nextHealthFactorTooltip(){return`This transaction will ${+this.currentHealthFactor>+this.nextHealthFactor?"lower":"increase"} your health factor. If the health factor reaches 1, the liquidation of your deposits will be triggered. A Health Factor below 1 can get liquidated.`},details(){let e=[{title:"Currency",value:this.tokenSymbol,icon:this.tokenIcon}];const t="-"===this.currentHealthFactor?this.nextHealthFactor:this.currentHealthFactor;switch(this.actionType.toLowerCase()){case b.deposit:case b.withdraw:case b.repay:case b.collateral:return e=1===this.step&&this.isDeposit?[]:e,e.push({title:"Current Health Factor",tooltip:this.currentHealthFactorTooltip,value:this.currentHealthFactor,class:""},{title:"Next Health Factor",tooltip:this.nextHealthFactorTooltip,value:this.nextHealthFactor,class:t==this.nextHealthFactor?"":o()(t).gt(this.nextHealthFactor)?"redPrimary--text":"greenPrimary--text",indicator:t==this.nextHealthFactor?"":o()(t).lt(this.nextHealthFactor)?"mdi-arrow-up-bold":"mdi-arrow-down-bold"}),e;case b.borrow:3===this.step?e=[{title:"Interest APR",value:this.apr.percentage,class:this.apr.type.toLowerCase()===h.stable?"secondary--text":"warning--text text--darken-1"},{title:"Interest rate type",value:this.apr.type,class:this.apr.type.toLowerCase()===h.stable?"secondary--text capitalize":"warning--text text--darken-1 capitalize"}]:4===this.step&&e.push({title:"Current Health Factor",tooltip:this.currentHealthFactorTooltip,value:this.currentHealthFactor,class:""},{title:"Next Health Factor",tooltip:this.nextHealthFactorTooltip,value:this.nextHealthFactor,class:t==this.nextHealthFactor?"":o()(t).gt(this.nextHealthFactor)?"redPrimary--text":"greenPrimary--text",indicator:t==this.nextHealthFactor?"":o()(t).lt(this.nextHealthFactor)?"mdi-arrow-up-bold":"mdi-arrow-down-bold"})}return e},currentHealthFactor(){var e;let t=new o.a(null===(e=this.userSummary)||void 0===e?void 0:e.healthFactor).toFixed(3);return"NaN"!==t&&"-1.000"!==t||(t="-"),t},nextHealthFactor(){var e;const t=this.selectedTokenInUserSummary;let n=this.currentHealthFactor,a=this.userSummary.totalCollateralMarketReferenceCurrency,r=this.userSummary.totalBorrowsMarketReferenceCurrency;const i=null===(e=this.selectedTokenDetails)||void 0===e?void 0:e.formattedPriceInMarketReferenceCurrency,s=null===t||void 0===t?void 0:t.reserve.usageAsCollateralEnabled;if(i&&"0"!==this.amount){const e=o()(this.amount).times(i);s&&(this.isDeposit||this.isCollateral&&(null===t||void 0===t||!t.usageAsCollateralEnabledOnUser))?a=new o.a(this.userSummary.totalCollateralMarketReferenceCurrency).plus(e):s&&(this.isWithdraw&&null!==t&&void 0!==t&&t.usageAsCollateralEnabledOnUser||this.isCollateral&&null!==t&&void 0!==t&&t.usageAsCollateralEnabledOnUser)?a=new o.a(this.userSummary.totalCollateralMarketReferenceCurrency).minus(e):this.isRepay?r=new o.a(this.userSummary.totalBorrowsMarketReferenceCurrency).minus(e):this.isBorrow&&(r=new o.a(this.userSummary.totalBorrowsMarketReferenceCurrency).plus(e)),n=Object(jn["b"])(a,r,this.userSummary.currentLiquidationThreshold).toFixed(3)}return"NaN"!==n&&"-1.000"!==n||(n="-"),n},currentInterest(){return{type:"Variable",percentage:"11.33%"}},nextInterest(){return{type:"Stable",percentage:"2.837%"}},disableBtn(){return this.nextHealthFactor<=1&&"-1.000"!==this.nextHealthFactor},btnTitle(){return this.disableBtn?"Health Factor Too Low":"Confirm"},tokenSymbol(){var e;return null===(e=this.selectedToken)||void 0===e?void 0:e.token},tokenIcon(){var e;return null===(e=this.selectedToken)||void 0===e?void 0:e.tokenImg}},methods:{confirm(){1===this.step?this.$emit("confirmed"):this.$emit("onConfirm")},getInterestTypeClass(e){return e.toLowerCase()===h.stable?"secondary--text":"orangePrimary"}}},Xn=Zn,ea=Object(Yn["a"])(Xn,Jn,Qn,!1,null,null,null),ta=ea.exports,na=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-width"},[n("v-row",{attrs:{justify:"space-around","no-gutters":"",dense:""}},[n("v-col",{attrs:{cols:"12",md:"6"}},[n("mew-module",{staticClass:"text-left height--full",attrs:{"color-type":"overlayBg","has-body-padding":!0,subtitle:e.leftSideValues.subTitle,title:e.leftSideValues.title,caption:e.leftSideValues.caption}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("mew-module",{staticClass:"text-left height--full",attrs:{"color-type":"overlayBg","has-body-padding":!0,subtitle:e.rightSideValues.subTitle,title:e.rightSideValues.title,caption:e.rightSideValues.caption}})],1)],1),n("div",{staticClass:"mt-5"},[n("p",{staticClass:"mew-heading-3 text-left"},[e._v(e._s(e.formText.title))]),n("p",{staticClass:"mew-body pt-1 text-left"},[e._v(" "+e._s(e.formText.caption)+" ")])]),n("div",{staticClass:"mt-5"},[n("mew-input",{attrs:{value:e.amount,label:"Amount","right-label":e.selectedToken.token,"hide-clear-btn":!0,rules:e.checkIfNumerical,"error-messages":e.errorMessages},on:{input:e.setAmount}}),e.showToggle?n("mew-toggle",{attrs:{"button-group":e.group,"button-type":"percentage","on-toggle-btn-idx":e.startingIdx},on:{onBtnClick:e.onToggle}}):e._e()],1),n("div",{staticClass:"mt-12 justify-center d-flex"},[n("mew-button",{attrs:{title:e.buttonTitle.action,"color-theme":"primary","btn-style":"background","btn-size":"xlarge",disabled:e.disabled},nativeOn:{click:function(t){return e.emitValues.apply(null,arguments)}}}),n("mew-button",{staticClass:"ml-2",attrs:{title:e.buttonTitle.cancel,"color-theme":"error","btn-style":"transparent","btn-size":"xlarge"},nativeOn:{click:function(t){return e.cancel.apply(null,arguments)}}})],1)],1)},aa=[],ra=(n("4d63"),n("c607"),n("ac1f"),n("2ef0")),ia=n("6013"),sa={name:"AaveAmountForm",props:{tokenDecimal:{type:Number,default:18},selectedToken:{type:Object,default:()=>{}},showToggle:{type:Boolean,default:!1},leftSideValues:{type:Object,default:()=>({title:"",caption:"",subTitle:""})},rightSideValues:{type:Object,default:()=>({title:"",caption:"",subTitle:""})},formText:{type:Object,default:()=>({title:"",caption:""})},buttonTitle:{type:Object,default:()=>({action:"",cancel:""})},tokenBalance:{type:String,default:"0"},aaveBalance:{type:String,default:"0"}},data(){return{group:["25%","50%","75%","MAX"],amount:"0",startingIdx:0}},computed:{hasAmount(){return o()(this.amount).gt(0)&&o()(this.amount).lte(this.actualTokenBalance)},checkIfNumerical(){const e=new RegExp("^-?\\d+[.]?\\d*$"),t=e.test(this.amount);return[t||"Please enter a valid value!"]},errorMessages(){return Object(ra["isEmpty"])(this.amount)?"Amount is required!":o()(this.actualTokenBalance).lte(0)?"Not enough token balance":Object(ia["a"])(this.amount,this.tokenDecimal)?o()(this.amount).isNegative()?"Amount cannot be negative":o()(this.amount).lte(0)?"Please enter an amount greater than 0":o()(this.amount).gt(this.actualTokenBalance)?"Amount exceeds available balance":"":"Too many decimal places"},disabled(){return!this.hasAmount||""!==this.errorMessages},actualTokenBalance(){return this.buttonTitle.action.toLowerCase()===b.withdraw?this.aaveBalance:this.tokenBalance}},watch:{selectedToken(){this.setToggle()}},mounted(){this.setToggle()},methods:{setToggle(){this.showToggle&&setTimeout(()=>{this.onToggle(this.group[1])},100)},setAmount(e){this.amount=e},onToggle(e){switch(e){case this.group[0]:this.startingIdx=0,this.amount=this.calculatedAmt(.25);break;case this.group[1]:this.startingIdx=1,this.amount=this.calculatedAmt(.5);break;case this.group[2]:this.startingIdx=2,this.amount=this.calculatedAmt(.75);break;default:this.startingIdx=3,this.amount=this.calculatedAmt(1)}},cancel(){this.$emit("cancel")},emitValues(){this.$emit("emitValues",this.amount)},calculatedAmt(e){let t=this.actualTokenBalance;return isNaN(t)&&(t=0),o()(t).times(e).decimalPlaces(this.tokenDecimal).toFixed()}}},oa=sa,da=Object(Yn["a"])(oa,na,aa,!1,null,null,null),ua=da.exports,la=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"text-left"},[e._v(" Select the type of rate for your loan. Please click on the desired rate type and read the info box for more information. ")]),n("div",{staticClass:"d-flex justify-center align-center mt-12 mb-3"},[n("v-card",{staticClass:"cursor-pointer d-flex flex-column py-6 px-8",attrs:{disabled:"--"===e.rates.stable,flat:e.isStable,color:e.isStable?"greyLight":"white"},nativeOn:{click:function(t){return e.setType(e.interestTypes.stable)}}},[n("v-icon",{attrs:{"x-large":"",color:"textMedium"}},[e._v("mdi-arrow-right-circle")]),n("span",{staticClass:"textLight--text my-2"},[e._v("Stable")]),n("span",{staticClass:"mew-heading-3 textMedium--text"},[e._v(e._s(e.rates.stable))])],1),n("v-card",{staticClass:"cursor-pointer d-flex flex-column py-6 px-8 ml-5",attrs:{disabled:"--"===e.rates.variable,flat:e.isVariable,color:e.isVariable?"greyLight":"white"},nativeOn:{click:function(t){return e.setType(e.interestTypes.variable)}}},[n("v-icon",{attrs:{"x-large":"",color:"orangePrimary"}},[e._v("mdi-arrow-right-circle")]),n("span",{staticClass:"textLight--text my-2"},[e._v("Variable")]),n("span",{staticClass:"mew-heading-3 orangePrimary--text"},[e._v(e._s(e.rates.variable))])],1)],1),n("div",{staticClass:"d-flex justify-center"},[n("mew-button",{staticClass:"my-8",attrs:{title:"Continue","btn-size":"xlarge",disabled:!e.apr.type},nativeOn:{click:function(t){return e.onContinue.apply(null,arguments)}}})],1)])},ca=[],pa={props:{selectedToken:{type:Object,default:()=>{}}},data(){return{apr:{},interestTypes:h}},computed:{rates(){var e,t;const n=null!==(e=this.selectedToken)&&void 0!==e&&e.stableBorrowRateEnabled?Object(v["g"])(new o.a(this.selectedToken.stableBorrowAPY).multipliedBy(100)).value:"--",a=(null===(t=this.selectedToken)||void 0===t?void 0:t.variableBorrowAPY)>0?Object(v["g"])(new o.a(this.selectedToken.variableBorrowAPY).multipliedBy(100)).value:"--";return{stable:n,variable:a}},isStable(){return this.apr.type===h.stable},isVariable(){return this.apr.type===h.variable}},methods:{setType(e){this.apr={type:e,percentage:e===h.stable?this.rates.stable:this.rates.variable}},onContinue(){this.$emit("continue",this.apr)}}},fa=pa,ya=(n("413f"),Object(Yn["a"])(fa,la,ca,!1,null,null,null)),ma=ya.exports,ba=n("b3e3"),ha=n("5965"),Ta={name:"AaveBorrowOverlay",components:{AaveTable:$n,AaveAmountForm:ua,AaveSelectInterest:ma,AaveSummary:ta},mixins:[Wn,ha["a"]],data(){return{step:0,selectedToken:{},borrowTitle:m.borrow,amount:"0",apr:{}}},computed:{...Object(i["e"])("wallet",["address"]),...Object(i["c"])("global",["getFiatValue"]),aaveBorrowForm(){var e;const t=this.selectedTokenInUserSummary,n=t?`${Object(v["c"])(t.totalBorrows).value} ${this.selectedToken.token}`:"0 "+this.selectedToken.token,a=t?this.getFiatValue(this.formatUSDValue(t.totalBorrowsUSD)):this.getFiatValue(0),r=Object(v["c"])(this.userSummary.totalCollateralMarketReferenceCurrency).value+" ETH",i=this.getFiatValue(this.formatUSDValue(this.userSummary.totalCollateralUSD)),s=this.getFiatValue(this.formatUSDValue(this.amount*(null===t||void 0===t||null===(e=t.reserve)||void 0===e?void 0:e.priceInUSD)||0));return{showToggle:!0,leftSideValues:{title:n,caption:a,subTitle:"You borrowed"},rightSideValues:{title:i,caption:r,subTitle:"Total Collateral"},formText:{title:"How much would you like to borrow?",caption:"Here you can set the amount you want to borrow."},buttonTitle:{action:"Borrow",cancel:"Cancel borrow"},amountInUSD:s}},header(){switch(this.step){case 1:return"Borrow";case 2:return"Select Interest";case 3:return"Confirm Interest Rate";case 4:return"Confirm Health Factor";default:return"Select the token you want to borrow"}},amountWithDecimals(){return Object(ba["b"])(this.amount,this.selectedTokenDetails.decimals)},amountUsd(){const e=this.getFiatValue(this.formatUSDValue(this.amount*this.selectedTokenDetails.priceInUSD||0));return 1===this.step?this.aaveBorrowForm.amountInUSD:e},tokenBalance(){return this.userBorrowPower(this.selectedTokenDetails)},tokenDecimals(){return this.selectedTokenDetails.decimals}},watch:{preSelectedToken(e){e&&!Object(ra["isEmpty"])(e)&&this.handleSelectedBorrow(this.preSelectedToken),Object(ra["isEmpty"])(e)&&(this.selectedToken={},this.step=0)},step(e){0===e&&(this.selectedToken={})}},methods:{handleSelectedBorrow(e){this.selectedToken=e,this.step=1},handleValues(e){this.step=2,this.amount=e},handleCancel(){this.callClose()},callClose(){this.step=0,this.selectedToken={},this.borrowTitle=m.borrow,this.amount="0",this.close(!1)},handleContinue(e){this.apr=e,this.step=3},handleConfirm(){if(3===this.step)this.step=4;else if(4===this.step){this.trackDapp("aaveBorrowEvent");const e={user:this.address,reserve:this.selectedTokenDetails.underlyingAsset,amount:this.amountWithDecimals,interestRateMode:this.apr.type,referralCode:"14"};this.onBorrow(e).then(()=>{this.trackDapp("aaveBorrowedAssets")}),this.callClose()}}}},ga=Ta,va=Object(Yn["a"])(ga,c,p,!1,null,"0bdc98c0",null),wa=va.exports,_a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mew-overlay",{attrs:{"show-overlay":e.open,close:e.callClose,title:e.header,"content-size":"xlarge"}},[0===e.step?n("aave-table",{attrs:{"is-loading-data":e.isLoadingData,"reserves-data":e.reservesData,"user-reserves-data":e.userSummary.userReservesData,title:e.depositTitle},on:{selectedDeposit:e.handleSelectedDeposit}}):e._e(),1===e.step?n("aave-amount-form",{attrs:{"selected-token":e.selectedToken,"show-toggle":e.aaveDepositForm.showToggle,"left-side-values":e.aaveDepositForm.leftSideValues,"right-side-values":e.aaveDepositForm.rightSideValues,"form-text":e.aaveDepositForm.formText,"button-title":e.aaveDepositForm.buttonTitle,"token-balance":e.tokenBalance,"token-decimal":e.selectedTokenDecimal},on:{cancel:e.callClose,emitValues:e.handleDepositAmount}}):e._e(),2===e.step?n("aave-summary",{attrs:{"selected-token":e.selectedToken,amount:e.amount,step:e.step,"action-type":e.depositTitle,"amount-usd":e.amountUSD},on:{onConfirm:e.handleConfirm}}):e._e()],1)},Oa=[],Aa={name:"AaveDepositOverlay",components:{AaveTable:$n,AaveSummary:ta,AaveAmountForm:ua},mixins:[Wn,ha["a"]],data(){return{step:0,selectedToken:{},amount:"0",depositTitle:m.deposit}},computed:{...Object(i["c"])("wallet",["tokensList","balanceInETH"]),...Object(i["c"])("global",["network","getFiatValue"]),selectedTokenDecimal(){return this.selectedTokenDetails?this.selectedTokenDetails.decimals:18},tokenBalanceUSD(){const e=this.selectedToken.token,t=this.tokensList.find(t=>{if(t.symbol===e)return t});return t?o()(t.usdBalance).toFixed():"0"},tokenPrice(){const e=this.selectedToken.token,t=this.tokensList.find(t=>{if(t.symbol===e)return t});return t?o()(t.price).toFixed():"0"},tokenBalance(){const e=this.selectedToken.token;if(e===this.network.type.currencyName)return this.balanceInETH;const t=this.tokensList.find(t=>{if(t.symbol===e)return t}),n=o()(10).pow(t.decimals);return t?o()(t.balance).dividedBy(n).toFixed():"0"},amountUSD(){return this.getFiatValue(o()(this.amount).times(this.tokenPrice).toFixed())},header(){switch(this.step){case 1:return"Deposit";case 2:return"Confirmation";default:return"Select the token you want to deposit"}},aaveDepositForm(){const e=this.selectedTokenInUserSummary,t=`${Object(v["c"])((null===e||void 0===e?void 0:e.underlyingBalance)||0).value} ${this.selectedToken.token}`,n=this.getFiatValue(o()(this.tokenPrice).times((null===e||void 0===e?void 0:e.underlyingBalance)||0)),a=`${Object(v["c"])(this.tokenBalance).value} ${this.selectedToken.token}`,r=this.getFiatValue(this.tokenBalanceUSD);return{showToggle:!0,leftSideValues:{title:t,caption:n,subTitle:"Aave Deposit Balance"},rightSideValues:{title:a,caption:r,subTitle:"Aave Wallet Balance"},formText:{title:"How much would you like to deposit?",caption:"Here you can set the amount you want to deposit. You can manually enter a specific amount or use the percentage buttons below."},buttonTitle:{action:"Deposit",cancel:"Cancel deposit"}}}},watch:{preSelectedToken:{handler:function(e){e&&!Object(ra["isEmpty"])(e)&&this.handleSelectedDeposit(this.preSelectedToken),Object(ra["isEmpty"])(e)&&(this.selectedToken={},this.step=0)},deep:!0},step(e){0===e&&(this.selectedToken={})}},methods:{handleSelectedDeposit(e){this.selectedToken=e,this.step=1},handleDepositAmount(e){this.step=2,this.amount=e},callClose(){this.step=0,this.selectedToken={},this.amount="0",this.depositTitle=m.deposit,this.close(!1)},handleConfirm(){this.trackDapp("aaveDepositEvent");const e=Object(ba["b"])(this.amount,this.selectedTokenDetails.decimals),t={user:this.address,amount:e,referralCode:"14",reserve:this.selectedTokenDetails.underlyingAsset};this.onDeposit(t).then(()=>{this.trackDapp("aaveDepositedCollateral")}),this.callClose()}}},ja=Aa,ka=Object(Yn["a"])(ja,_a,Oa,!1,null,null,null),xa=ka.exports,Ca=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mew-overlay",{attrs:{"show-overlay":e.open,title:e.title,close:e.resetToggle}},[n("aave-summary",{attrs:{"selected-token":e.preSelectedToken,"action-type":e.collateral,amount:e.tokenAmount},on:{onConfirm:e.callSwitchCollateral}})],1)},Sa=[],Pa={name:"AaveCollateralOverlay",components:{AaveSummary:ta},mixins:[Wn,ha["a"]],props:{open:{default:!1,type:Boolean},close:{default:()=>{},type:Function}},data(){return{collateral:b.collateral}},computed:{...Object(i["e"])("wallet",["address"]),title(){var e;return this.selectedTokenInUserSummary?null!==(e=this.selectedTokenInUserSummary)&&void 0!==e&&e.usageAsCollateralEnabledOnUser?"Disable usage as collateral":"Usage as collateral":""},tokenAmount(){var e;return null===(e=this.selectedTokenInUserSummary)||void 0===e?void 0:e.underlyingBalance}},methods:{callSwitchCollateral(){const e={reserve:this.selectedTokenDetails.underlyingAsset,useAsCollateral:!this.selectedTokenInUserSummary.usageAsCollateralEnabledOnUser,symbol:this.selectedTokenDetails.symbol};this.$emit("onConfirm",e),this.trackDapp("aaveSetCollateral"),this.close()},resetToggle(){const e={reserve:this.selectedTokenDetails.symbol,useAsCollateral:this.selectedTokenInUserSummary.usageAsCollateralEnabledOnUser};this.$emit("onClose",e),this.close()}}},Ea=Pa,Da=Object(Yn["a"])(Ea,Ca,Sa,!1,null,null,null),Ia=Da.exports,Ra=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mew-overlay",{staticClass:"mew-component--aave-repay-overlay",attrs:{"show-overlay":e.open,title:"Repay",close:e.handleCancel,"content-size":"xlarge"}},[e.open?n("aave-amount-form",{directives:[{name:"show",rawName:"v-show",value:0===e.step,expression:"step === 0"}],attrs:{"selected-token":e.preSelectedToken,"show-toggle":e.aaveRepayForm.showToggle,"left-side-values":e.aaveRepayForm.leftSideValues,"right-side-values":e.aaveRepayForm.rightSideValues,"form-text":e.aaveRepayForm.formText,"button-title":e.aaveRepayForm.buttonTitle,"token-balance":e.tokenBalance,"token-decimal":e.tokenDecimals},on:{cancel:e.handleCancel,emitValues:e.handleRepayAmount}}):e._e(),e.open?n("aave-summary",{directives:[{name:"show",rawName:"v-show",value:1===e.step,expression:"step === 1"}],attrs:{"selected-token":e.preSelectedToken,amount:e.amount,"action-type":e.repayTitle,"amount-usd":e.amountUSD},on:{onConfirm:e.handleConfirm}}):e._e()],1)},Ma=[],Ba={name:"AaveRepayOverlay",components:{AaveAmountForm:ua,AaveSummary:ta},mixins:[Wn,ha["a"]],data(){return{amount:"",step:0,repayTitle:m.repay}},computed:{...Object(i["c"])("global",["getFiatValue"]),...Object(i["c"])("wallet",["tokensList"]),tokenBalance(){const e=this.preSelectedToken.token;if(e===this.network.type.currencyName)return this.balanceInETH;const t=this.tokensList.find(t=>{if(t.symbol===e)return t});let n=t?t.balance.toString():"0";const a=new o.a(10).pow(this.tokenDecimals),r=new o.a(this.totalBorrow).multipliedBy(a);return n=r.lt(n)?this.totalBorrow.toString():new o.a(n).div(a).toFixed(),n},tokenDecimals(){var e,t;return(null===(e=this.selectedTokenInUserSummary)||void 0===e||null===(t=e.reserve)||void 0===t?void 0:t.decimals)||0},totalBorrow(){var e;return(null===(e=this.selectedTokenInUserSummary)||void 0===e?void 0:e.totalBorrows)||0},tokenPrice(){const e=this.preSelectedToken.token,t=this.tokensList.find(t=>{if(t.symbol===e)return t});return t?o()(t.price).toFixed():"0"},amountUSD(){return this.getFiatValue(o()(this.amount).times(this.tokenPrice).toFixed())},aaveRepayForm(){var e;const t=this.selectedTokenInUserSummary,n=t?`${Object(v["c"])(t.totalBorrows).value} ${null===(e=t.reserve)||void 0===e?void 0:e.symbol}`:"0 ETH",a=t?this.getFiatValue(this.formatUSDValue(t.totalBorrowsUSD)):this.getFiatValue(0),r=Object(v["c"])(this.userSummary.totalCollateralMarketReferenceCurrency).value+" ETH",i=this.getFiatValue(this.formatUSDValue(this.userSummary.totalCollateralUSD));return{showToggle:!0,leftSideValues:{title:a,caption:n,subTitle:"You borrowed"},rightSideValues:{title:i,caption:r,subTitle:"Total Collateral"},formText:{title:"How much would you like to repay?",caption:"Here you can set the amount you want to repay. You can manually enter a specific amount or use the percentage buttons below."},buttonTitle:{action:"Repay",cancel:"Cancel repay"}}}},watch:{preSelectedToken(){this.handleSelectedToken()}},methods:{handleSelectedToken(){this.step=0},handleRepayAmount(e){this.amount=e,this.step=1},handleConfirm(){this.trackDapp("aaveRepayEvent");const e=this.selectedTokenInUserSummary.variableBorrows>0,t=e?this.selectedTokenInUserSummary.variableBorrows:this.selectedTokenInUserSummary.stableBorrows,n=t===this.amount?jn["a"]:Object(ba["b"])(this.amount,this.selectedTokenDetails.decimals),a={amount:n,user:this.address,reserve:this.selectedTokenDetails.underlyingAsset,interestRateMode:e?h.variable:h.stable};this.onRepay(a).then(()=>{this.trackDapp("aaveRepayDebt")}),this.handleCancel()},handleCancel(){this.amount="",this.step=0,this.close()}}},Ua=Ba,Na=Object(Yn["a"])(Ua,Ra,Ma,!1,null,null,null),La=Na.exports,Fa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mew-overlay",{attrs:{"show-overlay":e.open,title:"Withdraw","right-btn-text":"Close",close:e.close,"content-size":"xlarge"}},[0===e.step?n("aave-amount-form",{attrs:{"selected-token":e.preSelectedToken,"show-toggle":e.aaveWithdrawForm.showToggle,"left-side-values":e.aaveWithdrawForm.leftSideValues,"right-side-values":e.aaveWithdrawForm.rightSideValues,"form-text":e.aaveWithdrawForm.formText,"button-title":e.aaveWithdrawForm.buttonTitle,"aave-balance":e.aaveWithdrawForm.depositedBalance,"token-decimal":e.aaveWithdrawForm.decimals},on:{cancel:e.handleCancel,emitValues:e.handleWithdrawAmount}}):e._e(),1===e.step?n("aave-summary",{attrs:{"selected-token":e.preSelectedToken,amount:e.amount,"action-type":e.withdrawTitle,"amount-usd":e.amountUSD},on:{onConfirm:e.handleConfirm}}):e._e()],1)},Va=[],Ha={name:"AaveWithdrawOverlay",components:{AaveAmountForm:ua,AaveSummary:ta},mixins:[Wn,ha["a"]],data(){return{step:0,amount:"0",withdrawTitle:m.withdraw}},computed:{...Object(i["c"])("wallet",["tokensList","balanceInETH"]),...Object(i["c"])("global",["network","getFiatValue"]),tokenBalanceUSD(){const e=this.preSelectedToken.token,t=this.tokensList.find(t=>{if(t.symbol===e)return t});return t?o()(t.usdBalance).toFixed():"0"},tokenPrice(){const e=this.preSelectedToken.token,t=this.tokensList.find(t=>{if(t.symbol===e)return t});return t?o()(t.price).toFixed():"0"},tokenBalance(){const e=this.preSelectedToken.token;if(e===this.network.type.currencyName)return this.balanceInETH;const t=this.tokensList.find(t=>{if(t.symbol===e)return t});return t?o()(t.balancef).decimalPlaces(t.decimals).toFixed():"0"},amountUSD(){return this.getFiatValue(o()(this.amount).times(this.tokenPrice).toFixed())},aaveWithdrawForm(){var e;const t=this.selectedTokenInUserSummary,n=`${Object(v["c"])((null===t||void 0===t?void 0:t.underlyingBalance)||0).value} ${this.preSelectedToken.token}`,a=this.getFiatValue(o()(this.tokenPrice).times((null===t||void 0===t?void 0:t.underlyingBalance)||0)),r=`${Object(v["c"])(this.tokenBalance).value} ${this.preSelectedToken.token}`,i=this.getFiatValue(this.tokenBalanceUSD);return{showToggle:!0,leftSideValues:{title:n,caption:a,subTitle:"Aave Withdraw Balance"},rightSideValues:{title:r,caption:i,subTitle:"Aave Wallet Balance"},formText:{title:"How much would you like to withdraw?",caption:"Here you can set the amount you want to withdraw. You can manually enter a specific amount or use the percentage buttons below."},buttonTitle:{action:"Withdraw",cancel:"Cancel withdraw"},depositedBalance:(null===t||void 0===t?void 0:t.underlyingBalance)||"0",decimals:(null===t||void 0===t||null===(e=t.reserve)||void 0===e?void 0:e.decimals)||18}}},watch:{preSelectedToken(){this.handleSelectedToken()}},methods:{handleSelectedToken(){this.step=0},handleWithdrawAmount(e){this.amount=e,this.step=1},handleConfirm(){this.trackDapp("aaveWithdrawEvent"),this.amount=this.amount===this.selectedTokenInUserSummary.underlyingBalance?Object(An["toBN"])(B["d"]):Object(ba["b"])(this.amount,this.selectedTokenDetails.decimals);const e={user:this.address,reserve:this.selectedTokenDetails.underlyingAsset,amount:Object(An["toHex"])(this.amount)};this.onWithdraw(e).then(()=>{this.trackDapp("aaveWithdrawCollateral")}),this.step=0,this.close()},handleCancel(){this.close()}}},Wa=Ha,qa=Object(Yn["a"])(Wa,Fa,Va,!1,null,null,null),Ga=qa.exports,za=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mew-overlay",{attrs:{"show-overlay":e.open,title:"Select your interest rate",close:e.resetToggle}},[n("aave-select-interest",{attrs:{"selected-token":e.selectedTokenDetails},on:{continue:e.handleSetInterestRate}})],1)},Ya=[],Ka={name:"AaveSetAprOverlay",components:{AaveSelectInterest:ma},mixins:[Wn,ha["a"]],data(){return{rateType:""}},methods:{handleSetInterestRate(e){this.rateType=e.type;const t=this.selectedTokenInUserSummary.variableBorrows>0?h.variable:h.stable,n={reserve:this.selectedTokenDetails.underlyingAsset,rateMode:t===h.variable?2:1,symbol:this.selectedTokenDetails.symbol};e.type===t?Object(Sn["e"])("Selected rate is already "+e.type,{},Sn["f"]):(this.$emit("onConfirm",n),this.trackDapp("aaveSetBorrowRate"),this.close())},resetToggle(){const e=this.selectedTokenInUserSummary.variableBorrows>0?h.variable:h.stable,t={reserve:this.selectedTokenDetails.symbol,value:e===h.variable};this.$emit("onClose",t),this.close()}}},$a=Ka,Ja=Object(Yn["a"])($a,za,Ya,!1,null,null,null),Qa=Ja.exports;const Za={ENJ:"bluePrimary",ETH:"greenPrimary",ZRX:"greenMedium",KNC:"textDark",USDT:"redPrimary",MKR:"redPrimary",LEND:"redPrimary",AAVE:"textLight",DAI:"textLight",SUSD:"greyPrimary",LINK:"greyMedium",BUSD:"greyMedium",REN:"greenPrimary",WBTC:"greyMedium",UNI:"redMedium",REP:"greyLight",MANA:"greyLight",BAT:"greyLight",YFI:"white",TUSD:"black"};var Xa={name:"AaveLayout",components:{TheWrapperDapp:l["default"],AaveBorrowOverlay:wa,AaveDepositOverlay:xa,AaveTable:$n,AaveCollateralOverlay:Ia,AaveRepayOverlay:La,AaveWithdrawOverlay:Ga,AaveSetAprOverlay:Qa},mixins:[Wn],data(){return{validNetworks:u,headerImg:n("8852"),showDepositOverlay:!1,tokenSelected:{},showBorrowOverlay:!1,showWithdrawOverlay:!1,showCollateralOverlay:!1,showRepayOverlay:!1,showAprTypeOverlay:!1,activeTab:0,topBanner:{title:"AAVE",subtext:"Aave is an Open Source Money Market Protocol, allowing you to earn daily interest on your stablecoins. Borrow against various assets and switch interest between variable and stable rates"},tabs:[{name:"Deposits"},{name:"Borrowings"}],aaveTableTitle:m}},computed:{...Object(i["e"])("wallet",["web3"]),...Object(i["c"])("wallet",["tokensList","balanceInETH"]),...Object(i["c"])("global",["isEthNetwork","getFiatValue"]),...Object(i["c"])("external",["fiatValue","contractToToken"]),loanValue(){return Object(v["g"])(o()(this.userSummary.currentLoanToValue).times(100)).value},healthFactor(){return o()(this.userSummary.healthFactor).gt(0)?Object(v["c"])(this.userSummary.healthFactor).value:"-"},healthFactorTooltip(){return"The health factor is the numeric representation of the safety of your deposited assets against the borrowed assets and its underlying value. The higher the value is, the safer the state of your funds are against a liquidation scenario."},totalLiquidity(){return{eth:Object(v["c"])(this.userSummary.totalLiquidityMarketReferenceCurrency||"0").value,usd:this.getFiatValue(this.formatUSDValue(this.userSummary.totalLiquidityUSD||"0"))}},totalCollateral(){return{eth:Object(v["c"])(this.userSummary.totalCollateralMarketReferenceCurrency||"0").value,usd:this.getFiatValue(this.formatUSDValue(this.userSummary.totalCollateralUSD||"0"))}},totalBorrow(){return{eth:Object(v["c"])(this.userSummary.totalBorrowsMarketReferenceCurrency||"0").value,usd:this.getFiatValue(this.formatUSDValue(this.userSummary.totalBorrowsUSD||"0"))}},compositionPercentage(){if(this.userSummary&&Object.keys(this.userSummary).length>0){const e=this.userSummary.totalLiquidityMarketReferenceCurrency;return this.userSummary.userReservesData.filter(e=>e.underlyingBalance>1e-5).map(t=>({percentage:o()(t.underlyingBalanceMarketReferenceCurrency).div(e).times(100).toFixed(),color:Za[t.reserve.symbol],tooltip:Object(v["c"])(t.underlyingBalance).value+" "+t.reserve.symbol}))}return[]},collateralPercentage(){return this.userSummary&&Object.keys(this.userSummary).length>0?this.userSummary.userReservesData.filter(e=>e.usageAsCollateralEnabledOnUser&&e.underlyingBalanceMarketReferenceCurrency>0).map(e=>({percentage:o()(e.underlyingBalanceMarketReferenceCurrency).times(100).div(this.userSummary.totalCollateralMarketReferenceCurrency).toFixed(),color:Za[e.reserve.symbol],tooltip:Object(v["c"])(e.underlyingBalance).value+" "+e.reserve.symbol})):[]},borrowingsPercentage(){if(this.userSummary&&Object.keys(this.userSummary).length>0){let e=100;const t=this.userSummary.userReservesData.filter(e=>e.totalBorrowsMarketReferenceCurrency>.001).map(t=>{const n=o()(t.totalBorrowsMarketReferenceCurrency).times(100).div(this.userSummary.totalBorrowsMarketReferenceCurrency).toFixed();return e-=n,{percentage:n,color:Za[t.reserve.symbol],tooltip:Object(v["c"])(t.totalBorrowsMarketReferenceCurrency).value+" "+t.reserve.symbol}});return e>0&&t.push({percentage:e,color:"#c7c7c7",tooltip:Object(v["c"])(this.userSummary.availableBorrowsMarketReferenceCurrency).value+" Available to Borrow"}),t}return[]},healthFactorColor(){return this.healthFactor<2&&this.healthFactor>=1.2?"orangePrimary--text":this.healthFactor<1.2?"redPrimary--text":"greenPrimary--text"}},watch:{showDepositOverlay(e){e||(this.tokenSelected={})},showBorrowOverlay(e){e||(this.tokenSelected={})},activeTab(){this.tokenSelected={}}},mounted(){qn["a"].$on("selectedBorrow",this.openBorrowOverlayWithToken),qn["a"].$on("repayBorrowing",this.openRepayOverlay),qn["a"].$on("changeAprType",this.openAprTypeOverlay),qn["a"].$on("selectedDeposit",this.openDepositOverlayWithToken),qn["a"].$on("withdrawToken",this.openWithdrawOverlay),qn["a"].$on("collateralChange",this.openCollateralOverlay)},beforeDestroy(){qn["a"].$off("selectedBorrow"),qn["a"].$off("repayBorrowing"),qn["a"].$off("changeAprType"),qn["a"].$off("selectedDeposit"),qn["a"].$off("withdrawToken"),qn["a"].$off("collateralChange")},methods:{tabChanged(e){this.activeTab=e},toggleDepositOverlay(e){e||(this.tokenSelected={}),this.showDepositOverlay=e},toggleBorrowOverlay(e){e||(this.tokenSelected={}),this.showBorrowOverlay=e},openDepositOverlayWithToken(e){this.tokenSelected=e,this.showDepositOverlay=!0},openBorrowOverlayWithToken(e){this.tokenSelected=e,this.showBorrowOverlay=!0},openWithdrawOverlay(e){this.tokenSelected=e,this.showWithdrawOverlay=!0},closeWithdrawOverlay(){this.tokenSelected={},this.showWithdrawOverlay=!1},openCollateralOverlay(e){this.tokenSelected=e,this.showCollateralOverlay=!0},closeCollateralOverlay(){this.tokenSelected={},this.showCollateralOverlay=!1},resetCollateralToggle({reserve:e,useAsCollateral:t}){const n=this.$refs.depositsTable.$children[0].$options.propsData.tableData;n.forEach(n=>{n.token===e&&(n.toggle.value=t)}),this.tokenSelected={},this.showCollateralOverlay=!1},openRepayOverlay(e){this.tokenSelected=e,this.showRepayOverlay=!0},closeRepayOverlay(){this.tokenSelected={},this.showRepayOverlay=!1},openAprTypeOverlay(e){this.tokenSelected=e,this.showAprTypeOverlay=!0},resetAprToggle({reserve:e,value:t}){const n=this.$refs.borrowsTable.$children[0].$options.propsData.tableData;n.forEach(n=>{n.token===e&&(n.toggle.value=t)}),this.tokenSelected={},this.showCollateralOverlay=!1},closeAprTypeOverlay(){this.tokenSelected={},this.showAprTypeOverlay=!1}}},er=Xa,tr=(n("ac0c"),Object(Yn["a"])(er,a,r,!1,null,"a3d7d712",null));t["default"]=tr.exports},"49fe":function(e,t,n){"use strict";var a=n("5383").version,r=n("dfab"),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};function o(e,t,n){if("object"!==typeof e)throw new r("options must be an object",r.ERR_BAD_OPTION_VALUE);var a=Object.keys(e),i=a.length;while(i-- >0){var s=a[i],o=t[s];if(o){var d=e[s],u=void 0===d||o(d,s,e);if(!0!==u)throw new r("option "+s+" must be "+u,r.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new r("Unknown option "+s,r.ERR_BAD_OPTION)}}i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+a+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,a,o){if(!1===e)throw new r(i(a," has been removed"+(t?" in "+t:"")),r.ERR_DEPRECATED);return t&&!s[a]&&(s[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,o)}},e.exports={assertOptions:o,validators:i}},"4a84":function(e,t,n){"use strict";n.r(t);var a=n("c167");n.d(t,"ConstructorFragment",(function(){return a["a"]})),n.d(t,"ErrorFragment",(function(){return a["b"]})),n.d(t,"EventFragment",(function(){return a["c"]})),n.d(t,"Fragment",(function(){return a["e"]})),n.d(t,"FunctionFragment",(function(){return a["f"]})),n.d(t,"ParamType",(function(){return a["g"]})),n.d(t,"FormatTypes",(function(){return a["d"]}));var r=n("5791");n.d(t,"AbiCoder",(function(){return r["a"]})),n.d(t,"defaultAbiCoder",(function(){return r["b"]}));var i=n("a807");n.d(t,"Interface",(function(){return i["b"]})),n.d(t,"Indexed",(function(){return i["a"]}));var s=n("5134");n.d(t,"checkResultErrors",(function(){return s["d"]})),n.d(t,"LogDescription",(function(){return i["c"]})),n.d(t,"TransactionDescription",(function(){return i["d"]}))},"4d63":function(e,t,n){var a=n("83ab"),r=n("da84"),i=n("e330"),s=n("94ca"),o=n("7156"),d=n("9112"),u=n("241c").f,l=n("3a9b"),c=n("44e7"),p=n("577e"),f=n("90d8"),y=n("9f7f"),m=n("aeb0"),b=n("cb2d"),h=n("d039"),T=n("1a2d"),g=n("69f3").enforce,v=n("2626"),w=n("b622"),_=n("fce3"),O=n("107c"),A=w("match"),j=r.RegExp,k=j.prototype,x=r.SyntaxError,C=i(k.exec),S=i("".charAt),P=i("".replace),E=i("".indexOf),D=i("".slice),I=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,R=/a/g,M=/a/g,B=new j(R)!==R,U=y.MISSED_STICKY,N=y.UNSUPPORTED_Y,L=a&&(!B||U||_||O||h((function(){return M[A]=!1,j(R)!=R||j(M)==M||"/a/i"!=j(R,"i")}))),F=function(e){for(var t,n=e.length,a=0,r="",i=!1;a<=n;a++)t=S(e,a),"\\"!==t?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),r+=t):r+="[\\s\\S]":r+=t+S(e,++a);return r},V=function(e){for(var t,n=e.length,a=0,r="",i=[],s={},o=!1,d=!1,u=0,l="";a<=n;a++){if(t=S(e,a),"\\"===t)t+=S(e,++a);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:C(I,D(e,a+1))&&(a+=2,d=!0),r+=t,u++;continue;case">"===t&&d:if(""===l||T(s,l))throw new x("Invalid capture group name");s[l]=!0,i[i.length]=[l,u],d=!1,l="";continue}d?l+=t:r+=t}return[r,i]};if(s("RegExp",L)){for(var H=function(e,t){var n,a,r,i,s,u,y=l(k,this),m=c(e),b=void 0===t,h=[],T=e;if(!y&&m&&b&&e.constructor===H)return e;if((m||l(k,e))&&(e=e.source,b&&(t=f(T))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),T=e,_&&"dotAll"in R&&(a=!!t&&E(t,"s")>-1,a&&(t=P(t,/s/g,""))),n=t,U&&"sticky"in R&&(r=!!t&&E(t,"y")>-1,r&&N&&(t=P(t,/y/g,""))),O&&(i=V(e),e=i[0],h=i[1]),s=o(j(e,t),y?this:k,H),(a||r||h.length)&&(u=g(s),a&&(u.dotAll=!0,u.raw=H(F(e),n)),r&&(u.sticky=!0),h.length&&(u.groups=h)),e!==T)try{d(s,"source",""===T?"(?:)":T)}catch(v){}return s},W=u(j),q=0;W.length>q;)m(H,j,W[q++]);k.constructor=H,H.prototype=k,b(r,"RegExp",H,{constructor:!0})}v("RegExp")},"4d8a":function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var s=n("4a84");Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return s.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return s.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return s.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return s.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return s.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return s.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return s.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return s.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return s.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return s.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return s.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return s.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return s.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return s.TransactionDescription}});var o=n("3b1c");Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return o.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return o.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return o.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return o.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return o.isAddress}});var d=i(n("71da"));t.base64=d;var u=n("2cf2");Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return u.Base58}});var l=n("549e");Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return l.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return l.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return l.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return l.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return l.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return l.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return l.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return l.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return l.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return l.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return l.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return l.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return l.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return l.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return l.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return l.stripZeros}});var c=n("7d0b");Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return c._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return c.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return c.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return c.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return c.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return c.namehash}});var p=n("f002");Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return p.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return p.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return p.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return p.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return p.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return p.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return p.mnemonicToSeed}});var f=n("ce42");Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var y=n("6f5a");Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return y.keccak256}});var m=n("ffb2");Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return m.Logger}});var b=n("820a");Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return b.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return b.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return b.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return b.sha512}});var h=n("ed62");Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return h.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return h.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return h.sha256}});var T=n("0b13");Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return T.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return T.shuffled}});var g=n("9bda");Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return g.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return g.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return g.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return g.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return g.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return g.shallowCopy}});var v=i(n("e165"));t.RLP=v;var w=n("ae1c");Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return w.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return w.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return w.SigningKey}});var _=n("8e19");Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return _.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return _.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return _.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return _._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return _.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return _.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return _.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return _.Utf8ErrorFuncs}});var O=n("5ac3");Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return O.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return O.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return O.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return O.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return O.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return O.TransactionTypes}});var A=n("71496");Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return A.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return A.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return A.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return A.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return A.parseUnits}});var j=n("288a");Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return j.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return j.verifyTypedData}});var k=n("baf7");Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return k._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return k.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return k.poll}});var x=n("820a");Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return x.SupportedAlgorithm}});var C=n("8e19");Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return C.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return C.Utf8ErrorReason}})},5383:function(e,t){e.exports={version:"0.27.2"}},"56d3":function(e,t,n){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},5792:function(e,t,n){},"58a7":function(e,t,n){"use strict";var a=n("779d");function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(a.isURLSearchParams(t))i=t.toString();else{var s=[];a.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(a.isArray(e)?t+="[]":e=[e],a.forEach(e,(function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),i=s.join("&")}if(i){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},"5e35":function(e,t,n){"use strict";var a=n("779d"),r=n("cf20"),i=n("a7ba"),s=n("790b"),o=n("0aa9");function d(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new o}e.exports=function(e){d(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),a.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||s.adapter;return t(e).then((function(t){return d(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(d(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"5e3c":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return O}));var a=n("901e"),r=n.n(a),i=n("9ab4"),s=n("e36d"),o=n("6779"),d=n("f179"),u=(n("c030"),n("98db"),n("4d8a")),l=n("908b"),c=n.n(l);function p(e,t,n,a,r,i,s){try{var o=e[i](s),d=o.value}catch(u){return void n(u)}o.done?t(d):Promise.resolve(d).then(a,r)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){p(i,a,r,s,o,"next",e)}function o(e){p(i,a,r,s,o,"throw",e)}s(void 0)}))}}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},y.apply(this,arguments)}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.a.ROUND_DOWN;function b(e){return new r.a(e)}var h=new r.a(10),T={};function g(e){return T[e]||(T[e]=h.pow(e)),T[e]}var v;(function(e){e["None"]="None",e["Stable"]="Stable",e["Variable"]="Variable"})(v||(v={}));var w=4;function _(e,t,n){return b(t).eq(0)?b("-1"):b(e).multipliedBy(n).dividedBy(g(w)).div(t)}function O(e,t,n){return _(e,t,new r.a(n).multipliedBy(g(w)).decimalPlaces(0,r.a.ROUND_DOWN))}var A,j,k,x,C,S,P,E;function D(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){e["None"]="None",e["Stable"]="Stable",e["Variable"]="Variable"})(A||(A={})),function(e){e["Proto"]="proto",e["AMM"]="amm"}(j||(j={})),function(e){e["mainnet"]="mainnet",e["ropsten"]="ropsten",e["kovan"]="kovan",e["polygon"]="polygon",e["fork"]="fork",e["mumbai"]="mumbai",e["polygon_fork"]="polygon_fork",e["avalanche"]="avalanche",e["avalanche_fork"]="avalanche_fork",e["fuji"]="fuji",e["arbitrum_one"]="arbitrum_one",e["arbitrum_rinkeby"]="arbitrum_rinkeby"}(k||(k={})),function(e){e[e["mainnet"]=1]="mainnet",e[e["ropsten"]=3]="ropsten",e[e["kovan"]=42]="kovan",e[e["polygon"]=137]="polygon",e[e["fork"]=1337]="fork",e[e["mumbai"]=80001]="mumbai",e[e["polygon_fork"]=1338]="polygon_fork",e[e["avalanche"]=43114]="avalanche",e[e["avalanche_fork"]=1337]="avalanche_fork",e[e["fuji"]=43113]="fuji",e[e["arbitrum_one"]=42161]="arbitrum_one",e[e["arbitrum_rinkeby"]=421611]="arbitrum_rinkeby"}(x||(x={})),function(e){e["ERC20_APPROVAL"]="ERC20_APPROVAL",e["DLP_ACTION"]="DLP_ACTION",e["GOVERNANCE_ACTION"]="GOVERNANCE_ACTION",e["GOV_DELEGATION_ACTION"]="GOV_DELEGATION_ACTION",e["STAKE_ACTION"]="STAKE_ACTION",e["MIGRATION_LEND_AAVE"]="MIGRATION_LEND_AAVE",e["FAUCET_MINT"]="FAUCET_MINT",e["REWARD_ACTION"]="REWARD_ACTION"}(C||(C={})),function(e){e["default"]="default",e["withdraw"]="withdraw",e["deposit"]="deposit",e["liquidationCall"]="liquidationCall",e["liquidationFlash"]="liquidationFlash",e["repay"]="repay",e["swapCollateral"]="swapCollateral",e["repayCollateral"]="repayCollateral",e["withdrawETH"]="withdrawETH",e["borrowETH"]="borrwoETH"}(S||(S={})),function(e){e[e["Abstain"]=0]="Abstain",e[e["Yes"]=1]="Yes",e[e["No"]=2]="No"}(P||(P={})),function(e){e["aave"]="aave",e["bpt"]="bpt"}(E||(E={}));var I,R,M=D((function(e){var t=function(e){var t,n=Object.prototype,a=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function d(e,t,n,a){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),s=new C(a||[]);return i._invoke=A(e,n,s),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(a){return{type:"throw",arg:a}}}e.wrap=d;var l="suspendedStart",c="suspendedYield",p="executing",f="completed",y={};function m(){}function b(){}function h(){}var T={};T[i]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(S([])));v&&v!==n&&a.call(v,i)&&(T=v);var w=h.prototype=m.prototype=Object.create(T);function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function O(e){function t(n,r,i,s){var o=u(e[n],e,r);if("throw"!==o.type){var d=o.arg,l=d.value;return l&&"object"===typeof l&&a.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,i,s)}),(function(e){t("throw",e,i,s)})):Promise.resolve(l).then((function(e){d.value=e,i(d)}),(function(e){return t("throw",e,i,s)}))}s(o.arg)}var n;function r(e,a){function r(){return new Promise((function(n,r){t(e,a,n,r)}))}return n=n?n.then(r,r):r()}this._invoke=r}function A(e,t,n){var a=l;return function(r,i){if(a===p)throw new Error("Generator is already running");if(a===f){if("throw"===r)throw i;return P()}n.method=r,n.arg=i;while(1){var s=n.delegate;if(s){var o=j(s,n);if(o){if(o===y)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===l)throw a=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var d=u(e,t,n);if("normal"===d.type){if(a=n.done?f:c,d.arg===y)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(a=f,n.method="throw",n.arg=d.arg)}}}function j(e,n){var a=e.iterator[n.method];if(a===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var r=u(a,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,y;var i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var n=e[i];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function n(){while(++r<e.length)if(a.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:P}}function P(){return{value:t,done:!0}}return b.prototype=w.constructor=h,h.constructor=b,h[o]=b.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(O.prototype),O.prototype[s]=function(){return this},e.AsyncIterator=O,e.async=function(t,n,a,r){var i=new O(d(t,n,a,r));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(w),w[o]="Generator",w[i]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(a,r){return o.type="throw",o.arg=e,n.next=a,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var d=a.call(s,"catchLoc"),u=a.call(s,"finallyLoc");if(d&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(d){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,a){return this.delegate={iterator:S(e),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}})),B=s["a"].from(0).toHexString(),U=o["constants"].MaxUint256.toString(),N="115792089237316195423570985008687907853269984665640564039457584007913129639935",L="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",F="0.1",V="0.05",H=(I={},I[S["default"]]={limit:"210000",recommended:"210000"},I[S.deposit]={limit:"300000",recommended:"300000"},I[S.withdraw]={limit:"230000",recommended:"300000"},I[S.liquidationCall]={limit:"700000",recommended:"700000"},I[S.liquidationFlash]={limit:"995000",recommended:"995000"},I[S.repay]={limit:"300000",recommended:"300000"},I[S.borrowETH]={limit:"450000",recommended:"450000"},I[S.withdrawETH]={limit:"640000",recommended:"640000"},I[S.swapCollateral]={limit:"1000000",recommended:"1000000"},I[S.repayCollateral]={limit:"700000",recommended:"700000"},I),W=(R={},R[k.mainnet]={SYNTHETIX_PROXY_ADDRESS:"0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f"},function(){function e(){}return e.connect=function(e,t){return new d["b"](e,q,t)},e}()),q=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"executor",type:"address"}],name:"ExecutorAuthorized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"executor",type:"address"}],name:"ExecutorUnauthorized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newStrategy",type:"address"},{indexed:!0,internalType:"address",name:"initiatorChange",type:"address"}],name:"GovernanceStrategyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"}],name:"ProposalCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!0,internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{indexed:!1,internalType:"address[]",name:"targets",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"},{indexed:!1,internalType:"string[]",name:"signatures",type:"string[]"},{indexed:!1,internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{indexed:!1,internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{indexed:!1,internalType:"uint256",name:"startBlock",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endBlock",type:"uint256"},{indexed:!1,internalType:"address",name:"strategy",type:"address"},{indexed:!1,internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],name:"ProposalCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorExecution",type:"address"}],name:"ProposalExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"executionTime",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorQueueing",type:"address"}],name:"ProposalQueued",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"voter",type:"address"},{indexed:!1,internalType:"bool",name:"support",type:"bool"},{indexed:!1,internalType:"uint256",name:"votingPower",type:"uint256"}],name:"VoteEmitted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newVotingDelay",type:"uint256"},{indexed:!0,internalType:"address",name:"initiatorChange",type:"address"}],name:"VotingDelayChanged",type:"event"},{inputs:[],name:"__abdicate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"executors",type:"address[]"}],name:"authorizeExecutors",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"cancel",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],name:"create",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getGovernanceStrategy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getGuardian",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalById",outputs:[{components:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"}],internalType:"struct IAaveGovernanceV2.ProposalWithoutVotes",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"getProposalState",outputs:[{internalType:"enum IAaveGovernanceV2.ProposalState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"getProposalsCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"address",name:"voter",type:"address"}],name:"getVoteOnProposal",outputs:[{components:[{internalType:"bool",name:"support",type:"bool"},{internalType:"uint248",name:"votingPower",type:"uint248"}],internalType:"struct IAaveGovernanceV2.Vote",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVotingDelay",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"executor",type:"address"}],name:"isExecutorAuthorized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"}],name:"queue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"governanceStrategy",type:"address"}],name:"setGovernanceStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"votingDelay",type:"uint256"}],name:"setVotingDelay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"}],name:"submitVote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"proposalId",type:"uint256"},{internalType:"bool",name:"support",type:"bool"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"submitVoteBySignature",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"executors",type:"address[]"}],name:"unauthorizeExecutors",outputs:[],stateMutability:"nonpayable",type:"function"}],G=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,z,t)},e}(),z=[{inputs:[{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimRewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Y=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,K,t)},e}(),K=[{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"}],$=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,J,t)},e}(),J=[{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"getMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"}],Q=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,Z,t)},e}(),Z=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!0,internalType:"address",name:"delegatee",type:"address"},{indexed:!1,internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"DelegateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"DelegatedPowerChanged",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"_nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"delegateByType",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateByTypeBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getDelegateeByType",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getPowerAtBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"enum IGovernancePowerDelegationToken.DelegationType",name:"delegationType",type:"uint8"}],name:"getPowerCurrent",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"totalSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],X=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,ee,t)},e}(),ee=[{inputs:[],name:"AAVE",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"STK_AAVE",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPropositionPowerAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getTotalPropositionSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getTotalVotingSupplyAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getVotingPowerAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],te=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,ne,t)},e}(),ne=[{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"contract IAaveGovernanceV2",name:"governance",type:"address"}],name:"getProposal",outputs:[{components:[{internalType:"uint256",name:"totalVotingSupply",type:"uint256"},{internalType:"uint256",name:"minimumQuorum",type:"uint256"},{internalType:"uint256",name:"minimumDiff",type:"uint256"},{internalType:"uint256",name:"executionTimeWithGracePeriod",type:"uint256"},{internalType:"uint256",name:"proposalCreated",type:"uint256"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"},{internalType:"enum IAaveGovernanceV2.ProposalState",name:"proposalState",type:"uint8"}],internalType:"struct IGovernanceV2Helper.ProposalStats",name:"proposalStats",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"skip",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"},{internalType:"contract IAaveGovernanceV2",name:"governance",type:"address"}],name:"getProposals",outputs:[{components:[{internalType:"uint256",name:"totalVotingSupply",type:"uint256"},{internalType:"uint256",name:"minimumQuorum",type:"uint256"},{internalType:"uint256",name:"minimumDiff",type:"uint256"},{internalType:"uint256",name:"executionTimeWithGracePeriod",type:"uint256"},{internalType:"uint256",name:"proposalCreated",type:"uint256"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"contract IExecutorWithTimelock",name:"executor",type:"address"},{internalType:"address[]",name:"targets",type:"address[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"string[]",name:"signatures",type:"string[]"},{internalType:"bytes[]",name:"calldatas",type:"bytes[]"},{internalType:"bool[]",name:"withDelegatecalls",type:"bool[]"},{internalType:"uint256",name:"startBlock",type:"uint256"},{internalType:"uint256",name:"endBlock",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"uint256",name:"forVotes",type:"uint256"},{internalType:"uint256",name:"againstVotes",type:"uint256"},{internalType:"bool",name:"executed",type:"bool"},{internalType:"bool",name:"canceled",type:"bool"},{internalType:"address",name:"strategy",type:"address"},{internalType:"bytes32",name:"ipfsHash",type:"bytes32"},{internalType:"enum IAaveGovernanceV2.ProposalState",name:"proposalState",type:"uint8"}],internalType:"struct IGovernanceV2Helper.ProposalStats[]",name:"proposalsStats",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address[]",name:"tokens",type:"address[]"}],name:"getTokensPower",outputs:[{components:[{internalType:"uint256",name:"votingPower",type:"uint256"},{internalType:"address",name:"delegatedAddressVotingPower",type:"address"},{internalType:"uint256",name:"propositionPower",type:"uint256"},{internalType:"address",name:"delegatedAddressPropositionPower",type:"address"}],internalType:"struct IGovernanceV2Helper.Power[]",name:"power",type:"tuple[]"}],stateMutability:"view",type:"function"}],ae=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,re,t)},e}(),re=[{inputs:[],name:"FLASHLOAN_PREMIUM_TOTAL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interestRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"borrow",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"address[]",name:"assets",type:"address[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"uint256[]",name:"modes",type:"uint256[]"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"bytes",name:"params",type:"bytes"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"flashLoan",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"collateral",type:"address"},{internalType:"address",name:"reserve",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"purchaseAmount",type:"uint256"},{internalType:"bool",name:"receiveAToken",type:"bool"}],name:"liquidationCall",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"repay",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"bool",name:"useAsCollateral",type:"bool"}],name:"setUserUseReserveAsCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"rateMode",type:"uint256"}],name:"swapBorrowRateMode",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"reserve",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],ie=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,se,t)},e}(),se=[{inputs:[],name:"LEND",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"migrateFromLEND",outputs:[],stateMutability:"nonpayable",type:"function"}],oe=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,de,t)},e}(),de=[{inputs:[],name:"isEthRequired",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"}],ue=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,le,t)},e}(),le=[{inputs:[{internalType:"address",name:"collateralAsset",type:"address"},{internalType:"address",name:"debtAsset",type:"address"},{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"debtRepayAmount",type:"uint256"},{internalType:"uint256",name:"debtRateMode",type:"uint256"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IRepayWithCollateral.PermitSignature",name:"permitSignature",type:"tuple"},{internalType:"bool",name:"useEthPath",type:"bool"}],name:"swapAndRepay",outputs:[],stateMutability:"nonpayable",type:"function"}],ce=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,pe,t)},e}(),pe=[{inputs:[],name:"REWARD_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"STAKED_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cooldown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"}],fe=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,ye,t)},e}(),ye=[{inputs:[{internalType:"address",name:"assetToSwapFrom",type:"address"},{internalType:"address",name:"assetToSwapTo",type:"address"},{internalType:"uint256",name:"amountToSwap",type:"uint256"},{internalType:"uint256",name:"minAmountToReceive",type:"uint256"},{internalType:"uint256",name:"swapAllBalanceOffset",type:"uint256"},{internalType:"bytes",name:"swapCalldata",type:"bytes"},{internalType:"address",name:"augustus",type:"address"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"struct IParaSwapLiquiditySwapAdapter.PermitSignature",name:"permitParams",type:"tuple"}],name:"swapAndDeposit",outputs:[],stateMutability:"nonpayable",type:"function"}],me=function(){function e(){}return e.connect=function(e,t){return new d["b"](e,be,t)},e}(),be=[{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"interesRateMode",type:"uint256"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"borrowETH",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"address",name:"onBehalfOf",type:"address"},{internalType:"uint16",name:"referralCode",type:"uint16"}],name:"depositETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rateMode",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"repayETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"lendingPool",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"onBehalfOf",type:"address"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"}],he=function(e,t){return new r.a(e).multipliedBy(new r.a(10).pow(t)).toFixed(0)},Te=function(e,t){return e.toLowerCase()===L.toLowerCase()?t:B},ge={AAVE:he("100",18),BAT:he("100000",18),BUSD:he("10000",18),DAI:he("10000",18),ENJ:he("100000",18),KNC:he("10000",18),LEND:he("1000",18),LINK:he("1000",18),MANA:he("100000",18),MKR:he("10",18),WETH:he("10",18),REN:he("10000",18),REP:he("1000",18),SNX:he("100",18),SUSD:he("10000",18),TUSD:"0",UNI:he("1000",18),USDC:he("10000",6),USDT:he("10000",6),WBTC:he("1",8),YFI:he("1",18),ZRX:he("100000",18),UNIUSDC:he(F,6),UNIDAI:he(F,18),UNIUSDT:he(F,6),UNIDAIETH:he(F,18),UNIUSDCETH:he(F,18),UNISETHETH:he(F,18),UNILENDETH:he(F,18),UNILINKETH:he(F,18),UNIMKRETH:he(F,18)},ve=function(e){return e.toLowerCase().endsWith(".eth")},we=Symbol("ethAddress"),_e=Symbol("ethOrENSAddress"),Oe=Symbol("isPositive"),Ae=Symbol("isPositiveOrMinusOne"),je=Symbol("is0OrPositiveMetadataKey"),ke=Symbol("Optional");function xe(e){return function(t,n,a){var r=Reflect.getOwnMetadata(we,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(we,r,t,n)}}function Ce(e){return function(t,n,a){var r=Reflect.getOwnMetadata(_e,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(_e,r,t,n)}}function Se(e){return function(t,n,a){var r=Reflect.getOwnMetadata(Oe,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(Oe,r,t,n)}}function Pe(e){return function(t,n,a){var r=Reflect.getOwnMetadata(je,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(je,r,t,n)}}function Ee(e){return function(t,n,a){var r=Reflect.getOwnMetadata(Ae,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(Ae,r,t,n)}}function De(e,t,n){var a=Reflect.getOwnMetadata(ke,e,t)||[];a.push(n),Reflect.defineMetadata(ke,a,e,t)}function Ie(e,t,n){var a=Reflect.getOwnMetadata(ke,e,t),r=[];return a&&a.forEach((function(e){null==n[e]&&(r[e]=!0)})),r}function Re(e,t,n,a){var r=Reflect.getOwnMetadata(we,e,t);r&&r.forEach((function(e){if(e.field){if(n[0][e.field]&&!o["utils"].isAddress(n[0][e.field]))throw new Error("Address: "+n[0][e.field]+" is not a valid ethereum Address")}else{var t=a&&a[e.index];if(n[e.index]&&!t&&!o["utils"].isAddress(n[e.index]))throw new Error("Address: "+n[e.index]+" is not a valid ethereum Address")}}))}function Me(e,t,n,a){var r=Reflect.getOwnMetadata(_e,e,t);r&&r.forEach((function(e){if(e.field){if(n[0][e.field]&&!o["utils"].isAddress(n[0][e.field])&&!ve(n[0][e.field]))throw new Error("Address "+n[0][e.field]+" is not valid ENS format or a valid ethereum Address")}else{var t=a&&a[e.index];if(n[e.index]&&!t&&!o["utils"].isAddress(n[e.index])&&!ve(n[e.index]))throw new Error("Address "+n[e.index]+" is not valid ENS format or a valid ethereum Address")}}))}function Be(e,t,n,a){var r=Reflect.getOwnMetadata(Oe,e,t);r&&r.forEach((function(e){if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>0))throw new Error("Amount: "+n[0][e.field]+" needs to be greater than 0")}else{var t=a&&a[e.index];if(!t&&!(Number(n[e.index])>0))throw new Error("Amount: "+n[e.index]+" needs to be greater than 0")}}))}function Ue(e,t,n,a){var r=Reflect.getOwnMetadata(je,e,t);r&&r.forEach((function(e){if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>=0))throw new Error("Amount: "+n[0][e.field]+" needs to be greater than 0")}else{var t=a&&a[e.index];if(!t&&!(Number(n[e.index])>=0))throw new Error("Amount: "+n[e.index]+" needs to be greater than 0")}}))}function Ne(e,t,n,a){var r=Reflect.getOwnMetadata(Ae,e,t);r&&r.forEach((function(e){if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>0||"-1"===n[0][e.field]))throw new Error("Amount: "+n[0][e.field]+" needs to be greater than 0 or -1")}else{var t=a&&a[e.index];if(!t&&!(Number(n[e.index])>0||"-1"===n[e.index]))throw new Error("Amount: "+n[e.index]+" needs to be greater than 0 or -1")}}))}function Le(e,t,n){var a=n.value;n.value=function(){var n=this.lendingPoolConfig||{},r=n.LENDING_POOL,i=n.FLASH_LIQUIDATION_ADAPTER;return o["utils"].isAddress(r)&&i&&o["utils"].isAddress(i)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[LPFlahsLiquidationValidator] You need to pass valid addresses"),[])}}function Fe(e,t,n){var a=n.value;n.value=function(){var n=this.lendingPoolConfig||{},r=n.LENDING_POOL,i=n.REPAY_WITH_COLLATERAL_ADAPTER;return o["utils"].isAddress(r)&&i&&o["utils"].isAddress(i)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[LPRepayWithCollateralValidator] You need to pass valid addresses"),[])}}function Ve(e,t,n){var a=n.value;n.value=function(){var n=this.lendingPoolConfig||{},r=n.LENDING_POOL,i=n.SWAP_COLLATERAL_ADAPTER;return o["utils"].isAddress(r)&&i&&o["utils"].isAddress(i)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[LPSwapCollateralValidator] You need to pass valid addresses"),[])}}function He(e,t,n){var a=n.value;n.value=function(){var n=this.lendingPoolConfig||{},r=n.LENDING_POOL;return o["utils"].isAddress(r)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[LendingPoolValidator] You need to pass valid addresses"),[])}}function We(e,t,n){var a=n.value;n.value=function(){var n,r=(null==(n=this.migratorConfig)?void 0:n.LEND_TO_AAVE_MIGRATOR)||"";return o["utils"].isAddress(r)?(Re(e,t,arguments),Be(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[MigratorValidator] You need to pass valid addresses"),[])}}function qe(e,t,n){var a=n.value;n.value=function(){var n=this.incentivesConfig||{},r=n.INCENTIVES_CONTROLLER,i=n.INCENTIVES_CONTROLLER_REWARD_TOKEN;return o["utils"].isAddress(i)&&o["utils"].isAddress(r)?(Re(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[IncentivesValidator] You need to pass valid addresses"),[])}}function Ge(e,t,n){var a=n.value;n.value=function(){var n=this.swapCollateralConfig.SWAP_COLLATERAL_ADAPTER||"";return o["utils"].isAddress(n)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[LiquiditySwapValidator] You need to pass valid addresses"),[])}}function ze(e,t,n){var a=n.value;n.value=function(){var n,r=(null==(n=this.repayWithCollateralConfig)?void 0:n.REPAY_WITH_COLLATERAL_ADAPTER)||"";return o["utils"].isAddress(r)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[RepayWithCollateralValidator] You need to pass valid addresses"),[])}}function Ye(e,t,n){var a=n.value;n.value=function(){var n=this.stakingConfig||{},r=n.TOKEN_STAKING,i=n.STAKING_REWARD_TOKEN;if(!o["utils"].isAddress(r)||!o["utils"].isAddress(i))return console.error("[StakingValidator] You need to pass valid addresses"),[];var s=Ie(e,t,arguments);return Re(e,t,arguments,s),Be(e,t,arguments,s),null==a?void 0:a.apply(this,arguments)}}function Ke(e,t,n){var a=n.value;n.value=function(){var n=this.stakingConfig||{},r=n.TOKEN_STAKING,i=n.STAKING_REWARD_TOKEN,s=n.STAKING_HELPER;if(!o["utils"].isAddress(r)||!o["utils"].isAddress(i)||!s||!o["utils"].isAddress(r))return console.error("[StakingValidator] You need to pass valid addresses"),[];var d=Ie(e,t,arguments);return Re(e,t,arguments,d),Be(e,t,arguments,d),null==a?void 0:a.apply(this,arguments)}}function $e(e,t,n){var a=n.value;n.value=function(){var n,r=null==(n=this.faucetConfig)?void 0:n.FAUCET;if(!r||r&&!o["utils"].isAddress(r))return console.error("[FaucetValidator] You need to pass valid addresses"),[];var i=Ie(e,t,arguments);return Re(e,t,arguments,i),Be(e,t,arguments,i),null==a?void 0:a.apply(this,arguments)}}function Je(e,t,n){var a=n.value;n.value=function(){var n,r=(null==(n=this.wethGatewayConfig)?void 0:n.WETH_GATEWAY)||"";return o["utils"].isAddress(r)?(Re(e,t,arguments),Be(e,t,arguments),Ne(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[WethGatewayValidator] You need to pass valid addresses"),[])}}function Qe(e,t,n){var a=n.value;n.value=function(){var n=this.governanceConfig||{},r=n.AAVE_GOVERNANCE_V2,i=n.AAVE_GOVERNANCE_V2_HELPER,s=n.AAVE_GOVERNANCE_V2_EXECUTOR_SHORT,d=n.AAVE_GOVERNANCE_V2_EXECUTOR_LONG;return o["utils"].isAddress(r)&&o["utils"].isAddress(i)&&o["utils"].isAddress(s)&&o["utils"].isAddress(d)?(Re(e,t,arguments),Ue(e,t,arguments),null==a?void 0:a.apply(this,arguments)):(console.error("[GovernanceValidator] You need to pass valid addresses"),[])}}function Ze(e,t,n){var a=n.value;n.value=function(){return Re(e,t,arguments),Me(e,t,arguments),Be(e,t,arguments),Ue(e,t,arguments),null==a?void 0:a.apply(this,arguments)}}var Xe=30,et=60,tt=function(){var e=f(M.mark((function e(t,n,a){var r,i;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.provider.estimateGas(t);case 2:if(r=e.sent,i=n.network,i!==k.polygon){e.next=6;break}return e.abrupt("return",r.add(r.mul(et).div(100)));case 6:return e.abrupt("return",r.add(r.mul(a||Xe).div(100)));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),nt=function(){var e=f(M.mark((function e(t){var n;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.provider.getGasPrice();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(e,t){var n=this;this.getContractInstance=function(e){if(!n.contractInstances[e]){var t=n.config.provider;n.contractInstances[e]=n.contractFactory.connect(e,t)}return n.contractInstances[e]},this.generateTxCallback=function(e){var t=e.rawTxMethod,a=e.from,r=e.value,i=e.gasSurplus,o=e.action;return f(M.mark((function e(){var d,u;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return d=e.sent,u=y({},d,{from:a,value:r||B}),e.next=6,tt(u,n.config,i);case 6:return u.gasLimit=e.sent,o&&H[o]&&u.gasLimit.lte(s["a"].from(H[o].limit))&&(u.gasLimit=s["a"].from(H[o].recommended)),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})))},this.generateTxPriceEstimation=function(e,t,a){return void 0===a&&(a=S["default"]),function(){var r=f(M.mark((function r(i){var s,o,d,u,l;return M.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return void 0===i&&(i=!1),r.prev=1,r.next=4,nt(n.config);case 4:if(s=r.sent,o=e.find((function(e){return e.txType===C.ERC20_APPROVAL})),o&&!i){r.next=15;break}return r.next=9,t();case 9:if(d=r.sent,u=d.gasLimit,l=d.gasPrice,u){r.next=14;break}throw new Error("Transaction calculation error");case 14:return r.abrupt("return",{gasLimit:u.toString(),gasPrice:l?l.toString():s.toString()});case 15:return r.abrupt("return",{gasLimit:H[a].recommended,gasPrice:s.toString()});case 18:return r.prev=18,r.t0=r["catch"](1),console.error("Calculate error on calculate estimation gas price.",r.t0),r.abrupt("return",null);case 22:case"end":return r.stop()}}),r,null,[[1,18]])})));return function(e){return r.apply(this,arguments)}}()},this.config=e,this.contractFactory=t,this.contractInstances={}};function rt(e){switch(e.slice(0,10)){case"0xda8567c8":return 100;case"0x58b9d179":return 4;case"0x0863b7ac":return 68;case"0x8f00eccb":return 68;case"0xec1d21dd":return 68;case"0x54840d1a":return 4;case"0xf5661034":return 68;case"0x64466805":return 68;case"0xa94e78ef":return 68;case"0x46c67b6d":return 68;default:throw new Error("Unrecognized function selector for Augustus")}}var it=function(e){function t(t,n){var a,r;return r=e.call(this,t,fe)||this,r.swapCollateralConfig=n,r.liquiditySwapAdapterAddress=(null==(a=r.swapCollateralConfig)?void 0:a.SWAP_COLLATERAL_ADAPTER)||"",r}m(t,e);var n=t.prototype;return n.swapAndDeposit=function(e,t){var n=e.user,a=e.assetToSwapFrom,r=e.assetToSwapTo,i=e.amountToSwap,s=e.minAmountToReceive,o=e.permitParams,d=e.augustus,u=e.swapCallData,l=e.swapAll,c=this.getContractInstance(this.liquiditySwapAdapterAddress),p=this.generateTxCallback({rawTxMethod:function(){return c.populateTransaction.swapAndDeposit(a,r,i,s,l?rt(u):0,u,d,o)},from:n});return{tx:p,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(t||[],p,S.swapCollateral)}},t}(at);Object(i["__decorate"])([Ge,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("assetToSwapFrom")),Object(i["__param"])(0,xe("assetToSwapTo")),Object(i["__param"])(0,xe("augustus")),Object(i["__param"])(0,Se("amountToSwap")),Object(i["__param"])(0,Se("minAmountToReceive")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object,Array]),Object(i["__metadata"])("design:returntype",Object)],it.prototype,"swapAndDeposit",null);var st=function(e,t,n,a,r,i,s,d,u,l){return o["utils"].defaultAbiCoder.encode(["address","uint256","uint256","bytes","address","tuple(uint256,uint256,uint8,bytes32,bytes32)"],[e,t,n,a,r,[i,s,d,u,l]])},ot=function(e){function t(t,n,a,r,i,s,o,d){var u;u=e.call(this,t,ae)||this,u.erc20Service=n,u.synthetixService=a,u.wethGatewayService=r,u.liquiditySwapAdapterService=i,u.repayWithCollateralAdapterService=s,u.market=o,u.lendingPoolConfig=d;var l=u.lendingPoolConfig||{},c=l.LENDING_POOL,p=l.FLASH_LIQUIDATION_ADAPTER,f=l.REPAY_WITH_COLLATERAL_ADAPTER,y=l.SWAP_COLLATERAL_ADAPTER;return u.lendingPoolAddress=c||"",u.flashLiquidationAddress=p||"",u.swapCollateralAddress=y||"",u.repayWithCollateralAddress=f||"",u}m(t,e);var n=t.prototype;return n.deposit=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u,l,c,p,f,y,m,b,h,T;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.user,a=t.reserve,r=t.amount,i=t.onBehalfOf,s=t.referralCode,a.toLowerCase()!==L.toLowerCase()){e.next=3;break}return e.abrupt("return",this.wethGatewayService.depositETH({lendingPool:this.lendingPoolAddress,user:n,amount:r,onBehalfOf:i,referralCode:s}));case 3:return o=this.erc20Service,d=o.isApproved,u=o.approve,l=o.decimalsOf,c=[],e.next=7,l(a);case 7:return p=e.sent,f=he(r,p),e.next=11,this.synthetixService.synthetixValidation(n,a,f);case 11:if(y=e.sent,y){e.next=14;break}throw new Error("Not enough funds to execute operation");case 14:return e.next=16,d(a,n,this.lendingPoolAddress,r);case 16:return m=e.sent,m||(b=u(n,a,this.lendingPoolAddress,U),c.push(b)),h=this.getContractInstance(this.lendingPoolAddress),T=this.generateTxCallback({rawTxMethod:function(){return h.populateTransaction.deposit(a,f,i||n,s||"0")},from:n,value:Te(a,f)}),c.push({tx:T,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(c,T,S.deposit)}),e.abrupt("return",c);case 22:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.withdraw=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,l,c,p;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.user,a=t.reserve,r=t.amount,i=t.onBehalfOf,s=t.aTokenAddress,a.toLowerCase()!==L.toLowerCase()){e.next=5;break}if(s){e.next=4;break}throw new Error("To withdraw ETH you need to pass the aWETH token address");case 4:return e.abrupt("return",this.wethGatewayService.withdrawETH({lendingPool:this.lendingPoolAddress,user:n,amount:r,onBehalfOf:i,aTokenAddress:s}));case 5:return d=this.erc20Service.decimalsOf,e.next=8,d(a);case 8:return u=e.sent,l="-1"===r?o["constants"].MaxUint256.toString():he(r,u),c=this.getContractInstance(this.lendingPoolAddress),p=this.generateTxCallback({rawTxMethod:function(){return c.populateTransaction.withdraw(a,l,i||n)},from:n,action:S.withdraw}),e.abrupt("return",[{tx:p,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation([],p,S.withdraw)}]);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.borrow=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u,l,c,p,f,y;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.user,a=t.reserve,r=t.amount,i=t.interestRateMode,s=t.debtTokenAddress,o=t.onBehalfOf,d=t.referralCode,a.toLowerCase()!==L.toLowerCase()){e.next=5;break}if(s){e.next=4;break}throw new Error("To borrow ETH you need to pass the stable or variable WETH debt Token Address corresponding the interestRateMode");case 4:return e.abrupt("return",this.wethGatewayService.borrowETH({lendingPool:this.lendingPoolAddress,user:n,amount:r,debtTokenAddress:s,interestRateMode:i,referralCode:d}));case 5:return u=this.erc20Service.decimalsOf,e.next=8,u(a);case 8:return l=e.sent,c=he(r,l),p=i===A.Variable?2:1,f=this.getContractInstance(this.lendingPoolAddress),y=this.generateTxCallback({rawTxMethod:function(){return f.populateTransaction.borrow(a,c,p,d||0,o||n)},from:n}),e.abrupt("return",[{tx:y,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation([],y)}]);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.repay=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,l,c,p,f,y,m,b,h,T,g,v,w;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.user,a=t.reserve,r=t.amount,i=t.interestRateMode,s=t.onBehalfOf,a.toLowerCase()!==L.toLowerCase()){e.next=3;break}return e.abrupt("return",this.wethGatewayService.repayETH({lendingPool:this.lendingPoolAddress,user:n,amount:r,interestRateMode:i,onBehalfOf:s}));case 3:return d=[],u=this.erc20Service,l=u.isApproved,c=u.approve,p=u.decimalsOf,f=this.getContractInstance(this.lendingPoolAddress),y=f.populateTransaction,m=i===A.Variable?2:1,e.next=10,p(a);case 10:if(b=e.sent,h="-1"===r?o["constants"].MaxUint256.toString():he(r,b),"-1"===r){e.next=18;break}return e.next=15,this.synthetixService.synthetixValidation(n,a,h);case 15:if(T=e.sent,T){e.next=18;break}throw new Error("Not enough funds to execute operation");case 18:return e.next=20,l(a,n,this.lendingPoolAddress,r);case 20:return g=e.sent,g||(v=c(n,a,this.lendingPoolAddress,U),d.push(v)),w=this.generateTxCallback({rawTxMethod:function(){return y.repay(a,h,m,s||n)},from:n,value:Te(a,h)}),d.push({tx:w,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(d,w,S.repay)}),e.abrupt("return",d);case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.swapBorrowRateMode=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.reserve,r=t.interestRateMode,i=r===A.Variable?2:1,s=this.getContractInstance(this.lendingPoolAddress),o=this.generateTxCallback({rawTxMethod:function(){return s.populateTransaction.swapBorrowRateMode(a,i)},from:n}),e.abrupt("return",[{txType:C.DLP_ACTION,tx:o,gas:this.generateTxPriceEstimation([],o)}]);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.setUsageAsCollateral=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.reserve,r=t.usageAsCollateral,i=this.getContractInstance(this.lendingPoolAddress),s=this.generateTxCallback({rawTxMethod:function(){return i.populateTransaction.setUserUseReserveAsCollateral(a,r)},from:n}),e.abrupt("return",[{tx:s,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation([],s)}]);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.liquidationCall=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u,l,c,p,f,y,m,b,h,T,g,v,w;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.liquidator,a=t.liquidatedUser,r=t.debtReserve,i=t.collateralReserve,s=t.purchaseAmount,o=t.getAToken,d=t.liquidateAll,u=[],l=this.erc20Service,c=l.isApproved,p=l.approve,f=l.getTokenData,e.next=5,c(r,n,this.lendingPoolAddress,s);case 5:return y=e.sent,y||(m=p(n,r,this.lendingPoolAddress,U),u.push(m)),e.next=9,Promise.all([f(r)]);case 9:return b=e.sent,h=b[0],T=h.decimals,g=d?N:he(s,T),v=this.getContractInstance(this.lendingPoolAddress),w=this.generateTxCallback({rawTxMethod:function(){return v.populateTransaction.liquidationCall(i,r,a,g,o||!1)},from:n,value:Te(r,g)}),u.push({tx:w,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(u,w,S.liquidationCall)}),e.abrupt("return",u);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.swapCollateral=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,l,c,p,f,y,m,b,h,T,g,v,w,_,O,A,j,k,x,P,E,D=this;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.flash,r=t.fromAsset,i=t.fromAToken,s=t.toAsset,d=t.fromAmount,u=t.minToAmount,l=t.permitSignature,c=t.swapAll,p=t.onBehalfOf,f=t.referralCode,y=t.augustus,m=t.swapCallData,b=[],h=l||{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},e.next=5,this.erc20Service.isApproved(i,n,this.swapCollateralAddress,d);case 5:return T=e.sent,T||(g=this.erc20Service.approve(n,i,this.swapCollateralAddress,o["constants"].MaxUint256.toString()),b.push(g)),e.next=9,this.erc20Service.decimalsOf(r);case 9:return v=e.sent,w=he(d,v),e.next=13,this.erc20Service.decimalsOf(s);case 13:if(_=e.sent,O=he(u,_),A=this.getContractInstance(this.lendingPoolAddress),j=st(s,O,c?rt(m):0,m,y,h.amount,h.deadline,h.v,h.r,h.s),!a){e.next=23;break}return k=(Number(d)+Number(d)*Number(V)/100).toString(),x=he(k,v),P=this.generateTxCallback({rawTxMethod:function(){return A.populateTransaction.flashLoan(D.swapCollateralAddress,[r],c?[x]:[w],[0],p||n,j,f||"0")},from:n}),b.push({tx:P,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(b,P,S.swapCollateral)}),e.abrupt("return",b);case 23:return e.next=25,this.liquiditySwapAdapterService.swapAndDeposit({user:n,assetToSwapFrom:r,assetToSwapTo:s,amountToSwap:w,minAmountToReceive:O,swapAll:c,swapCallData:m,augustus:y,permitParams:h},b);case 25:return E=e.sent,b.push(E),e.abrupt("return",b);case 28:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.repayWithCollateral=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,l,c,p,f,y,m,b,h,T,g,v,w,_,O,j,k,x,P,E,D,I=this;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.fromAsset,r=t.fromAToken,i=t.assetToRepay,s=t.repayWithAmount,d=t.repayAmount,u=t.permitSignature,l=t.repayAllDebt,c=t.rateMode,p=t.onBehalfOf,f=t.referralCode,y=t.flash,m=t.useEthPath,b=[],h=u||{amount:"0",deadline:"0",v:0,r:"0x0000000000000000000000000000000000000000000000000000000000000000",s:"0x0000000000000000000000000000000000000000000000000000000000000000"},e.next=5,this.erc20Service.isApproved(r,n,this.repayWithCollateralAddress,s);case 5:return T=e.sent,T||(g=this.erc20Service.approve(n,r,this.repayWithCollateralAddress,o["constants"].MaxUint256.toString()),b.push(g)),e.next=9,this.erc20Service.decimalsOf(a);case 9:return v=e.sent,w=he(s,v),_=(Number(d)+Number(d)*Number(V)/100).toString(),e.next=14,this.erc20Service.decimalsOf(i);case 14:if(O=e.sent,j=he(l?_:d,O),k=0,c&&(k=c===A.Stable?1:2),!y){e.next=24;break}return x=o["utils"].defaultAbiCoder.encode(["address","uint256","uint256","uint256","uint256","uint8","bytes32","bytes32","bool"],[a,w,k,h.amount,h.deadline,h.v,h.r,h.s,m||!1]),P=this.getContractInstance(this.lendingPoolAddress),E=this.generateTxCallback({rawTxMethod:function(){return P.populateTransaction.flashLoan(I.repayWithCollateralAddress,[i],[j],[0],p||n,x,f||"0")},from:n}),b.push({tx:E,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(b,E,S.repayCollateral)}),e.abrupt("return",b);case 24:return D=this.repayWithCollateralAdapterService.swapAndRepay({user:n,collateralAsset:a,debtAsset:i,collateralAmount:w,debtRepayAmount:j,debtRateMode:k,permit:h,useEthPath:m},b),b.push(D),e.abrupt("return",b);case 27:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.flashLiquidation=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,l,c,p,f,y,m,b,h,T,g=this;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.collateralAsset,r=t.borrowedAsset,i=t.debtTokenCover,s=t.liquidateAll,d=t.initiator,u=t.useEthPath,l=function(e){return(Number(e)+Number(e)*Number(e)/100).toString()},c=[],p=this.getContractInstance(this.lendingPoolAddress),e.next=6,this.erc20Service.decimalsOf(r);case 6:return f=e.sent,y=he(i,f),m=s?o["constants"].MaxUint256.toString():y,b=s?he(l(i),f):y,h=o["utils"].defaultAbiCoder.encode(["address","address","address","uint256","bool"],[a,r,n,m,u||!1]),T=this.generateTxCallback({rawTxMethod:function(){return p.populateTransaction.flashLoan(g.flashLiquidationAddress,[r],[b],[0],d,h,"0")},from:d}),c.push({tx:T,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(c,T,S.liquidationFlash)}),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([He,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("reserve")),Object(i["__param"])(0,Se("amount")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"deposit",null),Object(i["__decorate"])([He,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("reserve")),Object(i["__param"])(0,Ee("amount")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__param"])(0,xe("aTokenAddress")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"withdraw",null),Object(i["__decorate"])([He,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("reserve")),Object(i["__param"])(0,Se("amount")),Object(i["__param"])(0,xe("debtTokenAddress")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"borrow",null),Object(i["__decorate"])([He,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("reserve")),Object(i["__param"])(0,Ee("amount")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"repay",null),Object(i["__decorate"])([He,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("reserve")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"swapBorrowRateMode",null),Object(i["__decorate"])([He,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("reserve")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"setUsageAsCollateral",null),Object(i["__decorate"])([He,Object(i["__param"])(0,xe("liquidator")),Object(i["__param"])(0,xe("liquidatedUser")),Object(i["__param"])(0,xe("debtReserve")),Object(i["__param"])(0,xe("collateralReserve")),Object(i["__param"])(0,Se("purchaseAmount")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"liquidationCall",null),Object(i["__decorate"])([Ve,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("fromAsset")),Object(i["__param"])(0,xe("fromAToken")),Object(i["__param"])(0,xe("toAsset")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__param"])(0,xe("augustus")),Object(i["__param"])(0,Se("fromAmount")),Object(i["__param"])(0,Se("minToAmount")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"swapCollateral",null),Object(i["__decorate"])([Fe,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("fromAsset")),Object(i["__param"])(0,xe("fromAToken")),Object(i["__param"])(0,xe("assetToRepay")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__param"])(0,Se("repayWithAmount")),Object(i["__param"])(0,Se("repayAmount")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"repayWithCollateral",null),Object(i["__decorate"])([Le,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("collateralAsset")),Object(i["__param"])(0,xe("borrowedAsset")),Object(i["__param"])(0,Se("debtTokenCover")),Object(i["__param"])(0,xe("initiator")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],ot.prototype,"flashLiquidation",null);var dt=function(e){function t(t,n){var a,r;r=e.call(this,t,oe)||this,r.faucetConfig=n;var i=r.config.provider;return r.faucetAddress=(null==(a=r.faucetConfig)?void 0:a.FAUCET)||"",""!==r.faucetAddress&&(r.faucetContract=$.connect(r.faucetAddress,i)),r}m(t,e);var n=t.prototype;return n.mint=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o=this;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.userAddress,a=t.reserve,r=t.tokenSymbol,i=ge[r],s=this.generateTxCallback({rawTxMethod:function(){return o.faucetContract.populateTransaction.mint(a,i)},from:n,value:B}),e.abrupt("return",[{tx:s,txType:C.FAUCET_MINT,gas:this.generateTxPriceEstimation([],s)}]);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([$e,Object(i["__param"])(0,xe("userAddress")),Object(i["__param"])(0,xe("reserve")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],dt.prototype,"mint",null);var ut=function(e){function t(t,n,a){var r,i;return i=e.call(this,t,ie)||this,i.erc20Service=n,i.migratorConfig=a,i.migratorAddress=(null==(r=i.migratorConfig)?void 0:r.LEND_TO_AAVE_MIGRATOR)||"",i}m(t,e);var n=t.prototype;return n.migrateLendToAave=function(){var e=f(M.mark((function e(t,n){var a,r,i,s,o,d,u,l,c,p,f;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],r=this.erc20Service,i=r.isApproved,s=r.approve,o=r.decimalsOf,d=this.getContractInstance(this.migratorAddress),e.next=5,d.LEND();case 5:return u=e.sent,e.next=8,i(u,t,this.migratorAddress,n);case 8:return l=e.sent,l||a.push(s(t,u,this.migratorAddress,U)),e.next=12,o(u);case 12:return c=e.sent,e.next=15,he(n,c);case 15:return p=e.sent,f=this.generateTxCallback({rawTxMethod:function(){return d.populateTransaction.migrateFromLEND(p)},from:t}),a.push({txType:C.MIGRATION_LEND_AAVE,tx:f,gas:this.generateTxPriceEstimation(a,f)}),e.abrupt("return",a);case 19:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([We,Object(i["__param"])(0,xe()),Object(i["__param"])(1,Se()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String,String]),Object(i["__metadata"])("design:returntype",Promise)],ut.prototype,"migrateLendToAave",null);var lt=function(e){function t(t,n,a,r){var i;i=e.call(this,t,ce)||this,i.stakingConfig=r,i.tokenStake=a,i.erc20Service=n;var s=i.config.provider,o=i.stakingConfig||{},d=o.TOKEN_STAKING,u=o.STAKING_REWARD_TOKEN,l=o.STAKING_HELPER;return i.stakingContractAddress=d||"",i.stakingRewardTokenContractAddress=u||"",i.stakingHelperContractAddress=l,i.stakingHelperContractAddress&&(i.stakingHelperContract=Y.connect(i.stakingHelperContractAddress,s)),i}m(t,e);var n=t.prototype;return n.signStaking=function(){var e=f(M.mark((function e(t,n,a){var r,i,s,d,u,l,c,p;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.stakingHelperContractAddress){e.next=2;break}return e.abrupt("return","");case 2:return r=this.erc20Service.getTokenData,i=this.getContractInstance(this.stakingContractAddress),e.next=6,i.STAKED_TOKEN();case 6:return s=e.sent,e.next=9,r(s);case 9:return d=e.sent,u=d.name,l=d.decimals,c=he(n,l),p={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},primaryType:"Permit",domain:{name:u,version:"1",chainId:x[this.config.network],verifyingContract:s},message:{owner:t,spender:this.stakingHelperContractAddress,value:c,nonce:a,deadline:o["constants"].MaxUint256.toString()}},e.abrupt("return",JSON.stringify(p));case 15:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}(),n.stakeWithPermit=function(){var e=f(M.mark((function e(t,n,a){var r,i,s,d,u,l,c,p,f=this;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.stakingHelperContractAddress){e.next=2;break}return e.abrupt("return",[]);case 2:return r=[],i=this.erc20Service.decimalsOf,s=this.getContractInstance(this.stakingContractAddress),e.next=7,s.STAKED_TOKEN();case 7:return d=e.sent,e.next=10,i(d);case 10:return u=e.sent,l=he(n,u),c=o["utils"].splitSignature(a),p=this.generateTxCallback({rawTxMethod:function(){return f.stakingHelperContract.populateTransaction.stake(t,l,c.v,c.r,c.s)},from:t}),r.push({tx:p,txType:C.STAKE_ACTION,gas:this.generateTxPriceEstimation(r,p)}),e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}(),n.stake=function(){var e=f(M.mark((function e(t,n,a){var r,i,s,o,d,u,l,c,p,f,y,m;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],i=this.erc20Service,s=i.decimalsOf,o=i.isApproved,d=i.approve,u=this.getContractInstance(this.stakingContractAddress),e.next=5,u.STAKED_TOKEN();case 5:return l=e.sent,e.next=8,s(l);case 8:return c=e.sent,p=he(n,c),e.next=12,o(l,t,this.stakingContractAddress,n);case 12:return f=e.sent,f||(y=d(t,l,this.stakingContractAddress,U),r.push(y)),m=this.generateTxCallback({rawTxMethod:function(){return u.populateTransaction.stake(a||t,p)},from:t}),r.push({tx:m,txType:C.STAKE_ACTION,gas:this.generateTxPriceEstimation(r,m)}),e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}(),n.redeem=function(){var e=f(M.mark((function e(t,n){var a,r,i,s,o,d;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getContractInstance(this.stakingContractAddress),"-1"!==n){e.next=5;break}a=N,e.next=13;break;case 5:return i=this.erc20Service.decimalsOf,e.next=8,r.STAKED_TOKEN();case 8:return s=e.sent,e.next=11,i(s);case 11:o=e.sent,a=he(n,o);case 13:return d=this.generateTxCallback({rawTxMethod:function(){return r.populateTransaction.redeem(t,a)},from:t,gasSurplus:20}),e.abrupt("return",[{tx:d,txType:C.STAKE_ACTION,gas:this.generateTxPriceEstimation([],d)}]);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),n.cooldown=function(){var e=f(M.mark((function e(t){var n,a;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.getContractInstance(this.stakingContractAddress),a=this.generateTxCallback({rawTxMethod:function(){return n.populateTransaction.cooldown()},from:t}),e.abrupt("return",[{tx:a,txType:C.STAKE_ACTION,gas:this.generateTxPriceEstimation([],a)}]);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.claimRewards=function(){var e=f(M.mark((function e(t,n){var a,r,i,s,o,d;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.getContractInstance(this.stakingContractAddress),"-1"!==n){e.next=5;break}a=N,e.next=13;break;case 5:return i=this.erc20Service.decimalsOf,e.next=8,r.REWARD_TOKEN();case 8:return s=e.sent,e.next=11,i(s);case 11:o=e.sent,a=he(n,o);case 13:return d=this.generateTxCallback({rawTxMethod:function(){return r.populateTransaction.claimRewards(t,a)},from:t,gasSurplus:20}),e.abrupt("return",[{tx:d,txType:C.STAKE_ACTION,gas:this.generateTxPriceEstimation([],d)}]);case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([Ke,Object(i["__param"])(0,xe()),Object(i["__param"])(1,Se()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String,String,String]),Object(i["__metadata"])("design:returntype",Promise)],lt.prototype,"signStaking",null),Object(i["__decorate"])([Ye,Object(i["__param"])(0,xe()),Object(i["__param"])(1,Se()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String,String,String]),Object(i["__metadata"])("design:returntype",Promise)],lt.prototype,"stakeWithPermit",null),Object(i["__decorate"])([Ye,Object(i["__param"])(0,xe()),Object(i["__param"])(1,Se()),Object(i["__param"])(2,De),Object(i["__param"])(2,xe()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String,String,String]),Object(i["__metadata"])("design:returntype",Promise)],lt.prototype,"stake",null),Object(i["__decorate"])([Ye,Object(i["__param"])(0,xe()),Object(i["__param"])(1,Ee()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String,String]),Object(i["__metadata"])("design:returntype",Promise)],lt.prototype,"redeem",null),Object(i["__decorate"])([Ye,Object(i["__param"])(0,xe()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String]),Object(i["__metadata"])("design:returntype",Promise)],lt.prototype,"cooldown",null),Object(i["__decorate"])([Ye,Object(i["__param"])(0,xe()),Object(i["__param"])(1,Ee()),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[String,String]),Object(i["__metadata"])("design:returntype",Promise)],lt.prototype,"claimRewards",null);var ct=function(e){function t(t,n){var a;a=e.call(this,t,G)||this,a.incentivesConfig=n;var r=a.incentivesConfig||{},i=r.INCENTIVES_CONTROLLER,s=r.INCENTIVES_CONTROLLER_REWARD_TOKEN;return a.incentivesControllerAddress=i||"",a.incentivesControllerRewardTokenAddress=s||"",a}m(t,e);var n=t.prototype;return n.claimRewards=function(e){var t=e.user,n=e.assets,a=e.to,r=this.getContractInstance(this.incentivesControllerAddress),i=this.generateTxCallback({rawTxMethod:function(){return r.populateTransaction.claimRewards(n,o["constants"].MaxUint256.toString(),a||t)},from:t});return[{tx:i,txType:C.REWARD_ACTION,gas:this.generateTxPriceEstimation([],i)}]},t}(at);Object(i["__decorate"])([qe,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("to")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Array)],ct.prototype,"claimRewards",null);var pt=function(e){function t(t,n,a,r){var i,s;return s=e.call(this,t,me)||this,s.wethGatewayConfig=r,s.baseDebtTokenService=n,s.erc20Service=a,s.wethGatewayAddress=(null==(i=s.wethGatewayConfig)?void 0:i.WETH_GATEWAY)||"",s}m(t,e);var n=t.prototype;return n.depositETH=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.lendingPool,a=t.user,r=t.amount,i=t.onBehalfOf,s=t.referralCode,o=he(r,18),d=this.getContractInstance(this.wethGatewayAddress),u=this.generateTxCallback({rawTxMethod:function(){return d.populateTransaction.depositETH(n,i||a,s||"0")},from:a,value:o}),e.abrupt("return",[{tx:u,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation([],u)}]);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.borrowETH=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,l,c,p,f,y,m;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.lendingPool,a=t.user,r=t.amount,i=t.debtTokenAddress,s=t.interestRateMode,d=t.referralCode,u=[],l=he(r,18),c=s===A.Variable?2:1,e.next=6,this.baseDebtTokenService.isDelegationApproved(i,a,this.wethGatewayAddress,r);case 6:return p=e.sent,p||(f=this.baseDebtTokenService.approveDelegation(a,this.wethGatewayAddress,i,o["constants"].MaxUint256.toString()),u.push(f)),y=this.getContractInstance(this.wethGatewayAddress),m=this.generateTxCallback({rawTxMethod:function(){return y.populateTransaction.borrowETH(n,l,c,d||"0")},from:a}),u.push({tx:m,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(u,m,S.borrowETH)}),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.withdrawETH=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,l,c,p,f,y,m,b;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.lendingPool,a=t.user,r=t.amount,i=t.onBehalfOf,s=t.aTokenAddress,d=[],u=this.erc20Service,l=u.isApproved,c=u.approve,p="-1"===r?o["constants"].MaxUint256.toString():he(r,18),e.next=6,l(s,a,this.wethGatewayAddress,r);case 6:return f=e.sent,f||(y=c(a,s,this.wethGatewayAddress,o["constants"].MaxUint256.toString()),d.push(y)),m=this.getContractInstance(this.wethGatewayAddress),b=this.generateTxCallback({rawTxMethod:function(){return m.populateTransaction.withdrawETH(n,p,i||a)},from:a}),d.push({tx:b,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(d,b,S.withdrawETH)}),e.abrupt("return",d);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.repayETH=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u,l;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.lendingPool,a=t.user,r=t.amount,i=t.interestRateMode,s=t.onBehalfOf,o=he(r,18),d=i===A.Variable?2:1,u=this.getContractInstance(this.wethGatewayAddress),l=this.generateTxCallback({rawTxMethod:function(){return u.populateTransaction.repayETH(n,o,d,s||a)},gasSurplus:30,from:a,value:o}),e.abrupt("return",[{tx:l,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation([],l)}]);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([Je,Object(i["__param"])(0,xe("lendingPool")),Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__param"])(0,Se("amount")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],pt.prototype,"depositETH",null),Object(i["__decorate"])([Je,Object(i["__param"])(0,xe("lendingPool")),Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Se("amount")),Object(i["__param"])(0,xe("debtTokenAddress")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],pt.prototype,"borrowETH",null),Object(i["__decorate"])([Je,Object(i["__param"])(0,xe("lendingPool")),Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__param"])(0,Ee("amount")),Object(i["__param"])(0,xe("aTokenAddress")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],pt.prototype,"withdrawETH",null),Object(i["__decorate"])([Je,Object(i["__param"])(0,xe("lendingPool")),Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("onBehalfOf")),Object(i["__param"])(0,Se("amount")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],pt.prototype,"repayETH",null);var ft,yt,mt=function(e){function t(t,n){var a,r;return r=e.call(this,t,ue)||this,r.repayWithCollateralConfig=n,r.repayWithCollateralAddress=(null==(a=r.repayWithCollateralConfig)?void 0:a.REPAY_WITH_COLLATERAL_ADAPTER)||"",r}m(t,e);var n=t.prototype;return n.swapAndRepay=function(e,t){var n=e.user,a=e.collateralAsset,r=e.debtAsset,i=e.collateralAmount,s=e.debtRepayAmount,o=e.debtRateMode,d=e.permit,u=e.useEthPath,l=this.getContractInstance(this.repayWithCollateralAddress),c=this.generateTxCallback({rawTxMethod:function(){return l.populateTransaction.swapAndRepay(a,r,i,s,o,d,u||!1)},from:n});return{tx:c,txType:C.DLP_ACTION,gas:this.generateTxPriceEstimation(t||[],c,S.repayCollateral)}},t}(at);Object(i["__decorate"])([ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("collateralAsset")),Object(i["__param"])(0,xe("debtAsset")),Object(i["__param"])(0,Se("collateralAmount")),Object(i["__param"])(0,Se("debtRepayAmount")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object,Array]),Object(i["__metadata"])("design:returntype",Object)],mt.prototype,"swapAndRepay",null),function(e){e[e["Short"]=0]="Short",e[e["Long"]=1]="Long"}(ft||(ft={})),function(e){e["Pending"]="Pending",e["Canceled"]="Canceled",e["Active"]="Active",e["Failed"]="Failed",e["Succeeded"]="Succeeded",e["Queued"]="Queued",e["Expired"]="Expired",e["Executed"]="Executed"}(yt||(yt={}));var bt="https://cloudflare-ipfs.com/ipfs";function ht(e){return bt+"/"+e}var Tt={};function gt(e){return vt.apply(this,arguments)}function vt(){return vt=f(M.mark((function t(n){var a,r,i;return M.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=u["base58"].encode(e.from("1220"+n.slice(2),"hex")),!Tt[a]){t.next=3;break}return t.abrupt("return",Tt[a]);case 3:return t.prev=3,t.next=6,c.a.get(ht(a),{timeout:2e3});case 6:if(r=t.sent,i=r.data,null!=i&&i.title){t.next=10;break}throw Error("Missing title field at proposal metadata.");case 10:if(null!=i&&i.description){t.next=12;break}throw Error("Missing description field at proposal metadata.");case 12:if(null!=i&&i.shortDescription){t.next=14;break}throw Error("Missing shortDescription field at proposal metadata.");case 14:return Tt[a]={ipfsHash:a,title:i.title,description:i.description,shortDescription:i.shortDescription},t.abrupt("return",Tt[a]);case 18:return t.prev=18,t.t0=t["catch"](3),console.error("@aave/protocol-js: IPFS fetch Error: "+t.t0.message),t.abrupt("return",{ipfsHash:a,title:"Proposal - "+a,description:"Proposal with invalid metadata format or IPFS gateway is down",shortDescription:"Proposal with invalid metadata format or IPFS gateway is down"});case 22:case"end":return t.stop()}}),t,null,[[3,18]])}))),vt.apply(this,arguments)}var wt=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u,l,c,p,f,y,m,b,h,T,g,v,w,_,O,A,j,k;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.id,a=t.creator,r=t.executor,i=t.targets,s=t.values,o=t.signatures,d=t.calldatas,u=t.withDelegatecalls,l=t.startBlock,c=t.endBlock,p=t.executionTime,f=t.forVotes,y=t.againstVotes,m=t.executed,b=t.canceled,h=t.strategy,T=t.ipfsHash,g=t.totalVotingSupply,v=t.minimumQuorum,w=t.minimumDiff,_=t.executionTimeWithGracePeriod,O=t.proposalCreated,A=t.proposalState,e.next=3,gt(T);case 3:return j=e.sent,k={id:Number(n.toString()),creator:a,executor:r,targets:i,values:s,signatures:o,calldatas:d,withDelegatecalls:u,startBlock:Number(l.toString()),endBlock:Number(c.toString()),executionTime:p.toString(),forVotes:f.toString(),againstVotes:y.toString(),executed:m,canceled:b,strategy:h,ipfsHash:j.ipfsHash,state:Object.values(yt)[A],minimumQuorum:v.toString(),minimumDiff:w.toString(),executionTimeWithGracePeriod:_.toString(),title:j.title,description:j.description,shortDescription:j.shortDescription,proposalCreated:Number(O.toString()),totalVotingSupply:g.toString()},e.abrupt("return",k);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t=function(e){function t(t,n){var a;a=e.call(this,t,W)||this,a.executors=[],a.governanceConfig=n;var r=a.governanceConfig||{},i=r.AAVE_GOVERNANCE_V2,s=r.AAVE_GOVERNANCE_V2_HELPER,o=r.AAVE_GOVERNANCE_V2_EXECUTOR_SHORT,d=r.AAVE_GOVERNANCE_V2_EXECUTOR_LONG;return a.aaveGovernanceV2Address=i||"",a.aaveGovernanceV2HelperAddress=s||"",a.executors[ft.Short]=o||"",a.executors[ft.Long]=d||"",a}m(t,e);var n=t.prototype;return n.create=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u,l,c,p,f=this;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.targets,r=t.values,i=t.signatures,s=t.calldatas,o=t.withDelegateCalls,d=t.ipfsHash,u=t.executor,l=[],c=this.getContractInstance(this.aaveGovernanceV2Address),p=this.generateTxCallback({rawTxMethod:function(){return c.populateTransaction.create(f.executors[u],a,r,i,s,o,d)},from:n}),l.push({tx:p,txType:C.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(l,p)}),e.abrupt("return",l);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.cancel=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.proposalId,r=[],i=this.getContractInstance(this.aaveGovernanceV2Address),s=this.generateTxCallback({rawTxMethod:function(){return i.populateTransaction.cancel(a)},from:n}),r.push({tx:s,txType:C.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(r,s)}),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.queue=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.proposalId,r=[],i=this.getContractInstance(this.aaveGovernanceV2Address),s=this.generateTxCallback({rawTxMethod:function(){return i.populateTransaction.queue(a)},from:n}),r.push({tx:s,txType:C.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(r,s)}),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.execute=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.proposalId,r=[],i=this.getContractInstance(this.aaveGovernanceV2Address),s=this.generateTxCallback({rawTxMethod:function(){return i.populateTransaction.execute(a)},from:n}),r.push({tx:s,txType:C.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(r,s)}),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.submitVote=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.proposalId,r=t.support,i=[],s=this.getContractInstance(this.aaveGovernanceV2Address),o=this.generateTxCallback({rawTxMethod:function(){return s.populateTransaction.submitVote(a,r)},from:n}),i.push({tx:o,txType:C.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(i,o)}),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.signVoting=function(){var e=f(M.mark((function e(t){var n,a,r;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.support,a=t.proposalId,r={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],VoteEmitted:[{name:"id",type:"uint256"},{name:"support",type:"bool"}]},primaryType:"VoteEmitted",domain:{name:"Aave Governance v2",chainId:x[this.config.network],verifyingContract:this.aaveGovernanceV2Address},message:{support:n,id:a}},e.abrupt("return",JSON.stringify(r));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.submitVoteBySignature=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,d,u,l;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.proposalId,r=t.support,i=t.signature,s=[],d=this.getContractInstance(this.aaveGovernanceV2Address),u=o["utils"].splitSignature(i),l=this.generateTxCallback({rawTxMethod:function(){return d.populateTransaction.submitVoteBySignature(a,r,u.v,u.r,u.s)},from:n}),s.push({tx:l,txType:C.GOVERNANCE_ACTION,gas:this.generateTxPriceEstimation(s,l)}),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getProposals=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.skip,a=t.limit,r=this.config.provider,i=te.connect(this.aaveGovernanceV2HelperAddress,r),e.next=5,i.getProposals(n.toString(),a.toString(),this.aaveGovernanceV2Address);case 5:return s=e.sent,o=Promise.all(s.map(function(){var e=f(M.mark((function e(t){return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",wt(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getProposal=function(){var e=f(M.mark((function e(t){var n,a,r,i;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.proposalId,a=this.config.provider,r=te.connect(this.aaveGovernanceV2HelperAddress,a),e.next=5,r.getProposal(n,this.aaveGovernanceV2Address);case 5:return i=e.sent,e.abrupt("return",wt(i));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getPropositionPowerAt=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.block,r=t.strategy,i=this.config.provider,s=X.connect(r,i),e.next=5,s.getPropositionPowerAt(n,a.toString());case 5:return o=e.sent,e.abrupt("return",Object(u["formatEther"])(o));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getVotingPowerAt=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.block,r=t.strategy,i=this.config.provider,s=X.connect(r,i),e.next=5,s.getVotingPowerAt(n,a.toString());case 5:return o=e.sent,e.abrupt("return",Object(u["formatEther"])(o));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getTotalPropositionSupplyAt=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.block,a=t.strategy,r=this.config.provider,i=X.connect(a,r),e.next=5,i.getTotalPropositionSupplyAt(n.toString());case 5:return s=e.sent,e.abrupt("return",Object(u["formatEther"])(s));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getTotalVotingSupplyAt=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.block,a=t.strategy,r=this.config.provider,i=X.connect(a,r),e.next=5,i.getTotalVotingSupplyAt(n.toString());case 5:return s=e.sent,e.abrupt("return",Object(u["formatEther"])(s));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getTokensPower=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.tokens,r=this.config.provider,i=te.connect(this.aaveGovernanceV2HelperAddress,r),s=i.getTokensPower(n,a),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getVoteOnProposal=function(){var e=f(M.mark((function e(t){var n,a,r;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.proposalId,a=t.user,r=this.getContractInstance(this.aaveGovernanceV2Address),e.abrupt("return",r.getVoteOnProposal(n,a));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([Qe,Object(i["__param"])(0,xe("user")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"create",null),Object(i["__decorate"])([Qe,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Pe("proposalId")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"cancel",null),Object(i["__decorate"])([Qe,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Pe("proposalId")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"queue",null),Object(i["__decorate"])([Qe,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Pe("proposalId")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"execute",null),Object(i["__decorate"])([Qe,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Pe("proposalId")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"submitVote",null),Object(i["__decorate"])([Qe,Object(i["__param"])(0,Pe("proposalId")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"signVoting",null),Object(i["__decorate"])([Qe,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Pe("proposalId")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"submitVoteBySignature",null),Object(i["__decorate"])([Qe,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"getProposals",null),Object(i["__decorate"])([Qe,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"getProposal",null),Object(i["__decorate"])([Qe,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"getPropositionPowerAt",null),Object(i["__decorate"])([Qe,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"getVotingPowerAt",null),Object(i["__decorate"])([Qe,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"getTotalPropositionSupplyAt",null),Object(i["__decorate"])([Qe,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"getTotalVotingSupplyAt",null),Object(i["__decorate"])([Qe,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"getTokensPower",null),Object(i["__decorate"])([Qe,Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],_t.prototype,"getVoteOnProposal",null);var Ot=function(e){function t(t){return e.call(this,t,Q)||this}m(t,e);var n=t.prototype;return n.delegate=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.delegatee,r=t.governanceToken,i=[],s=this.getContractInstance(r),e.next=5,this.getDelegateeAddress(a);case 5:return o=e.sent,d=this.generateTxCallback({rawTxMethod:function(){return s.populateTransaction.delegate(o)},from:n}),i.push({tx:d,txType:C.GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(i,d)}),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.delegateByType=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.delegatee,r=t.delegationType,i=t.governanceToken,s=[],o=this.getContractInstance(i),e.next=5,this.getDelegateeAddress(a);case 5:return d=e.sent,u=this.generateTxCallback({rawTxMethod:function(){return o.populateTransaction.delegateByType(d,r)},from:n}),s.push({tx:u,txType:C.GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(s,u)}),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.delegateBySig=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,l,c,p,f,y,m,b;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.delegatee,r=t.expiry,i=t.signature,s=t.governanceToken,o=[],d=this.getContractInstance(s),e.next=5,this.getNonce({user:n,governanceToken:s});case 5:return l=e.sent,c=Object(u["splitSignature"])(i),p=c.v,f=c.r,y=c.s,e.next=9,this.getDelegateeAddress(a);case 9:return m=e.sent,b=this.generateTxCallback({rawTxMethod:function(){return d.populateTransaction.delegateBySig(m,l,r,p,f,y)},from:n}),o.push({tx:b,txType:C.GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(o,b)}),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.delegateByTypeBySig=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,l,c,p,f,y,m,b,h;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.delegatee,r=t.delegationType,i=t.expiry,s=t.signature,o=t.governanceToken,d=[],l=this.getContractInstance(o),e.next=5,this.getNonce({user:n,governanceToken:o});case 5:return c=e.sent,p=Object(u["splitSignature"])(s),f=p.v,y=p.r,m=p.s,e.next=9,this.getDelegateeAddress(a);case 9:return b=e.sent,h=this.generateTxCallback({rawTxMethod:function(){return l.populateTransaction.delegateByTypeBySig(b,r,c,i,f,y,m)},from:n}),d.push({tx:h,txType:C.GOV_DELEGATION_ACTION,gas:this.generateTxPriceEstimation(d,h)}),e.abrupt("return",d);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.prepareDelegateSignature=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.delegatee,a=t.nonce,r=t.expiry,i=t.governanceTokenName,s=t.governanceToken,e.next=3,this.getDelegateeAddress(n);case 3:return o=e.sent,d={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Delegate:[{name:"delegatee",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"}]},primaryType:"Delegate",domain:{name:i,chainId:x[this.config.network],verifyingContract:s},message:{delegatee:o,nonce:a,expiry:r}},e.abrupt("return",JSON.stringify(d));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.prepareDelegateByTypeSignature=function(){var e=f(M.mark((function e(t){var n,a,r,i,s,o,d,u;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.delegatee,a=t.type,r=t.nonce,i=t.expiry,s=t.governanceTokenName,o=t.governanceToken,e.next=3,this.getDelegateeAddress(n);case 3:return d=e.sent,u={types:{EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],DelegateByType:[{name:"delegatee",type:"address"},{name:"type",type:"uint256"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"}]},primaryType:"DelegateByType",domain:{name:s,chainId:x[this.config.network],verifyingContract:o},message:{delegatee:d,type:a,nonce:r,expiry:i}},e.abrupt("return",JSON.stringify(u));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getDelegateeByType=function(){var e=f(M.mark((function e(t){var n,a,r,i;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.delegator,a=t.delegationType,r=t.governanceToken,i=this.getContractInstance(r),e.abrupt("return",i.getDelegateeByType(n,a));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getPowerCurrent=function(){var e=f(M.mark((function e(t){var n,a,r,i;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.delegationType,r=t.governanceToken,i=this.getContractInstance(r),e.next=4,i.getPowerCurrent(n,a);case 4:return e.abrupt("return",e.sent.toString());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getPowerAtBlock=function(){var e=f(M.mark((function e(t){var n,a,r,i,s;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.blockNumber,r=t.delegationType,i=t.governanceToken,s=this.getContractInstance(i),e.next=4,s.getPowerAtBlock(n,a,r);case 4:return e.abrupt("return",e.sent.toString());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getNonce=function(){var e=f(M.mark((function e(t){var n,a,r;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.user,a=t.governanceToken,r=this.getContractInstance(a),e.next=4,r._nonces(n);case 4:return e.abrupt("return",e.sent.toString());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),n.getDelegateeAddress=function(){var e=f(M.mark((function e(t){var n;return M.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!ve(t)){e.next=7;break}return e.next=3,this.config.provider.resolveName(t);case 3:if(n=e.sent,n){e.next=6;break}throw new Error("Address "+t+" is not a valid ENS address");case 6:return e.abrupt("return",n);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),t}(at);Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Ce("delegatee")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"delegate",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Ce("delegatee")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"delegateByType",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Ce("delegatee")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"delegateBySig",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,Ce("delegatee")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"delegateByTypeBySig",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,Ce("delegatee")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__param"])(0,Pe("nonce")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"prepareDelegateSignature",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,Ce("delegatee")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__param"])(0,Pe("nonce")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"prepareDelegateByTypeSignature",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("delegator")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"getDelegateeByType",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"getPowerCurrent",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__param"])(0,Se("blockNumber")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"getPowerAtBlock",null),Object(i["__decorate"])([Ze,Object(i["__param"])(0,xe("user")),Object(i["__param"])(0,xe("governanceToken")),Object(i["__metadata"])("design:type",Function),Object(i["__metadata"])("design:paramtypes",[Object]),Object(i["__metadata"])("design:returntype",Promise)],Ot.prototype,"getNonce",null)}).call(this,n("1c35").Buffer)},"5e58":function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"6a06":function(e,t,n){"use strict";var a=n("779d");e.exports=a.isStandardBrowserEnv()?function(){return{write:function(e,t,n,r,i,s){var o=[];o.push(e+"="+encodeURIComponent(t)),a.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),a.isString(r)&&o.push("path="+r),a.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"6f6c":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"779d":function(e,t,n){"use strict";var a=n("0c99"),r=Object.prototype.toString,i=function(e){return function(t){var n=r.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function s(e){return e=e.toLowerCase(),function(t){return i(t)===e}}function o(e){return Array.isArray(e)}function d(e){return"undefined"===typeof e}function u(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var l=s("ArrayBuffer");function c(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer),t}function p(e){return"string"===typeof e}function f(e){return"number"===typeof e}function y(e){return null!==e&&"object"===typeof e}function m(e){if("object"!==i(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var b=s("Date"),h=s("File"),T=s("Blob"),g=s("FileList");function v(e){return"[object Function]"===r.call(e)}function w(e){return y(e)&&v(e.pipe)}function _(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||r.call(e)===t||v(e.toString)&&e.toString()===t)}var O=s("URLSearchParams");function A(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function j(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function x(){var e={};function t(t,n){m(e[n])&&m(t)?e[n]=x(e[n],t):m(t)?e[n]=x({},t):o(t)?e[n]=t.slice():e[n]=t}for(var n=0,a=arguments.length;n<a;n++)k(arguments[n],t);return e}function C(e,t,n){return k(t,(function(t,r){e[r]=n&&"function"===typeof t?a(t,n):t})),e}function S(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}function P(e,t,n,a){e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function E(e,t,n){var a,r,i,s={};t=t||{};do{a=Object.getOwnPropertyNames(e),r=a.length;while(r-- >0)i=a[r],s[i]||(t[i]=e[i],s[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function D(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var a=e.indexOf(t,n);return-1!==a&&a===n}function I(e){if(!e)return null;var t=e.length;if(d(t))return null;var n=new Array(t);while(t-- >0)n[t]=e[t];return n}var R=function(e){return function(t){return e&&t instanceof e}}("undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array));e.exports={isArray:o,isArrayBuffer:l,isBuffer:u,isFormData:_,isArrayBufferView:c,isString:p,isNumber:f,isObject:y,isPlainObject:m,isUndefined:d,isDate:b,isFile:h,isBlob:T,isFunction:v,isStream:w,isURLSearchParams:O,isStandardBrowserEnv:j,forEach:k,merge:x,extend:C,trim:A,stripBOM:S,inherits:P,toFlatObject:E,kindOf:i,kindOfTest:s,endsWith:D,toArray:I,isTypedArray:R,isFileList:g}},"790b":function(e,t,n){"use strict";(function(t){var a=n("779d"),r=n("8faf"),i=n("dfab"),s=n("56d3"),o=n("e3f1"),d={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function l(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n("8ad3")),e}function c(e,t,n){if(a.isString(e))try{return(t||JSON.parse)(e),a.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}var p={transitional:s,adapter:l(),transformRequest:[function(e,t){if(r(t,"Accept"),r(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e))return e;if(a.isArrayBufferView(e))return e.buffer;if(a.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=a.isObject(e),s=t&&t["Content-Type"];if((n=a.isFileList(e))||i&&"multipart/form-data"===s){var d=this.env&&this.env.FormData;return o(n?{"files[]":e}:e,d&&new d)}return i||"application/json"===s?(u(t,"application/json"),c(e)):e}],transformResponse:[function(e){var t=this.transitional||p.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&a.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s){if("SyntaxError"===o.name)throw i.from(o,i.ERR_BAD_RESPONSE,this,null,this.response);throw o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n("a222")},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};a.forEach(["delete","get","head"],(function(e){p.headers[e]={}})),a.forEach(["post","put","patch"],(function(e){p.headers[e]=a.merge(d)})),e.exports=p}).call(this,n("f28c"))},"7a34":function(e,t,n){"use strict";var a=n("779d");e.exports=a.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var a=e;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=a.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return function(){return!0}}()},"7d0b":function(e,t,n){"use strict";n.r(t);var a=n("35a8");n.d(t,"id",(function(){return a["a"]}));var r=n("0a7f");n.d(t,"dnsEncode",(function(){return r["a"]})),n.d(t,"namehash",(function(){return r["d"]})),n.d(t,"isValidName",(function(){return r["c"]}));var i=n("714b");n.d(t,"messagePrefix",(function(){return i["b"]})),n.d(t,"hashMessage",(function(){return i["a"]})),n.d(t,"ensNormalize",(function(){return r["b"]}));var s=n("e108");n.d(t,"_TypedDataEncoder",(function(){return s["a"]}))},"7fd5":function(e,t,n){},"820a":function(e,t,n){"use strict";n.r(t);var a=n("3796");n.d(t,"computeHmac",(function(){return a["a"]})),n.d(t,"ripemd160",(function(){return a["b"]})),n.d(t,"sha256",(function(){return a["c"]})),n.d(t,"sha512",(function(){return a["d"]}));var r=n("d457");n.d(t,"SupportedAlgorithm",(function(){return r["a"]}))},8638:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"ReserveUpdateSubscription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pool"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reserves"},arguments:[{kind:"Argument",name:{kind:"Name",value:"where"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"pool"},value:{kind:"Variable",name:{kind:"Name",value:"pool"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReserveData"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReserveData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reserve"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"underlyingAsset"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"symbol"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"decimals"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isActive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFrozen"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"usageAsCollateralEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"borrowingEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableBorrowRateEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseLTVasCollateral"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"optimalUtilisationRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"averageStableRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableRateSlope1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableRateSlope2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseVariableBorrowRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variableRateSlope1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variableRateSlope2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variableBorrowIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variableBorrowRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalScaledVariableDebt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"liquidityIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reserveLiquidationThreshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aToken"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"vToken"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sToken"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableLiquidity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableBorrowRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"liquidityRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalPrincipalStableDebt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalLiquidity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"utilizationRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reserveLiquidationBonus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"priceInEth"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lastUpdateTimestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stableDebtLastUpdateTimestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reserveFactor"},arguments:[],directives:[]}]}}],loc:{start:0,end:947}};n.loc.source={body:"subscription ReserveUpdateSubscription($pool: String) {\r\n  reserves(where: {pool: $pool}) {\r\n    ...ReserveData\r\n  }\r\n}\r\n\r\nfragment ReserveData on Reserve {\r\n  id\r\n  underlyingAsset\r\n  name\r\n  symbol\r\n  decimals\r\n  isActive\r\n  isFrozen\r\n  usageAsCollateralEnabled\r\n  borrowingEnabled\r\n  stableBorrowRateEnabled\r\n  baseLTVasCollateral\r\n  optimalUtilisationRate\r\n  averageStableRate\r\n  stableRateSlope1\r\n  stableRateSlope2\r\n  baseVariableBorrowRate\r\n  variableRateSlope1\r\n  variableRateSlope2\r\n  variableBorrowIndex\r\n  variableBorrowRate\r\n  totalScaledVariableDebt\r\n  liquidityIndex\r\n  reserveLiquidationThreshold\r\n  aToken {\r\n    id\r\n  }\r\n  vToken {\r\n    id\r\n  }\r\n  sToken {\r\n    id\r\n  }\r\n  availableLiquidity\r\n  stableBorrowRate\r\n  liquidityRate\r\n  totalPrincipalStableDebt\r\n  totalLiquidity\r\n  utilizationRate\r\n  reserveLiquidationBonus\r\n  price {\r\n    priceInEth\r\n  }\r\n  lastUpdateTimestamp\r\n  stableDebtLastUpdateTimestamp\r\n  reserveFactor\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function s(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,s=new Set,o=new Set;a.forEach((function(e){o.add(e)}));while(o.size>0){var d=o;o=new Set,d.forEach((function(e){if(!s.has(e)){s.add(e);var t=r[e]||new Set;t.forEach((function(e){o.add(e)}))}}))}return s.forEach((function(t){var a=i(e,t);a&&n.definitions.push(a)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),r[e.name.value]=t}}))})(),e.exports=n,e.exports["ReserveUpdateSubscription"]=s(n,"ReserveUpdateSubscription"),e.exports["ReserveData"]=s(n,"ReserveData")},8852:function(e,t,n){e.exports=n.p+"img/icon-dapp-aave.b2663553.svg"},"8ad3":function(e,t,n){"use strict";var a=n("779d"),r=n("a5a3"),i=n("6a06"),s=n("58a7"),o=n("93a9"),d=n("2db0"),u=n("7a34"),l=n("56d3"),c=n("dfab"),p=n("0aa9"),f=n("e1be");e.exports=function(e){return new Promise((function(t,n){var y,m=e.data,b=e.headers,h=e.responseType;function T(){e.cancelToken&&e.cancelToken.unsubscribe(y),e.signal&&e.signal.removeEventListener("abort",y)}a.isFormData(m)&&a.isStandardBrowserEnv()&&delete b["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";b.Authorization="Basic "+btoa(v+":"+w)}var _=o(e.baseURL,e.url);function O(){if(g){var a="getAllResponseHeaders"in g?d(g.getAllResponseHeaders()):null,i=h&&"text"!==h&&"json"!==h?g.response:g.responseText,s={data:i,status:g.status,statusText:g.statusText,headers:a,config:e,request:g};r((function(e){t(e),T()}),(function(e){n(e),T()}),s),g=null}}if(g.open(e.method.toUpperCase(),s(_,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=O:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(O)},g.onabort=function(){g&&(n(new c("Request aborted",c.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new c("Network Error",c.ERR_NETWORK,e,g,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",a=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new c(t,a.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,e,g)),g=null},a.isStandardBrowserEnv()){var A=(e.withCredentials||u(_))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;A&&(b[e.xsrfHeaderName]=A)}"setRequestHeader"in g&&a.forEach(b,(function(e,t){"undefined"===typeof m&&"content-type"===t.toLowerCase()?delete b[t]:g.setRequestHeader(t,e)})),a.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),h&&"json"!==h&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(y=function(e){g&&(n(!e||e&&e.type?new p:e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(y),e.signal&&(e.signal.aborted?y():e.signal.addEventListener("abort",y))),m||(m=null);var j=f(_);j&&-1===["http","https","file"].indexOf(j)?n(new c("Unsupported protocol "+j+":",c.ERR_BAD_REQUEST,e)):g.send(m)}))}},"8c6a":function(e,t,n){"use strict";var a=n("779d"),r=n("58a7"),i=n("c247"),s=n("5e35"),o=n("dabf"),d=n("93a9"),u=n("49fe"),l=u.validators;function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=o(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var a=[],r=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));var i,d=[];if(this.interceptors.response.forEach((function(e){d.push(e.fulfilled,e.rejected)})),!r){var c=[s,void 0];Array.prototype.unshift.apply(c,a),c=c.concat(d),i=Promise.resolve(t);while(c.length)i=i.then(c.shift(),c.shift());return i}var p=t;while(a.length){var f=a.shift(),y=a.shift();try{p=f(p)}catch(m){y(m);break}}try{i=s(p)}catch(m){return Promise.reject(m)}while(d.length)i=i.then(d.shift(),d.shift());return i},c.prototype.getUri=function(e){e=o(this.defaults,e);var t=d(e.baseURL,e.url);return r(t,e.params,e.paramsSerializer)},a.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}})),a.forEach(["post","put","patch"],(function(e){function t(t){return function(n,a,r){return this.request(o(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}c.prototype[e]=t(),c.prototype[e+"Form"]=t(!0)})),e.exports=c},"8e19":function(e,t,n){"use strict";n.r(t);var a=n("70be");n.d(t,"formatBytes32String",(function(){return a["a"]})),n.d(t,"parseBytes32String",(function(){return a["b"]}));var r=n("8424");n.d(t,"nameprep",(function(){return r["a"]}));var i=n("5273");n.d(t,"_toEscapedUtf8String",(function(){return i["d"]})),n.d(t,"toUtf8Bytes",(function(){return i["f"]})),n.d(t,"toUtf8CodePoints",(function(){return i["g"]})),n.d(t,"toUtf8String",(function(){return i["h"]})),n.d(t,"Utf8ErrorFuncs",(function(){return i["b"]})),n.d(t,"Utf8ErrorReason",(function(){return i["c"]})),n.d(t,"UnicodeNormalizationForm",(function(){return i["a"]}))},"8faf":function(e,t,n){"use strict";var a=n("779d");e.exports=function(e,t){a.forEach(e,(function(n,a){a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[a])}))}},"908b":function(e,t,n){e.exports=n("abaa")},"93a9":function(e,t,n){"use strict";var a=n("93dc"),r=n("5e58");e.exports=function(e,t){return e&&!a(t)?r(e,t):t}},"93dc":function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},"98db":function(e,t,n){(function(e,t){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;(function(n){(function(e){var a="object"===typeof t?t:"object"===typeof self?self:"object"===typeof this?this:Function("return this;")(),r=i(n);function i(e,t){return function(n,a){"function"!==typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:a}),t&&t(n,a)}}"undefined"===typeof a.Reflect?a.Reflect=n:r=i(a.Reflect,r),e(r)})((function(t){var n=Object.prototype.hasOwnProperty,a="function"===typeof Symbol,r=a&&"undefined"!==typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=a&&"undefined"!==typeof Symbol.iterator?Symbol.iterator:"@@iterator",s="function"===typeof Object.create,o={__proto__:[]}instanceof Array,d=!s&&!o,u={create:s?function(){return ie(Object.create(null))}:o?function(){return ie({__proto__:null})}:function(){return ie({})},has:d?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:d?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),c="object"===typeof e&&Object({NODE_ENV:"production",BASE_URL:""})&&"true"===Object({NODE_ENV:"production",BASE_URL:""})["REFLECT_METADATA_USE_MAP_POLYFILL"],p=c||"function"!==typeof Map||"function"!==typeof Map.prototype.entries?ne():Map,f=c||"function"!==typeof Set||"function"!==typeof Set.prototype.entries?ae():Set,y=c||"function"!==typeof WeakMap?re():WeakMap,m=new y;function b(e,t,n,a){if(U(n)){if(!z(e))throw new TypeError;if(!K(t))throw new TypeError;return k(e,t)}if(!z(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(a)&&!U(a)&&!N(a))throw new TypeError;return N(a)&&(a=void 0),n=G(n),x(e,t,n,a)}function h(e,t){function n(n,a){if(!F(n))throw new TypeError;if(!U(a)&&!$(a))throw new TypeError;I(e,t,n,a)}return n}function T(e,t,n,a){if(!F(n))throw new TypeError;return U(a)||(a=G(a)),I(e,t,n,a)}function g(e,t,n){if(!F(t))throw new TypeError;return U(n)||(n=G(n)),S(e,t,n)}function v(e,t,n){if(!F(t))throw new TypeError;return U(n)||(n=G(n)),P(e,t,n)}function w(e,t,n){if(!F(t))throw new TypeError;return U(n)||(n=G(n)),E(e,t,n)}function _(e,t,n){if(!F(t))throw new TypeError;return U(n)||(n=G(n)),D(e,t,n)}function O(e,t){if(!F(e))throw new TypeError;return U(t)||(t=G(t)),R(e,t)}function A(e,t){if(!F(e))throw new TypeError;return U(t)||(t=G(t)),M(e,t)}function j(e,t,n){if(!F(t))throw new TypeError;U(n)||(n=G(n));var a=C(t,n,!1);if(U(a))return!1;if(!a.delete(e))return!1;if(a.size>0)return!0;var r=m.get(t);return r.delete(n),r.size>0||m.delete(t),!0}function k(e,t){for(var n=e.length-1;n>=0;--n){var a=e[n],r=a(t);if(!U(r)&&!N(r)){if(!K(r))throw new TypeError;t=r}}return t}function x(e,t,n,a){for(var r=e.length-1;r>=0;--r){var i=e[r],s=i(t,n,a);if(!U(s)&&!N(s)){if(!F(s))throw new TypeError;a=s}}return a}function C(e,t,n){var a=m.get(e);if(U(a)){if(!n)return;a=new p,m.set(e,a)}var r=a.get(t);if(U(r)){if(!n)return;r=new p,a.set(t,r)}return r}function S(e,t,n){var a=P(e,t,n);if(a)return!0;var r=te(t);return!N(r)&&S(e,r,n)}function P(e,t,n){var a=C(t,n,!1);return!U(a)&&W(a.has(e))}function E(e,t,n){var a=P(e,t,n);if(a)return D(e,t,n);var r=te(t);return N(r)?void 0:E(e,r,n)}function D(e,t,n){var a=C(t,n,!1);if(!U(a))return a.get(e)}function I(e,t,n,a){var r=C(n,a,!0);r.set(e,t)}function R(e,t){var n=M(e,t),a=te(e);if(null===a)return n;var r=R(a,t);if(r.length<=0)return n;if(n.length<=0)return r;for(var i=new f,s=[],o=0,d=n;o<d.length;o++){var u=d[o],l=i.has(u);l||(i.add(u),s.push(u))}for(var c=0,p=r;c<p.length;c++){u=p[c],l=i.has(u);l||(i.add(u),s.push(u))}return s}function M(e,t){var n=[],a=C(e,t,!1);if(U(a))return n;var r=a.keys(),i=Q(r),s=0;while(1){var o=X(i);if(!o)return n.length=s,n;var d=Z(o);try{n[s]=d}catch(u){try{ee(i)}finally{throw u}}s++}}function B(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function U(e){return void 0===e}function N(e){return null===e}function L(e){return"symbol"===typeof e}function F(e){return"object"===typeof e?null!==e:"function"===typeof e}function V(e,t){switch(B(e)){case 0:return e;case 1:return e;case 2:return e;case 3:return e;case 4:return e;case 5:return e}var n=3===t?"string":5===t?"number":"default",a=J(e,r);if(void 0!==a){var i=a.call(e,n);if(F(i))throw new TypeError;return i}return H(e,"default"===n?"number":n)}function H(e,t){if("string"===t){var n=e.toString;if(Y(n)){var a=n.call(e);if(!F(a))return a}var r=e.valueOf;if(Y(r)){a=r.call(e);if(!F(a))return a}}else{r=e.valueOf;if(Y(r)){a=r.call(e);if(!F(a))return a}var i=e.toString;if(Y(i)){a=i.call(e);if(!F(a))return a}}throw new TypeError}function W(e){return!!e}function q(e){return""+e}function G(e){var t=V(e,3);return L(t)?t:q(t)}function z(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function Y(e){return"function"===typeof e}function K(e){return"function"===typeof e}function $(e){switch(B(e)){case 3:return!0;case 4:return!0;default:return!1}}function J(e,t){var n=e[t];if(void 0!==n&&null!==n){if(!Y(n))throw new TypeError;return n}}function Q(e){var t=J(e,i);if(!Y(t))throw new TypeError;var n=t.call(e);if(!F(n))throw new TypeError;return n}function Z(e){return e.value}function X(e){var t=e.next();return!t.done&&t}function ee(e){var t=e["return"];t&&t.call(e)}function te(e){var t=Object.getPrototypeOf(e);if("function"!==typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,a=n&&Object.getPrototypeOf(n);if(null==a||a===Object.prototype)return t;var r=a.constructor;return"function"!==typeof r||r===e?t:r}function ne(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var a=this._keys.length,r=n+1;r<a;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,a)},t.prototype.values=function(){return new n(this._keys,this._values,r)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function a(e,t){return e}function r(e,t){return t}function s(e,t){return[e,t]}}function ae(){return function(){function e(){this._map=new p}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function re(){var e=16,t=u.create(),a=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){var n=i(e,!0);return n[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var e;do{e="@@WeakMap@@"+d()}while(u.has(t,e));return t[e]=!0,e}function i(e,t){if(!n.call(e,a)){if(!t)return;Object.defineProperty(e,a,{value:u.create()})}return e[a]}function s(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function o(e){return"function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):s(new Uint8Array(e),e):s(new Array(e),e)}function d(){var t=o(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",a=0;a<e;++a){var r=t[a];4!==a&&6!==a&&8!==a||(n+="-"),r<16&&(n+="0"),n+=r.toString(16).toLowerCase()}return n}}function ie(e){return e.__=void 0,delete e.__,e}t("decorate",b),t("metadata",h),t("defineMetadata",T),t("hasMetadata",g),t("hasOwnMetadata",v),t("getMetadata",w),t("getOwnMetadata",_),t("getMetadataKeys",O),t("getOwnMetadataKeys",A),t("deleteMetadata",j)}))})(n||(n={}))}).call(this,n("f28c"),n("c8ba"))},a222:function(e,t){e.exports=null},a5a3:function(e,t,n){"use strict";var a=n("dfab");e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new a("Request failed with status code "+n.status,[a.ERR_BAD_REQUEST,a.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},a7ba:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},abaa:function(e,t,n){"use strict";var a=n("779d"),r=n("0c99"),i=n("8c6a"),s=n("dabf"),o=n("790b");function d(e){var t=new i(e),n=r(i.prototype.request,t);return a.extend(n,i.prototype,t),a.extend(n,t),n.create=function(t){return d(s(e,t))},n}var u=d(o);u.Axios=i,u.CanceledError=n("0aa9"),u.CancelToken=n("e20e"),u.isCancel=n("a7ba"),u.VERSION=n("5383").version,u.toFormData=n("e3f1"),u.AxiosError=n("dfab"),u.Cancel=u.CanceledError,u.all=function(e){return Promise.all(e)},u.spread=n("6f6c"),u.isAxiosError=n("be48"),e.exports=u,e.exports.default=u},ac0c:function(e,t,n){"use strict";n("5792")},b048:function(e,t,n){"use strict";n.r(t),t["default"]=function(e,t){return t=t||{},new Promise((function(n,a){var r=new XMLHttpRequest,i=[],s=[],o={},d=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(r.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:d,headers:{keys:function(){return i},entries:function(){return s},get:function(e){return o[e.toLowerCase()]},has:function(e){return e.toLowerCase()in o}}}};for(var u in r.open(t.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){i.push(t=t.toLowerCase()),s.push([t,n]),o[t]=o[t]?o[t]+","+n:n})),n(d())},r.onerror=a,r.withCredentials="include"==t.credentials,t.headers)r.setRequestHeader(u,t.headers[u]);r.send(t.body||null)}))}},bc86:function(e,t,n){"use strict";n.d(t,"l",(function(){return o})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return b})),n.d(t,"i",(function(){return h})),n.d(t,"k",(function(){return T})),n.d(t,"g",(function(){return g}));var a=n("901e"),r=n("e36d"),i=n("6779"),s=n("0356");const o=(e,t)=>new a["BigNumber"](e).shiftedBy(t).toFixed(0),d=e=>e.toLowerCase().endsWith(".eth"),u=(e,t)=>e.toLowerCase()===y.toLowerCase()?t:l,l=r["a"].from(0).toHexString(),c=i["constants"].MaxUint256.toString(),p="115792089237316195423570985008687907853269984665640564039457584007913129639935",f="11579208923731619542357098500868790785326998466564056403945758400791",y="0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",m="0.1",b="0.05",h={[s["c"].default]:{limit:"210000",recommended:"210000"},[s["c"].supply]:{limit:"300000",recommended:"300000"},[s["c"].deposit]:{limit:"300000",recommended:"300000"},[s["c"].withdraw]:{limit:"230000",recommended:"300000"},[s["c"].liquidationCall]:{limit:"700000",recommended:"700000"},[s["c"].liquidationFlash]:{limit:"995000",recommended:"995000"},[s["c"].repay]:{limit:"300000",recommended:"300000"},[s["c"].borrowETH]:{limit:"450000",recommended:"450000"},[s["c"].withdrawETH]:{limit:"640000",recommended:"640000"},[s["c"].swapCollateral]:{limit:"1000000",recommended:"1000000"},[s["c"].repayCollateral]:{limit:"700000",recommended:"700000"}},T={AAVE:o("100",18),BAT:o("100000",18),BUSD:o("10000",18),DAI:o("10000",18),ENJ:o("100000",18),KNC:o("10000",18),LEND:o("1000",18),LINK:o("1000",18),MANA:o("100000",18),MKR:o("10",18),WETH:o("10",18),REN:o("10000",18),REP:o("1000",18),SNX:o("100",18),SUSD:o("10000",18),TUSD:"0",UNI:o("1000",18),USDC:o("10000",6),USDT:o("10000",6),WBTC:o("1",8),YFI:o("1",18),ZRX:o("100000",18),UNIUSDC:o(m,6),UNIDAI:o(m,18),UNIUSDT:o(m,6),UNIDAIETH:o(m,18),UNIUSDCETH:o(m,18),UNISETHETH:o(m,18),UNILENDETH:o(m,18),UNILINKETH:o(m,18),UNIMKRETH:o(m,18),EURS:o("10000",2),AGEUR:o("10000",18),BAL:o("10000",18),CRV:o("10000",18),DPI:o("10000",18),GHST:o("10000",18),JEUR:o("10000",18),SUSHI:o("10000",18)},g=e=>{switch(e.slice(0,10)){case"0x935fb84b":return 36;case"0xc03786b0":return 100;case"0xb2f1e6db":return 68;case"0xb66bcbac":case"0x35326910":return 164;default:throw new Error("Unrecognized function selector for Augustus")}}},be48:function(e,t,n){"use strict";var a=n("779d");e.exports=function(e){return a.isObject(e)&&!0===e.isAxiosError}},c247:function(e,t,n){"use strict";var a=n("779d");function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){a.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},c607:function(e,t,n){var a=n("83ab"),r=n("fce3"),i=n("c6b6"),s=n("edd0"),o=n("69f3").get,d=RegExp.prototype,u=TypeError;a&&r&&s(d,"dotAll",{configurable:!0,get:function(){if(this!==d){if("RegExp"===i(this))return!!o(this).dotAll;throw u("Incompatible receiver, RegExp required")}}})},ce08:function(e,t,n){e.exports=self.fetch||(self.fetch=n("b048").default||n("b048"))},cf20:function(e,t,n){"use strict";var a=n("779d"),r=n("790b");e.exports=function(e,t,n){var i=this||r;return a.forEach(n,(function(n){e=n.call(i,e,t)})),e}},d73f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAMLUlEQVR42uVbfXBU1RX/nfeySSQwxBkVCZZ+MA3lYyj7NpsERRM1JGSzbZ12BvCb4kxrpS22Wgs60xg/KbGKMxVnqtRCEUP5B8ru5sPILDWFwL7NKqOxZMRxLCRY6ACTxCT78u7pH30Pr8tush8vHWd6Zpgh7+279/5+99xzzj33XGJmwv+x5E11B+FweObw8PBNzLwEQCmA+cx8DYAZ1j8AGAQwSET/AnACQB8RHS8qKvpbdXX1xakcH02FBrS3t88zDOMuAD5m1gCoWTZlElEPgJDL5dpVV1d38stMgBoIBFYDeICZr5+S2SI6DGCb3+/fA8D8shCghkKhtUKIjcw8L8XAR5n5mKIoHzBzH4BPiGjQUn0AmMHMMwDMJaJSIcQCIipn5sIU7Z1UFGWzz+f7U65E5ERAa2trxfj4+DYA7iSDPA1gNxG1FhUVHamurh7L0HYUDA8PL2PmegB3MPOcJD+L5eXlPVBfX3/0f02AGgwGtzDzg4nfE9EhVVWfqa+vfwuAcEj7ldbW1ltN03yUmasS+mMi2trQ0PBINtqQMQFdXV3F58+f3wNgRcJA3lMUZZPP5wtOpdUOhUINQohnmXlxwqs3r7zyytXLly+/MGUEdHR0zI/H4/uZuVQCfoqIGhsaGnY4OOOTakQwGLyXmZuY+TppLH35+fnfq62tPeE4AaFQqE4I0cLMM6UOO4qLi9dkyrpT0tXVVXzhwoUWZq6VxnRRUZQ1Pp+v3TECQqFQnWmaAdmfE9GLfr//YafcUS5e6MCBA80AHpTjB1VV/emQMCkBltp3SzMfV1V1vc/n2+7Ael6cl5c3VFtb+7EDbd1nmuZLAPJtTcjPz6+cbDkok6mYteYvgXe5XD4nwAOAEKJ5bGzsaSfa8vl8210ulw9AHACYeWY8Ht/f1dVVnC0B6vnz5/fIBk9V1fUrV6486MSAW1tbVzBzHRGtCQQCXifaXLly5UFVVdfbfzNzqeWx1IwJCAaDWxJc3VanZh6AMj4+3mwNkgA855RBsMa4VXq0wsKSvg1obW2tME3zsP2OiDr8fn+DUwYvGAyuE0K8mhBHfN/v9+9zcF8StL0DEbGqqtcnixiTaYA6Pj6+TQJ/qri4eI1T4Ds6OqYJIZ5I8mpzNBp1antuFhcXryGiU7aWWSG7OikBoVBorRzbE1Gjk34+Ho8/DKAk8Tkzl545c+Z+p/pZvnz5BSJqlB65LWwTEqAKITbK4a0V4TmVJ7iWmR9O9Z6ZfxMOh2c61V9DQ8MOInpP8jobE7XgCwQEAoHV8pZWUZRNToa3hmE0AZg+AQFXDQ4ObnQwSBIWBrv9eVbOIqUGPCDv6pzc2HR0dCxi5nVpJD02hEKhuQ56hSARHUqG8QsEtLe3z5MzOaqqPuNkvBqPx7ekkxpj5kIhxNNO9i1jYebr29vb511GgJXDu5TMsPbzTm1ha6zERrpyR1tbW5lT/dfX179lJWguwyovAZ/0/9edTGYIIbZk8oHltpqdtAUWpsuwKlb6aaaVvbU1oM3B2b+HmZdm+h0zV4VCoe86NQ4ZEzNrtrdRAGB4ePgme30S0WhRUdERJzqNRqNXCCGezDqaMc3fOhUcFRUVHSGiUdssWJgvLYFvS+wcyzSBmUrOnDnzUIpkZroyf2Bg4EdOjKW6unqMmY9JOJdcIkAIUSr5/g9y7aypqYna29uvFUL8yoGxN+7bt29mU1NTzucXMjZmng9YR2NEVMrM9ou+XIBLbu9xfH70lbUw89Wqqv4awGN2+42NjZxlW32STSi9pAHWWZ0tn2QDXAavadoCAPc5aMAe9Hq9X0lGdIbyiUTGNbINmCF1NpjtrEuSVtCTwcwVmqb51ESkp0mkjG1GUgLw+XFVVuArKipuTogpnNKCO91ut5bmBKSSywjIy3Wty7Jw4UIyDKMZUyDMTETUDODWVOPJxjYoqZjJFDwAFBYWLgewBFMkRHSD1+tdks3YUmn6ZQRYp7RZddDT0/M2M3+LiF4GMOIg9iEAWxVF+WYkEjme7QQlYPucAKsyw5a5WbILAIjFYh9Fo9GfMvPXiehJAP/OYcbPKIryWH5+/ld7enoeikQi/8xlicrYbMxKKv+YDXi32311eXl5iUXE2Wg0+vjo6OjXVFXdAODjDID3KYry45GRkW/our65u7v7AgAsXbrUW1lZWZwtCQnYTsgacEJKGy3IdsZisdhZwzCe1jRtq8fjmQ0Avb29n0Uikd+XlJSUqqp6J4DYBE10K4ryg+nTpy/Sdf3V3t7eMSuuKNc0LaiqaoNNRpaGdKH0Z59MwHGJpfJwOFyQbdDhcrl+BqAWwIeapr3gdruvtdJtZiQSaenp6SlTVbWWmTut/hhAAEB1T0/PDbqu7zt06JCwZ1zTtACAIwBc06dPfyJbb2Vh8ko4jwPWuUA4HJ45ODh4zg5eFEW5paGhIZxtxOV2uxcrinKEmacBGGHmPwDYEovFzsi/83g8S4korut6b8LzMmZutOMJIjothPDEYrGzWW0mGhs5GAxWCyHsUy1zxowZV1VXV19UrJ3SRasay1aV+lxMdiwWe4+I7NzbFUS0gYg+1DTtucrKylnSdvkdGbymaR632/1XZj4qgR8notuzBZ8MExH12OV3ckYoJKekwuFwTqGsrut/BiCf/lwB4BeGYXzodrubvV7vNZLGaJqm7QdwjIgaEgzXJl3X/57LWCwsdyTDqkhrd5fE1pyRkZFbHAhcNhDROwkzMY2IfimEOKlp2u80TdtHRBEA/iRN7Nd1/flcxzEyMnKLnJeQsV4ioK6u7qRVh2dnYx51ICM0CmAVEV1MopLT8N+ihu+kIO8jRVF+6EQUJWMhosNywWXiucA2OSfn9Xp9DpBwkojWZag5Y0S0Stf1nMtkvV6vL6GybFuyvQAAwO/37yGik1JM8GxVVZWS6yB0Xd8H4IUMMjcbdF2P5dpvVVWVIoR4ViL2pFVlilQaYCqKslnSgsXDw8P3OKGGeXl5myx/Ppm1fj0SibziRJ/Dw8P3yOV0FjZzIgIwa9asHXK0xsxN6YafE8lrr702bhjG7UR0bgLwvefOnfvJ+++/n3P+r7KyspiZm2TvbGHDhAQEAgGTiNZbERqY+bp4PN7i9/uzdos2oJaWllNCiLuR/NBlyDCMVW1tbZ/J32Qjfr9fjcfjLXYNoVVNuj4QCJgTEmBHftFo9Cgzvyi9WtHf3/9cLuBt2bVr15sAnkpi+O7fs2fPPyb6Nl05ffp0M6TyHmZ+MRqNHp0oIXKZlJSUPGLH65b83Ov1rssFvC0DAwNPyW0T0cs7d+5syaSNCaz+OiLaIIHvLCkpeSTV3iYlAYFAwCwoKFhNRH2SP33JyvnlJJ2dnWJsbOxu68AyOjIy8pATRq+iouJmq1bw0ra6oKBgdTLVn5QAAOju7r5ARLdJgUy+YRihdDRhspnbu3fvWQBrTNNcvXfv3ngubdkzbxhGCFKhJBHdNtn2eVIfr+v6CUVR5CKpfNM0X3G73c/nYhgBYOfOnUd27979cS5t+P1+1e12P2+a5is2eMudr9F1fdKi6bSCnEgk0qGqql8OaYloQ39/f9AJF5mLq+vv7w/Ka56ILqqq6o9EIh2ZZIXTIoGIlsk2AcAKwzDeLSsrW+tExJhJhFdWVrbWMIx3ZWtPRH1EtCxd8BkRYC8Hl8u1TLbgzHydEGL70NBQzIm9Qzqx/dDQUEwIsV2+K8DMnS6Xa1k6ap81AbZhnDNnjg/AVjtYssNm0zQPeDyeg+Xl5TU1NTWOaURNTY1SXl5e4/F4DpqmeUAOb60xbJ0zZ44vm3zhF0plM02BeTyeCmZ+CSkuTQkhdhNR28DAQHdnZ+dYhqALZs+eXcnMKxVFSXlpiojWpwpyJkqROUKAbYU//fTTeye7NieEiBDRpWtzsG6LWj+xb5HOtY7qFyiK4p3s2tysWbN2TOTj0yEg5/ITawB/9Pv9OwYGBlYhycVJZi4kohsB3Eg0OcdEBLteIeH5YQDbZs+e/ZdsgCfdpTq1Tq0BvQHgDY/HM4+Z77ISm27kcHXW2pmGiGhXNBp1/OrslFyetgbaBKBp4cKFxYWFhTdaNTnzrdOZq5Hk8jSAs8zcZ7nad0dHR9/u7e2d0gtZl90XcKIWJ9cNjS2LFi1ip8eSeIT+H+5oKS95H3D1AAAAAElFTkSuQmCC"},dabf:function(e,t,n){"use strict";var a=n("779d");e.exports=function(e,t){t=t||{};var n={};function r(e,t){return a.isPlainObject(e)&&a.isPlainObject(t)?a.merge(e,t):a.isPlainObject(t)?a.merge({},t):a.isArray(t)?t.slice():t}function i(n){return a.isUndefined(t[n])?a.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function s(e){if(!a.isUndefined(t[e]))return r(void 0,t[e])}function o(n){return a.isUndefined(t[n])?a.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function d(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:d};return a.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,r=t(e);a.isUndefined(r)&&t!==d||(n[e]=r)})),n}},dfab:function(e,t,n){"use strict";var a=n("779d");function r(e,t,n,a,r){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r)}a.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=r.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(r,s),Object.defineProperty(i,"isAxiosError",{value:!0}),r.from=function(e,t,n,s,o,d){var u=Object.create(i);return a.toFlatObject(e,u,(function(e){return e!==Error.prototype})),r.call(u,e.message,t,n,s,o),u.name=e.name,d&&Object.assign(u,d),u},e.exports=r},e1be:function(e,t,n){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},e20e:function(e,t,n){"use strict";var a=n("0aa9");function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,a=n._listeners.length;for(t=0;t<a;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,a=new Promise((function(e){n.subscribe(e),t=e})).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e((function(e){n.reason||(n.reason=new a(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e,t=new r((function(t){e=t}));return{token:t,cancel:e}},e.exports=r},e3f1:function(e,t,n){"use strict";(function(t){var a=n("779d");function r(e,n){n=n||new FormData;var r=[];function i(e){return null===e?"":a.isDate(e)?e.toISOString():a.isArrayBuffer(e)||a.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):t.from(e):e}function s(e,t){if(a.isPlainObject(e)||a.isArray(e)){if(-1!==r.indexOf(e))throw Error("Circular reference detected in "+t);r.push(e),a.forEach(e,(function(e,r){if(!a.isUndefined(e)){var o,d=t?t+"."+r:r;if(e&&!t&&"object"===typeof e)if(a.endsWith(r,"{}"))e=JSON.stringify(e);else if(a.endsWith(r,"[]")&&(o=a.toArray(e)))return void o.forEach((function(e){!a.isUndefined(e)&&n.append(d,i(e))}));s(e,d)}})),r.pop()}else n.append(t,i(e))}return s(e),n}e.exports=r}).call(this,n("1c35").Buffer)},edd0:function(e,t,n){var a=n("13d2"),r=n("9bf2");e.exports=function(e,t,n){return n.get&&a(n.get,t,{getter:!0}),n.set&&a(n.set,t,{setter:!0}),r.f(e,t,n)}},eed8:function(e,t,n){"use strict";(function(e){n("4d8a"),n("ce08")}).call(this,n("1c35").Buffer)},f01d:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p}));var a=n("6779"),r=n("bc86"),i=n("fbe8");function s(t,n,a,r){const s=Reflect.getOwnMetadata(i["k"],t,n);s&&s.forEach(t=>{if(t.field){if(a[0][t.field]&&e.byteLength(a[0][t.field],"utf8")>32)throw new Error(`Deadline: ${a[0][t.field]} is bigger than 32 bytes`)}else{const n=null===r||void 0===r?void 0:r[t.index];if(a[t.index]&&!n&&e.byteLength(a[t.index],"utf8")>32)throw new Error(`Deadline: ${a[t.index]} is bigger than 32 bytes`)}})}function o(e,t,n,r){const s=Reflect.getOwnMetadata(i["h"],e,t);s&&s.forEach(e=>{if(e.field){if(n[0][e.field]&&!a["utils"].isAddress(n[0][e.field]))throw new Error(`Address: ${n[0][e.field]} is not a valid ethereum Address`)}else{const t=null===r||void 0===r?void 0:r[e.index];if(n[e.index]&&!t&&!a["utils"].isAddress(n[e.index]))throw new Error(`Address: ${n[e.index]} is not a valid ethereum Address`)}})}function d(e,t,n,r){const s=Reflect.getOwnMetadata(i["f"],e,t);s&&s.forEach(e=>{if(e.field){if(n[0][e.field]&&n[0][e.field].length>0){const t=n[0][e.field];t.forEach(e=>{if(!a["utils"].isAddress(e))throw new Error(`Address: ${e} is not a valid ethereum Address`)})}}else{const t=null===r||void 0===r?void 0:r[e.index];if(n[e.index]&&!t&&n[e.index].length>0){const t=n[e.index];t.forEach(e=>{if(!a["utils"].isAddress(e))throw new Error(`Address: ${e} is not a valid ethereum Address`)})}}})}function u(e,t,n,s){const o=Reflect.getOwnMetadata(i["j"],e,t);o&&o.forEach(e=>{if(e.field){if(n[0][e.field]&&!a["utils"].isAddress(n[0][e.field])&&!Object(r["h"])(n[0][e.field]))throw new Error(`Address ${n[0][e.field]} is not valid ENS format or a valid ethereum Address`)}else{const t=null===s||void 0===s?void 0:s[e.index];if(n[e.index]&&!t&&!a["utils"].isAddress(n[e.index])&&!Object(r["h"])(n[e.index]))throw new Error(`Address ${n[e.index]} is not valid ENS format or a valid ethereum Address`)}})}function l(e,t,n,a){const r=Reflect.getOwnMetadata(i["m"],e,t);r&&r.forEach(e=>{if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>0))throw new Error(`Amount: ${n[0][e.field]} needs to be greater than 0`)}else{const t=null===a||void 0===a?void 0:a[e.index];if(!t&&!(Number(n[e.index])>0))throw new Error(`Amount: ${n[e.index]} needs to be greater than 0`)}})}function c(e,t,n,a){const r=Reflect.getOwnMetadata(i["b"],e,t);r&&r.forEach(e=>{if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>=0))throw new Error(`Amount: ${n[0][e.field]} needs to be greater or equal than 0`)}else{const t=null===a||void 0===a?void 0:a[e.index];if(!t&&!(Number(n[e.index])>=0))throw new Error(`Amount: ${n[e.index]} needs to be greater or equal than 0`)}})}function p(e,t,n,a){const r=Reflect.getOwnMetadata(i["o"],e,t);r&&r.forEach(e=>{if(e.field){if(n[0][e.field]&&!(Number(n[0][e.field])>0||"-1"===n[0][e.field]))throw new Error(`Amount: ${n[0][e.field]} needs to be greater than 0 or -1`)}else{const t=null===a||void 0===a?void 0:a[e.index];if(!t&&!(Number(n[e.index])>0||"-1"===n[e.index]))throw new Error(`Amount: ${n[e.index]} needs to be greater than 0 or -1`)}})}}).call(this,n("1c35").Buffer)},fbe8:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"k",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"m",(function(){return o})),n.d(t,"o",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return y})),n.d(t,"l",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"n",(function(){return h}));n("98db");const a=Symbol("ethAddress"),r=Symbol("deadline32Bytes"),i=Symbol("ethAddressArray"),s=Symbol("ethOrENSAddress"),o=Symbol("isPositive"),d=Symbol("isPositiveOrMinusOne"),u=Symbol("is0OrPositiveMetadataKey"),l=(Symbol("Optional"),Symbol("isEthAddressArrayMetadataKeyNotEmpty"));function c(e){return function(t,n,a){const i=Reflect.getOwnMetadata(r,t,n)||[];i.push({index:a,field:e}),Reflect.defineMetadata(r,i,t,n)}}function p(e){return function(t,n,r){const i=Reflect.getOwnMetadata(a,t,n)||[];i.push({index:r,field:e}),Reflect.defineMetadata(a,i,t,n)}}function f(e){return function(t,n,a){const r=Reflect.getOwnMetadata(i,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(i,r,t,n)}}function y(e){return function(t,n,a){const r=Reflect.getOwnMetadata(s,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(s,r,t,n)}}function m(e){return function(t,n,a){const r=Reflect.getOwnMetadata(o,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(o,r,t,n)}}function b(e){return function(t,n,a){const r=Reflect.getOwnMetadata(u,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(u,r,t,n)}}function h(e){return function(t,n,a){const r=Reflect.getOwnMetadata(d,t,n)||[];r.push({index:a,field:e}),Reflect.defineMetadata(d,r,t,n)}}}}]);
//# sourceMappingURL=../sourcemaps/js/dapp-aave~31ecd969.7b4502c7.js.map
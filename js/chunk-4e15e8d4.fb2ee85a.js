(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e15e8d4"],{"3d2e":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("mew-module",{staticClass:"d-flex flex-grow-1 pt-6",attrs:{title:e.title,"has-elevation":!0,"has-indicator":!0},scopedSlots:e._u([{key:"moduleBody",fn:function(){return[s("div",[s("v-textarea",{attrs:{outlined:"",label:"Signature",value:e.message},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),s("div",{staticClass:"text-right"},[s("mew-button",{staticClass:"mr-4",attrs:{"btn-style":"light",title:"Clear all"},nativeOn:{click:function(t){return e.clearAll.apply(null,arguments)}}}),s("mew-button",{attrs:{title:"Sign",disabled:e.disableSignBtn},nativeOn:{click:function(t){return e.signMessage.apply(null,arguments)}}})],1)],1)]},proxy:!0}])})},a=[],i=s("5530"),r=s("2f62"),c=s("dd34"),l={name:"ModuleMessageSign",data:function(){return{title:"Sign Message",message:"",signature:"",signAndVerify:""}},computed:Object(i["a"])(Object(i["a"])({},Object(r["e"])("wallet",["instance"])),{},{disableSignBtn:function(){return""===this.message}}),mounted:function(){this.signAndVerify=new c["a"]},methods:{signMessage:function(){var e=this;try{this.signAndVerify.signMessage(this.message).catch((function(t){e.instance.errorHandler(t.message)}))}catch(t){this.instance.errorHandler(t.hasOwnProperty("message")?t.message:t)}},clearAll:function(){this.signature="",this.message=""}}},u=l,o=s("2877"),d=Object(o["a"])(u,n,a,!1,null,"f7d1908a",null);t["default"]=d.exports},5653:function(e,t,s){"use strict";(function(e){var n=s("5b66"),a=function(t){return Object(n["isHexString"])(t)?Object(n["toBuffer"])(t):e.from(t)};t["a"]=a}).call(this,s("1c35").Buffer)},b7ea:function(e,t,s){"use strict";t["a"]={SIGN_FAILED:"Failed to sign message",INVALID_LENGTH:"Invalid signature length",FAILED_TO_VERIFY:"Failed to verify signature"}},dd34:function(e,t,s){"use strict";(function(e){s.d(t,"a",(function(){return o}));var n=s("d4ec"),a=s("bee2"),i=(s("e9c4"),s("ac1f"),s("5319"),s("fb6a"),s("d3b7"),s("25f0"),s("5b66")),r=s("5653"),c=s("27ca"),l=s("2f62"),u=s("b7ea"),o=function(){function t(){Object(n["a"])(this,t),this.$store=c["a"],Object.assign(this,Object(l["e"])("wallet",["web3","address","isHardware","identifier"]))}return Object(a["a"])(t,[{key:"signMessage",value:function(e){var t=this;try{return this.web3().eth.sign(e,this.address()).then((function(e){return t.signature=JSON.stringify({address:t.address(),msg:t.message,sig:e,version:"3",signer:t.isHardware()?t.identifier():"MEW"},null,2),t.signature}))}catch(s){throw u["a"].SIGN_FAILED}}},{key:"verifyMessage",value:function(t){try{var s=JSON.parse(t),n=Object(i["hashPersonalMessage"])(Object(r["a"])(s.msg)),a=e.from(s.sig.replace("0x",""),"hex");if(65!==a.length)throw u["a"].INVALID_LENGTH;a[64]=0===a[64]||1===a[64]?a[64]+27:a[64],"1"===s.version&&(n=this.web3().utils.sha3(s.msg));var c=Object(i["ecrecover"])(n,a[64],a.slice(0,32),a.slice(32,64));return{verified:!s.address.replace("0x","").toLowerCase()!==Object(i["pubToAddress"])(c).toString("hex").toLowerCase(),signer:Object(i["pubToAddress"])(c).toString("hex").toLowerCase()}}catch(l){throw u["a"].FAILED_TO_VERIFY}}}]),t}()}).call(this,s("1c35").Buffer)}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-4e15e8d4.fb2ee85a.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62a38d9d"],{c825:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("mew-module",{staticClass:"d-flex flex-grow-1 pt-6",attrs:{title:"Send Offline","has-elevation":!0,"has-indicator":!0},scopedSlots:e._u([{key:"moduleBody",fn:function(){return[n("v-row",{staticClass:"mt-5"},[n("v-col",{staticClass:"pr-sm-1 pt-0 pb-0 pb-sm-4",attrs:{cols:"12",sm:"6"}},[n("div",{staticClass:"position--relative"},[n("mew-select",{attrs:{label:"Token",items:e.tokens,"is-custom":!0},model:{value:e.selectedCurrency,callback:function(t){e.selectedCurrency=t},expression:"selectedCurrency"}})],1)]),n("v-col",{staticClass:"pl-sm-1 pt-0 pb-2 pb-sm-4",attrs:{cols:"12",sm:"6"}},[n("div",{staticClass:"position--relative"},[n("mew-input",{staticClass:"SendOfflineAmountInput",attrs:{label:"Amount",placeholder:"0","error-messages":e.amountErrors,type:"number"},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1)]),n("v-col",{staticClass:"pt-4 pb-2",attrs:{cols:"12"}},[n("module-address-book",{ref:"addressInput",staticClass:"SendOfflineAddressBook",on:{setAddress:e.setAddress}})],1),n("v-col",{attrs:{cols:"12"}},[n("mew-input",{staticClass:"SendOfflineNonceInput",attrs:{label:e.$t("sendTx.nonce"),placeholder:"0",type:"number","error-messages":e.nonceErrors},model:{value:e.localNonce,callback:function(t){e.localNonce=t},expression:"localNonce"}})],1),n("v-col",{attrs:{cols:"12"}},[n("mew-input",{staticClass:"mb-8 SendOFflineDataInput",attrs:{label:"Data",placeholder:"0x...","error-messages":e.dataErrors,disabled:e.disableData},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})],1),n("v-col",{attrs:{cols:"12"}},[n("mew-input",{staticClass:"SendOfflineGasLimitInput",attrs:{label:e.$t("common.gas.limit"),"error-messages":e.gasLimitErrors,type:"number"},model:{value:e.gasLimit,callback:function(t){e.gasLimit=t},expression:"gasLimit"}})],1),n("v-col",{attrs:{cols:"12"}},[n("mew-input",{staticClass:"SendOfflineGasPriceInput",attrs:{label:"Gas Price (in wei)","error-messages":e.gasPriceErrors,type:"number"},model:{value:e.gasPrice,callback:function(t){e.gasPrice=t},expression:"gasPrice"}})],1)],1),n("div",{staticClass:"d-flex flex-column mt-12"},[n("div",{staticClass:"text-center"},[n("mew-button",{staticClass:"SendOfflineGenerateTransactionButton",attrs:{title:"Generate Transaction","has-full-width":!1,"btn-size":"xlarge",disabled:e.isDisabledNextBtn},nativeOn:{click:function(t){return e.generateTx.apply(null,arguments)}}})],1),n("div",{staticClass:"text-center"},[n("div",{staticClass:"d-flex flex-column justify-center"},[n("input",{ref:"upload",staticClass:"SendOfflineUploadInput",staticStyle:{opacity:"0"},attrs:{type:"file",accept:"json"},on:{change:e.upload}}),n("mew-button",{staticClass:"mt-2 display--block mx-auto SendOfflineUploadJsonButton",attrs:{title:"Upload JSON file","btn-size":"small","btn-style":"transparent"},nativeOn:{click:function(t){return e.$refs.upload.click()}}})],1),n("mew-button",{attrs:{title:e.$t("common.clear-all"),"has-full-width":!1,"btn-size":"small","btn-style":"transparent"},nativeOn:{click:function(t){return e.clear()}}})],1)])]},proxy:!0}])}),n("mew-overlay",{attrs:{"show-overlay":e.isSignedTxOpen,title:"Signed Transaction",close:function(){return e.isSignedTxOpen=!1},"content-size":"xlarge"}},[e.signedTransaction?n("div",{staticClass:"text-center",staticStyle:{width:"100%"}},[n("mew-text-area",{ref:"signedTxInput",staticClass:"SendOfflineSignedTxResultInput",staticStyle:{width:"100%"},attrs:{label:"Signed Transaction",readonly:"",value:e.signedTransaction.rawTransaction}}),n("mew-text-area",{staticClass:"mt-12",staticStyle:{width:"100%"},attrs:{label:"Signed Raw Transaction",readonly:"",value:e.signed}}),n("mew-button",{staticClass:"mt-5",attrs:{title:"Copy And Continue"},nativeOn:{click:function(t){return e.copyAndContinue.apply(null,arguments)}}}),n("div",{staticClass:"pt-3"},[n("a",{staticClass:"mew-body",attrs:{href:e.jsonFile,download:e.jsonFileName,rel:"noopener noreferrer"}},[e._v("Download")])])],1):e._e()])],1)},a=[],i=n("c7eb"),r=n("1da1"),o=n("5530"),c=(n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),n("e9c4"),n("2b3d"),n("9861"),n("99af"),n("25f0"),n("498a"),n("4de4"),n("07ac"),n("f1cd")),l=n.n(c),d=n("5ba3"),u=n("2f62"),m=n("901e"),h=n.n(m),p=n("99e5"),b=n.n(p),f=n("5b66"),w=n("2ef0"),g=n("e510"),y=n("7466"),O=n("9b88"),v=n("ac8e"),k={components:{ModuleAddressBook:function(){return Promise.all([n.e("chunk-648fac10"),n.e("chunk-9375b7d6")]).then(n.bind(null,"4b90"))}},data:function(){return{isSignedTxOpen:!1,localNonce:"0",gasLimit:"21000",gasPrice:"0",toAddress:"",isValidAddress:!1,amount:"0",selectedCurrency:{},data:"0x",userInputType:"",defaultGasLimit:"21000",gasLimitError:"",amountError:"",signed:null,raw:null,signedTransaction:null,jsonFileName:"",jsonFile:null,tokens:[],nodes:g,chainID:1}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["e"])("wallet",["address","instance"])),Object(u["c"])("global",["network"])),{},{networkToken:function(){return{symbol:this.network.type.currencyName,name:this.network.type.name}},isDisabledNextBtn:function(){return""!==this.nonceErrors||""!==this.dataErrors||""!==this.gasLimitErrors||""!==this.gasPriceErrors||""!==this.amountErrors||!this.validAddress},nonceErrors:function(){return h()(this.localNonce).lt(0)||""===this.localNonce||null===this.localNonce?"Nonce has to be greater than or equal to 0!":""},dataErrors:function(){return Object(d["isHexStrict"])(this.data)?"":"Invalid data hex"},gasLimitErrors:function(){return this.gasLimit?h()(this.gasLimit).lte(0)?"Gas limit must be greater than 0":h()(this.gasLimit).dp()>0?"Gas limit can not have decimal points":Object(d["toBN"])(this.gasLimit).lt(Object(d["toBN"])(this.defaultGasLimit))?"Amount too low. Transaction will fail":"":"Required"},gasPriceErrors:function(){return this.gasPrice?h()(this.gasPrice).lte(0)?"Gas price must be greater than 0":"":"Required"},amountErrors:function(){return this.amount?h()(this.amount).lt(0)?"Amount must be greater than or equal to 0":"":"Required"},disableData:function(){var e;return(null===(e=this.selectedCurrency)||void 0===e?void 0:e.symbol)!==this.network.type.currencyName},validAddress:function(){return""!==this.toAddress&&Object(f["isValidAddress"])(this.toAddress)},canGenerate:function(){return this.validAddress&&!Object(w["isEmpty"])(this.selectedCurrency)&&this.selectedCurrency.symbol!==this.network.type.currencyName}}),watch:{signed:function(e){var t=JSON.parse(e),n=JSON.stringify(t),s=new Blob([n],{type:"mime"});this.jsonFileName="signedTransactionObject-".concat(+new Date,".json"),this.jsonFile=window.URL.createObjectURL(s)},selectedCurrency:{handler:function(){this.canGenerate&&this.generateData()},deep:!0},toAddress:function(){this.canGenerate&&this.generateData()},network:function(){this.selectedCurrency=this.networkToken,this.generateTokens()}},mounted:function(){this.selectedCurrency=this.networkToken,this.generateTokens()},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["b"])("wallet",["setWeb3Instance"])),Object(u["b"])("global",["setNetwork"])),{},{generateTokens:function(){var e=this,t=[this.networkToken];this.network.type.tokens.then((function(n){e.tokens=t.concat(n)}))},generateData:function(){var e=new b.a(this.network.url),t=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],n=new e.eth.Contract(t,this.selectedCurrency.address),s=Object(d["toBN"])(this.amount);this.data=n.methods.transfer(this.toAddress.toLowerCase(),s).encodeABI()},copyAndContinue:function(){l()(this.$refs.signedTxInput.value),this.isSignedTxOpen=!1},clear:function(){this.$refs&&this.$refs.addressInput&&this.$refs.addressInput.clear(),this.toAddress="",this.selectedCurrency=this.networkToken,this.isValidAddress=!1,this.amount="0",this.data="0x",this.userInputType="",this.localNonce="0",this.gasPrice="0",this.defaultGasLimit="21000",this.gasLimitError="",this.amountError=""},setAddress:function(e,t,n){this.toAddress=e,this.isValidAddress=t,this.userInputType=n},upload:function(e){var t=e.target.files,n=new FileReader,s=this;n.onloadend=function(e){var t=e.target.result;try{var n=JSON.parse(t);if(n.nonce)return s.localNonce=Object(d["hexToNumberString"])(n.nonce),s.gasPrice=Object(d["hexToNumberString"])(n.gasPrice),s.chainID=Object(d["hexToNumberString"])(n.chainID),s.setNetworkDebounced(s.chainID),void(s.$refs.upload.value="");Object(O["e"])("Malformed File",{},"error")}catch(a){Object(O["e"])("Incorrect File Type",{},"error")}},t[0]&&n.readAsBinaryString(t[0])},generateTx:function(){var e=this;return Object(r["a"])(Object(i["a"])().mark((function t(){var n,s,a,r,o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.network.type.currencyName,s=e.selectedCurrency.symbol!==n,a=Object(d["toWei"])(e.amount,"ether"),r={nonce:Object(y["a"])(Object(v["h"])(e.localNonce).toString(16)),gasLimit:Object(y["a"])(Object(v["h"])(e.gasLimit).toString(16)),gasPrice:Object(y["a"])(Object(v["h"])(e.gasPrice).toString(16)),to:s?e.selectedCurrency.address:e.toAddress.toLowerCase().trim(),value:s?Object(y["a"])(Object(v["h"])(0).toString(16)):Object(y["a"])(Object(v["h"])(a).toString(16)),data:e.data,chainId:e.network.type.chainID},e.raw=r,t.next=7,e.instance.signTransaction(e.raw);case 7:o=t.sent,e.signedTransaction=o,e.signed=JSON.stringify(o),window.scrollTo(0,0),e.clear(),e.isSignedTxOpen=!0;case 13:case"end":return t.stop()}}),t)})))()},setNetworkDebounced:Object(w["debounce"])((function(e){var t,n=this,s=Object.values(this.nodes).filter((function(t){if(t.type.chainID==e)return t}));this.setNetwork({network:s[0],walletType:(null===(t=this.instance)||void 0===t?void 0:t.identifier)||""}).then((function(){n.setWeb3Instance(),Object(O["e"])("Switched network to: ".concat(s[0].type.name),{},O["d"])})).catch((function(e){Object(O["e"])(e,{},O["a"])}))}),1e3)})},j=k,C=n("2877"),x=Object(C["a"])(j,s,a,!1,null,null,null);t["default"]=x.exports},f1cd:function(e,t){function n(){return new DOMException("The request is not allowed","NotAllowedError")}async function s(e){if(!navigator.clipboard)throw n();return navigator.clipboard.writeText(e)}async function a(e){const t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);const s=window.getSelection(),a=window.document.createRange();s.removeAllRanges(),a.selectNode(t),s.addRange(a);let i=!1;try{i=window.document.execCommand("copy")}finally{s.removeAllRanges(),window.document.body.removeChild(t)}if(!i)throw n()}async function i(e){try{await s(e)}catch(t){try{await a(e)}catch(i){throw i||t||n()}}}
/*! clipboard-copy. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.exports=i}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-62a38d9d.11e37726.js.map
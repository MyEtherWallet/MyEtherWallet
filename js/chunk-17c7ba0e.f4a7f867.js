(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17c7ba0e"],{"0003":function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return s}));a("b680"),a("d3b7"),a("25f0");var n=a("901e"),i=a.n(n);function r(t){return i.a.isBigNumber(t)||(t=new i.a(t)),t.times(100).toString()}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return i.a.isBigNumber(t)||(t=new i.a(t)),!isFinite(t)||isNaN(t)?"--":a?t.toFixed(e,i.a.ROUND_DOWN).toString():t.toFixed(e).toString()}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=o(r(t),e,a);return isFinite(n)&&new i.a(n).gt(0)?n:"--"}},"102f":function(t,e,a){},1071:function(t,e,a){"use strict";var n=a("b0e3"),i=a.n(n);i.a},"124a":function(t,e,a){},1768:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"expanding-option",class:t.hidebottomborder?"hide-bottom-border":""},[a("div",{staticClass:"title-bar-container"},[a("div",{staticClass:"input-title"},[t._v(t._s(t.title))]),t.popover?a("popover",{attrs:{popcontent:t.popover}}):t._e(),""===t.buttonText||t.showEnable?t._e():a("div",{staticClass:"button-text"},[t._v(" "+t._s(t.buttonText)+" ")]),t.showEnable&&!t.expanded?a("div",{staticClass:"button-text"},[t._v(" "+t._s(t.buttonText)+" ")]):t._e(),t.showEnable&&t.expanded?a("div",{staticClass:"button-text"},[t._v(" "+t._s(t.$t("common.yes"))+" ")]):t._e(),a("div",{staticClass:"switch sliding-switch-white"},[a("label",{staticClass:"switch"},[a("input",{attrs:{type:"checkbox"},on:{click:t.optionExpanded}}),a("span",{staticClass:"slider round"})])])],1),a("div",{staticClass:"contnet-container",class:t.expanded?"expanded":""},[a("div",{staticClass:"content-block"},[t._t("default")],2)])])},i=[],r={props:{title:{type:String,default:""},buttonText:{type:String,default:""},hidebottomborder:{type:Boolean,default:!1},popover:{type:String,default:""},showEnable:{type:Boolean,default:!1}},data:function(){return{expanded:!1}},methods:{optionExpanded:function(){this.expanded=!this.expanded,this.$emit("expanded",this.expanded)}}},o=r,s=(a("a158"),a("2877")),c=Object(s["a"])(o,n,i,!1,null,"0fe729f8",null),u=c.exports},"25c8":function(t,e,a){"use strict";var n=a("adcb"),i=a.n(n);i.a},"262b":function(t,e,a){},"27a2":function(t,e,a){"use strict";var n=a("5c2d"),i=a.n(n);i.a},40:function(t,e){},5991:function(t,e,a){"use strict";var n=a("60c1"),i=a.n(n);i.a},"5c2d":function(t,e,a){},"60c1":function(t,e,a){},7007:function(t,e,a){},"80ed":function(t,e,a){var n={"./DSChief.json":"57a57","./DSToken.json":"f1af","./Dai.json":"b555","./DssCdpManager.json":"0b7c4","./End.json":"096e","./GetCdps.json":"7cf0","./MigrationProxyActions.json":"493a","./Pot.json":"5a11","./Redeemer.json":"fece","./SaiTub.json":"df43","./ScdMcdMigration.json":"a18a","./Vat.json":"d986","./VoteProxy.json":"8bf2","./VoteProxyFactory.json":"522c"};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=r,t.exports=i,i.id="80ed"},"8bf4":function(t,e,a){"use strict";a.r(e);var n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-maker"},[a("deposit-modal",{ref:"deposit",attrs:{values:t.activeValues,"calc-collat-ratio-dai-chg":t.calcCollatRatioDaiChg,"calc-collat-ratio-eth-chg":t.calcCollatRatioEthChg,"calc-liquidation-price-eth-chg":t.calcLiquidationPriceEthChg,"calc-liquidation-price-dai-chg":t.calcLiquidationPriceDaiChg,"get-value-or-function":t.getValueOrFunction,"active-cdp-id":t.activeCdpId,"tokens-with-balance":t.tokensWithBalance},on:{lockEth:t.lockEth}}),a("generate-modal",{ref:"generate",attrs:{values:t.activeValues,"calc-collat-ratio-dai-chg":t.calcCollatRatioDaiChg,"calc-collat-ratio-eth-chg":t.calcCollatRatioEthChg,"calc-liquidation-price-eth-chg":t.calcLiquidationPriceEthChg,"calc-liquidation-price-dai-chg":t.calcLiquidationPriceDaiChg,"get-value-or-function":t.getValueOrFunction,"active-cdp-id":t.activeCdpId,"tokens-with-balance":t.tokensWithBalance},on:{drawDai:t.drawDai}}),a("withdraw-modal",{ref:"withdraw",attrs:{values:t.activeValues,"calc-collat-ratio-dai-chg":t.calcCollatRatioDaiChg,"calc-collat-ratio-eth-chg":t.calcCollatRatioEthChg,"calc-liquidation-price-eth-chg":t.calcLiquidationPriceEthChg,"calc-liquidation-price-dai-chg":t.calcLiquidationPriceDaiChg,"get-value-or-function":t.getValueOrFunction,"active-cdp-id":t.activeCdpId,"tokens-with-balance":t.tokensWithBalance},on:{approveDai:t.approveDai,approveMkr:t.approveMkr,freeEth:t.freeEth}}),a("payback-modal",{ref:"payback",attrs:{values:t.activeValues,"calc-collat-ratio-dai-chg":t.calcCollatRatioDaiChg,"calc-collat-ratio-eth-chg":t.calcCollatRatioEthChg,"calc-liquidation-price-eth-chg":t.calcLiquidationPriceEthChg,"calc-liquidation-price-dai-chg":t.calcLiquidationPriceDaiChg,"get-value-or-function":t.getValueOrFunction,"active-cdp-id":t.activeCdpId,"tokens-with-balance":t.tokensWithBalance},on:{approveDai:t.approveDai,approveMkr:t.approveMkr,wipeDai:t.wipeDai}}),a("move-cdp-modal",{ref:"moveCdp",attrs:{values:t.activeValues,"calc-collat-ratio-dai-chg":t.calcCollatRatioDaiChg,"calc-collat-ratio-eth-chg":t.calcCollatRatioEthChg,"calc-liquidation-price-eth-chg":t.calcLiquidationPriceEthChg,"calc-liquidation-price-dai-chg":t.calcLiquidationPriceDaiChg,"get-value-or-function":t.getValueOrFunction,"active-cdp-id":t.activeCdpId,"dest-address-has-proxy":t.destAddressHasProxy,"dest-address-proxy":t.destAddressProxy,"tokens-with-balance":t.tokensWithBalance},on:{moveCdp:t.moveCdp,checkForProxy:t.checkIfDestAddressHasProxy}}),a("back-button",{attrs:{path:t.backPath()}},[a("div",{staticClass:"back-bar-container"},[t.showMoveOrClose?a("div",{staticClass:"header-buttons-container"},[a("div",{staticClass:"inner-container"},[a("button",{staticClass:"move-btn",on:{click:t.showMove}},[a("h4",[t._v(t._s(t.$t("dappsMCDMaker.move-vault")))])])])]):t._e()])]),t.makerActive&&t.listCdps&&t.showManageable?a("div",{staticClass:"px-5 pt-3 pb-5"},[a("h3",{staticClass:"mb-3"},[t._v("Select your vault to see details.")]),a("div",{staticClass:"buttons-container"},t._l(t.cdps,(function(e,n){return a("div",{key:n+e},[a("b-button",{staticClass:"mr-2 mb-1",attrs:{variant:"primary"},on:{click:function(a){return t.openManage(e)}}},[a("b",[t._v(t._s(t.$t("dappsMCDMaker.vault-id")))]),a("b-badge",{staticClass:"ml-2",staticStyle:{"font-size":"15px"},attrs:{variant:"light"}},[t._v("# "+t._s(e))])],1)],1)})),0)]):t._e(),a("div",{staticClass:"px-5 py-3"},[a("router-view",{attrs:{"active-cdp-id":t.activeCdpId,"loading-state":t.currentlyLoading,"build-empty":t.buildEmpty,"maker-active":t.makerActive,"eth-price":t.ethPrice,"liquidation-penalty":t.liquidationPenalty,"stability-fee":t.stabilityFee,"liquidation-ratio":t.liquidationRatio,"price-service":t.priceService,"cdp-service":t.cdpService,"proxy-service":t.proxyService,cdps:t.cdps,"cdps-without-proxy":t.cdpsWithoutProxy,"cdp-details-loaded":t.cdpDetailsLoaded,"tokens-with-balance":t.tokensWithBalance,"migration-in-progress":t.migrationInProgress,"open-close-modal":t.openCloseModal,"open-move-modal":t.openMoveModal,"values-updated":t.valuesUpdated,values:t.activeValues,"get-collateral-options":t.getCollateralOptions,"get-value-or-function":t.getValueOrFunction,"get-cdp":t.getCdp,"has-cdp":t.hasCdp},on:{activeCdpId:t.setupCdpManageFunc,cdpOpened:t.addCdp,cdpClosed:t.removeCdp,modalHidden:t.modalHidden,managerUpdate:t.doUpdate,showWithdraw:t.showWithdraw,showPayback:t.showPayback,showGenerate:t.showGenerate,showDeposit:t.showDeposit,migrateCdp:t.migrateCdpExternal,proceedtoCreateOrManage:t.proceedtoCreateOrManage,approveCurrency:t.approveCurrency,setActiveCdpId:t.setActiveCdpId,setAfterLoadPage:t.setAfterLoadPage}})],1),a("interface-footer")],1)},r=[],o=(a("7db0"),a("caad"),a("13d5"),a("b0c0"),a("b64b"),a("d3b7"),a("25f0"),a("2532"),a("d0ff")),s=(a("96cf"),a("c964")),c=a("fc11"),u=a("f3f3"),d=a("2f62"),l=a("572c"),p=a("d572"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-container"},[a("b-modal",{ref:"modal",staticClass:"bootstrap-modal nopadding",attrs:{title:t.$t("dappsMCDMaker.move-title"),"hide-footer":"",centered:"",static:"",lazy:""}},[a("div",{staticClass:"modal-content"},[a("p",{staticClass:"top-text"},[t._v(" "+t._s(t.$t("dappsMCDMaker.move-notice"))+" ")]),a("check-box",{on:{changeStatus:t.checkBoxClicked},scopedSlots:t._u([{key:"terms",fn:function(){return[a("p",{staticClass:"checkbox-label"},[t._v(" "+t._s(t.$t("dappsMCDMaker.understand-and-agree"))+" ")])]},proxy:!0}])}),a("div",{staticClass:"input-container"},[a("label",[t._v(t._s(t.$t("dappsMCDMaker.move-question")))]),a("div",{staticClass:"input-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})])]),a("div",[t.destAddressHasProxy?a("div",[a("p",[t._v(" "+t._s(t.$t("dappsMCDMaker.proxy-address",{value:t.destAddressProxy}))+" ")]),t._v(" "+t._s(t.$t("dappsMCDMaker.move-with-proxy"))+" ")]):t._e(),t.destAddressHasProxy?t._e():a("div",[t._v(" "+t._s(t.$t("dappsMCDMaker.move-without-proxy"))+" ")])]),a("div",{staticClass:"buttons"},[a("standard-button",{attrs:{options:{title:t.$t("common.cancel"),buttonStyle:"green-border",noMinWidth:!0},"click-function":t.closeModal}}),a("standard-button",{attrs:{options:{title:t.$t("common.submit"),buttonStyle:"green",noMinWidth:!0,fullWidth:!0},"button-disabled":!t.btnActive,"click-function":t.moveCdp}})],1),a("help-center-button")],1)])],1)},m=[],C=(a("a9e3"),a("b680"),a("a8f0")),f=a("76ed"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"check-box"},[a("label",{staticClass:"check-box-container"},[a("input",{attrs:{type:"checkbox"},on:{click:t.checkBoxClicked}}),a("span",{staticClass:"checkmark"}),t._t("terms")],2)])},g=[],b={data:function(){return{checkboxChecked:!1}},methods:{checkBoxClicked:function(){this.checkboxChecked=!this.checkboxChecked,this.$emit("changeStatus",this.checkboxChecked)}}},y=b,k=(a("b18c"),a("2877")),x=Object(k["a"])(y,v,g,!1,null,"3e6e47df",null),w=x.exports,M=a("901e"),_=a.n(M),D=a("ce96"),P={components:{"check-box":w,"help-center-button":f["a"],"standard-button":C["a"]},props:{tokensWithBalance:{type:Array,default:function(){return[]}},action:{type:String,default:""},values:{type:Object,default:function(){return{maxEthDraw:"",maxUsdDraw:"",ethCollateral:"",usdCollateral:"",debtValue:"",maxDai:"",collateralRatio:"",cdpId:""}}},destAddressHasProxy:{type:Boolean,default:!1},destAddressProxy:{type:String,default:""},activeCdpId:{type:Number,default:0},makerActive:{type:Boolean,default:!1},getValueOrFunction:{type:Function,default:function(){}}},data:function(){return{address:"",amountEth:0,amountDai:0,govFee:0,modalDetailInformation:!1,checkBoxChecked:!1,textValues:{},mkrToken:{}}},computed:Object(u["a"])({},Object(d["c"])("main",["account","gasPrice","web3","network","ens"]),{btnActive:function(){return D["d"].isValidETHAddress(this.address)&&this.checkBoxChecked}}),watch:{address:function(t){D["d"].isValidETHAddress(t)&&this.$emit("checkForProxy",t)}},mounted:function(){var t=this;this.$refs.modal.$on("shown",(function(){t.cdpId=t.$route.params.cdpId,t.isVisible=!0,t.address="",t.getActiveCdp()})),this.$refs.modal.$on("hidden",(function(){t.isVisible=!1})),this.makerActive&&this.getActiveCdp()},methods:{getActiveCdp:function(){this.cdpId>0&&(this.currentCdp=this.getValueOrFunction("getCdp")(this.cdpId),this.currentCdpType=this.currentCdp.cdpCollateralType,this.$forceUpdate())},closeCdp:function(){this.activeCdp.closeCdp()},checkBoxClicked:function(){this.checkBoxChecked=!this.checkBoxChecked},displayPercentValue:function(t){return _.a.isBigNumber(t)||(t=new _.a(t)),t.times(100).toString()},displayFixedValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return _.a.isBigNumber(t)||(t=new _.a(t)),t.toFixed(e,_.a.ROUND_DOWN).toString()},moveCdp:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.currentCdp&&D["d"].isValidETHAddress(t.address)&&(t.currentCdp.moveCdp(t.address),t.closeModal());case 1:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$refs.modal.hide()}}},O=P,A=(a("98ae"),Object(k["a"])(O,h,m,!1,null,"55362b74",null)),R=A.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-container"},[a("b-modal",{ref:"modal",staticClass:"bootstrap-modal nopadding",attrs:{title:t.$t("dappsMCDMaker.generate-title"),centered:"","hide-footer":"",static:"",lazy:""}},[a("div",{staticClass:"contents"},[a("div",{staticClass:"inputs"},[a("div",{staticClass:"interface__block-title"},[t._v(" "+t._s(t.$t("dappsMCDMaker.generate-question"))+" ")]),a("div",{staticClass:"top-buttons"},[a("p",{staticClass:"total"},[a("span",[t._v(t._s(t.$t("dappsMCDMaker.total")))]),t._v(" "+t._s(t.displayFixedValue(t.newTotal,10))+" "),t._v(" DAI ")]),a("p",{staticClass:"max",on:{click:t.maxDai}},[t._v(" "+t._s(t.$t("dappsMCDMaker.max-available"))+" ")])]),a("div",{class:["input-box",t.allOk?"":"danger"]},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),a("p",{staticClass:"input-unit"},[t._v(t._s(t.$t("dappsMCDMaker.dai")))])]),a("div",{staticClass:"sub-text"},[t.canGenerateDaiAmount?t._e():a("p",{staticClass:"above-max"},[t._v(" "+t._s(t.$t("dappsMCDMaker.above-max-dai"))+" ")]),a("p",[t._v(" "+t._s(t.$t("dappsMCDMaker.collateral-ratio-val",{value:t.displayFixedPercent(t.newCollateralRatio())}))+" ")])])]),a("expanding-option",{attrs:{title:"Details"}},[a("div",{staticClass:"detail-container"},[a("div",{staticClass:"grid-block"},[a("p",[t._v(t._s(t.$t("dappsMCDMaker.max-generate-available")))]),a("p",[a("b",[t._v(t._s(t.values.maxDai?t.displayFixedValue(t.values.maxDai):0))]),t._v(" "+t._s(t.$t("dappsMCDMaker.dai"))+" ")])]),a("div",{staticClass:"grid-block"},[a("p",[t._v(" "+t._s(t.$t("dappsMCDMaker.projectedLiquidation",{currency:t.currentCdpType}))+" ")]),a("p",[a("b",[t._v(t._s(t.displayFixedValue(t.newLiquidationPrice(),2)))]),t._v(" "+t._s(t.fiatCurrency)+" ")])]),a("div",{staticClass:"grid-block"},[a("p",[t._v(t._s(t.$t("dappsMCDMaker.projected-collat-ratio")))]),a("p",[a("b",[t._v(t._s(t.displayFixedPercent(t.newCollateralRatio()))+"%")])])])])]),!t.newCollateralRatioSafe()&&t.notZero(t.amount)?a("div",{staticClass:"warning-confirmation"},[a("div",{staticClass:"grid-block"},[a("div",{staticClass:"sign"},[t._v("⚠️")]),a("div",{staticClass:"text-content"},[a("p",{staticClass:"title"},[t._v(t._s(t.$t("dappsMCDMaker.caution")))]),a("p",{staticClass:"warning-details"},[t._v(" "+t._s(t.$t("dappsMCDMaker.liquidation-risk-multi",{value:t.displayFixedPercent(t.newCollateralRatio())}))+" ")]),a("check-box",{on:{changeStatus:t.checkBoxClicked},scopedSlots:t._u([{key:"terms",fn:function(){return[a("p",{staticClass:"checkbox-label"},[t._v(" "+t._s(t.$t("dappsMCDMaker.understand-and-agree"))+" ")])]},proxy:!0}],null,!1,2855304892)})],1)])]):t._e(),a("div",{staticClass:"buttons"},[a("standard-button",{attrs:{options:{title:t.$t("common.cancel"),buttonStyle:"green-border",noMinWidth:!0},"click-function":t.closeModal}}),a("standard-button",{attrs:{options:{title:t.$t("dappsMCDMaker.generate"),buttonStyle:"green",noMinWidth:!0},"button-disabled":!t.canProceed,"click-function":t.submitBtn}})],1),a("help-center-button")],1)])],1)},E=[],j=(a("ddb0"),a("70c1")),F=a.n(j),S=a("1768"),V=a("0003"),T=function(t){return new _.a(t)},I={components:{"help-center-button":f["a"],"check-box":w,"expanding-option":S["a"],"standard-button":C["a"]},props:{tokensWithBalance:{type:Array,default:function(){return[]}},action:{type:String,default:""},values:{type:Object,default:function(){return{maxEthDraw:"",maxUsdDraw:"",ethCollateral:"",usdCollateral:"",debtValue:"",maxDai:"",collateralRatio:"",cdpId:""}}},calcCollatRatioEthChg:{type:Function,default:function(){}},calcLiquidationPriceEthChg:{type:Function,default:function(){}},calcCollatRatioDaiChg:{type:Function,default:function(){}},calcLiquidationPriceDaiChg:{type:Function,default:function(){}},activeCdpId:{type:Number,default:0},makerActive:{type:Boolean,default:!1},getValueOrFunction:{type:Function,default:function(){}}},data:function(){return{amount:0,amountEth:0,amountDai:0,riskyBypass:!1,modalDetailInformation:!1,textValues:{},fiatCurrency:"USD",digitalCurrency:"ETH",currentCdpType:"ETH"}},computed:Object(u["a"])({},Object(d["c"])("main",["account","gasPrice","web3","network","ens"]),{amountPresent:function(){return(this.amount||""!==this.amount)&&!T(this.amount).lte(0)},canCompute:function(){return this.values&&this.amountPresent},allOk:function(){return!this.amountPresent||this.newCollateralRatioSafe&&this.canGenerateDaiAmount},showWarning:function(){return!this.newCollateralRatioInvalid&&this.canGenerateDaiAmount&&this.riskyBypass},newTotal:function(){return T(this.values.debtValue).plus(this.amount)},hasEnoughEth:function(){if(this.canCompute){var t=F.a.fromWei(this.account.balance,"ether");return T(this.amount).lte(T(t))}return!0},canGenerateDaiAmount:function(){return!(this.canCompute&&!T(this.amount).isNaN())||T(this.amount).lte(T(this.values.maxDai))},canProceed:function(){return!!this.canCompute&&(!T(this.amount).lte(0)&&(this.newCollateralRatioSafe&&this.canGenerateDaiAmount||!this.newCollateralRatioInvalid&&this.canGenerateDaiAmount&&this.riskyBypass))}}),mounted:function(){var t=this;this.$refs.modal.$on("shown",(function(){t.cdpId=t.$route.params.cdpId,t.isVisible=!0,t.amount=0,t.getActiveCdp()})),this.$refs.modal.$on("hidden",(function(){t.isVisible=!1})),this.makerActive&&this.getActiveCdp()},methods:{getActiveCdp:function(){this.cdpId>0&&(this.currentCdp=this.getValueOrFunction("getCdp")(this.cdpId),this.currentCdpType=this.currentCdp.cdpCollateralType,this.$forceUpdate())},submitBtn:function(){this.canProceed&&this.drawDai()},checkBoxClicked:function(t){this.riskyBypass=t},displayPercentValue:V["c"],displayFixedValue:V["b"],displayFixedPercent:V["a"],notZero:function(t){return T(t).gt(0)},maxDai:function(){this.amount=T(this.values.maxDai).minus(T(this.values.maxDai).times(.01)),this.$forceUpdate()},currentDai:function(){this.amount=this.values.debtValue},drawDai:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:T(t.amount).gte(0)&&(t.delayCloseModal(),t.newCollateralRatioSafe,t.currentCdp.drawDai(t.amount,t.riskyBypass));case 1:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$refs.modal.hide()},delayCloseModal:function(){var t=this;setTimeout((function(){t.closeModal()}),200)},collateralAmount:function(){if(this.currentCdp)return this.currentCdp.collateralAmount},newCollateralRatio:function(){return this.currentCdp&&this.amount>0?this.currentCdp.calcCollatRatioDaiChg(T(this.amount),!0):this.currentCdp?this.currentCdp.collateralizationRatio:0},newCollateralRatioSafe:function(){return this.currentCdp&&this.amount>0?this.currentCdp.calcCollatRatioDaiChg(T(this.amount),!0).gte(2):!this.currentCdp||T(this.currentCdp.collateralizationRatio).gte(2)},newCollateralRatioInvalid:function(){return this.currentCdp&&this.amount>0?this.currentCdp.calcCollatRatioDaiChg(T(this.amount),!0).lte(1.5):!this.currentCdp||T(this.currentCdp.collateralizationRatio).lte(1.5)},newLiquidationPrice:function(){return this.currentCdp&&this.amount>0?this.currentCdp.calcLiquidationPriceDaiChg(T(this.amount),!0):this.currentCdp?this.currentCdp.liquidationPrice:0}}},B=I,q=(a("25c8"),Object(k["a"])(B,$,E,!1,null,"1db8e628",null)),W=q.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-container"},[a("b-modal",{ref:"modal",staticClass:"bootstrap-modal nopadding",attrs:{title:t.$t("dappsMCDMaker.deposit-title"),centered:"","hide-footer":"",static:"",lazy:""}},[a("div",{staticClass:"modal-content-container"},[a("div",{staticClass:"inputs-container"},[a("div",{staticClass:"input-container"},[a("div",{staticClass:"interface__block-title"},[t._v(" "+t._s(t.$t("dappsMCDMaker.deposit-question-mcd",{currency:t.currentCdpType}))+" ")]),a("div",{class:["input-box",t.hasEnoughEth?"":"danger"]},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),a("span",{staticClass:"input-unit"},[t._v(t._s(t.currentCdpType))])]),a("div",{staticClass:"sub-text"},[t.hasEnoughEth?t._e():a("p",{staticClass:"above-max"},[t._v(" "+t._s(t.$t("dappsMCDMaker.not-enough-token",{symbol:t.currentCdpType}))+" ")])])])]),a("div",{staticClass:"detail-info"},[a("div",{staticClass:"info"},[a("h4",[t._v(t._s(t.$t("dappsMCDMaker.detail-info")))]),a("div",{staticClass:"sliding-switch-white"},[a("label",{staticClass:"switch"},[a("input",{attrs:{type:"checkbox"},on:{click:function(e){t.modalDetailInformation=!t.modalDetailInformation}}}),a("span",{staticClass:"slider round"})])])]),a("div",{staticClass:"expended-info",class:t.modalDetailInformation&&"expended-info-open"},[a("div",{staticClass:"padding-container"},[a("div",{staticClass:"grid-block"},[a("p",[t._v(t._s(t.$t("dappsMCDMaker.currently-deposited")))]),a("p",[a("b",[t._v(t._s(t.displayFixedValue(t.collateralAmount(),5)))]),t._v(" "+t._s(t.currentCdpType)+" ")])]),a("div",{staticClass:"grid-block"},[a("p",[t._v(" "+t._s(t.$t("dappsMCDMaker.projected-liquidation",{currency:t.currentCdpType}))+" ")]),a("p",[a("b",[t._v(t._s(t.displayFixedValue(t.newLiquidationPrice(),2)))]),t._v(" "+t._s(t.fiatCurrency)+" ")])]),a("div",{staticClass:"grid-block"},[a("p",[t._v(t._s(t.$t("dappsMCDMaker.projected-collat-ratio")))]),a("p",[a("b",[t._v(" "+t._s(t.displayFixedValue(t.displayPercentValue(t.newCollateralRatio()),3))+"% ")])])])])])]),a("div",{staticClass:"buttons"},[a("standard-button",{attrs:{options:{title:t.$t("common.cancel"),buttonStyle:"green-border",noMinWidth:!0},"click-function":t.closeModal}}),a("standard-button",{attrs:{options:{title:t.$t("common.submit"),buttonStyle:"green",noMinWidth:!0},"button-disabled":!t.canProceed,"click-function":t.submitBtn}})],1),a("help-center-button")],1)])],1)},U=[],H=function(t){return new _.a(t)},N={components:{"help-center-button":f["a"],"standard-button":C["a"]},props:{tokensWithBalance:{type:Array,default:function(){return[]}},action:{type:String,default:""},values:{type:Object,default:function(){return{maxEthDraw:"",maxUsdDraw:"",ethCollateral:"",usdCollateral:"",debtValue:"",maxDai:"",collateralRatio:"",cdpId:""}}},calcCollatRatioEthChg:{type:Function,default:function(){}},calcLiquidationPriceEthChg:{type:Function,default:function(){}},calcCollatRatioDaiChg:{type:Function,default:function(){}},calcLiquidationPriceDaiChg:{type:Function,default:function(){}},activeCdpId:{type:Number,default:0},makerActive:{type:Boolean,default:!1},getValueOrFunction:{type:Function,default:function(){}}},data:function(){return{cdpId:0,isVisible:!1,amount:0,amountEth:0,amountDai:0,riskyBypass:!1,modalDetailInformation:!1,textValues:{},fiatCurrency:"USD",digitalCurrency:"ETH",selectedCurrency:{symbol:"ETH",name:"Ethereum"},currentCdpType:"ETH"}},computed:Object(u["a"])({},Object(d["c"])("main",["account","gasPrice","web3","network","ens"]),{amountPresent:function(){return(this.amount||""!==this.amount)&&!H(this.amount).lte(0)},hasEnoughEth:function(){return!this.amount&&""===this.amount||(!this.currentCdp||this.currentCdp.hasEnough(this.amount,this.currentCdp.cdpCollateralType,this.account.balance))},canWithdrawEthAmount:function(){return!(!this.amount&&""===this.amount)&&H(this.amount).lte(H(this.values.ethCollateral))},canProceed:function(){if(H(this.amount).lte(0))return!1;var t=H(this.newCollateralRatio()),e=t.gt(1.5)||t.eq(0);return this.hasEnoughEth&&(e||this.riskyBypass)}}),watch:{},mounted:function(){var t=this;this.$refs.modal.$on("shown",(function(){t.cdpId=t.$route.params.cdpId,t.isVisible=!0,t.amount=0,t.getActiveCdp()})),this.$refs.modal.$on("hidden",(function(){t.isVisible=!1})),this.makerActive&&this.getActiveCdp()},methods:{collateralAmount:function(){if(this.currentCdp)return this.currentCdp.collateralAmount},newCollateralRatio:function(){return this.currentCdp&&this.amount>0?this.currentCdp.calcCollatRatioEthChg(H(this.currentCdp.collateralAmount).plus(this.amount)):this.currentCdp?this.currentCdp.collateralizationRatio:0},newCollateralRatioSafe:function(){return this.currentCdp&&this.amount>0?this.currentCdp.calcCollatRatioEthChg(H(this.currentCdp.collateralAmount).plus(this.amount)).gte(2):!this.currentCdp||H(this.currentCdp.collateralizationRatio).gte(2)},newCollateralRatioInvalid:function(){return this.currentCdp&&this.amount>0?this.currentCdp.calcCollatRatioEthChg(H(this.currentCdp.collateralAmount).plus(this.amount)).lte(1.5):!this.currentCdp||H(this.currentCdp.collateralizationRatio).lte(1.5)},newLiquidationPrice:function(){return this.currentCdp&&this.amount>0?this.currentCdp.calcLiquidationPriceEthChg(H(this.currentCdp.collateralAmount).plus(H(this.amount))):this.currentCdp?this.currentCdp.liquidationPrice:0},getActiveCdp:function(){this.cdpId>0&&(this.currentCdp=this.getValueOrFunction("getCdp")(this.cdpId),this.currentCdpType=this.currentCdp.cdpCollateralType,this.$forceUpdate())},hasEnough:function(){return!this.currentCdp||this.currentCdp.hasEnough(this.amount,this.currentCdpType,this.account.balance)},getProxyAllowances:function(){var t=this.getValueOrFunction("proxyAllowances");return t||{}},submitBtn:function(){this.canProceed&&this.lockEth()},checkBoxClicked:function(){this.riskyBypass=!this.riskyBypass},displayPercentValue:V["c"],displayFixedValue:V["b"],notZero:function(t){return H(t).gt(0)},currentDai:function(){this.amount=this.values.debtValue},lockEth:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:H(t.amount).gte(0)&&(t.delayCloseModal(),t.currentCdp?t.currentCdp.lockEth(t.amount):t.$emit("lockEth",t.amount));case 1:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$refs.modal.hide()},delayCloseModal:function(){var t=this;setTimeout((function(){t.closeModal()}),200)}}},G=N,z=(a("1071"),Object(k["a"])(G,L,U,!1,null,"27373134",null)),K=z.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-container"},[a("b-modal",{ref:"modal",staticClass:"bootstrap-modal nopadding",attrs:{title:t.$t("dappsMCDMaker.withdraw-title"),centered:"","hide-footer":"",static:"",lazy:""}},[a("div",{staticClass:"modal-content-container"},[a("div",{staticClass:"inputs-container"},[a("div",{staticClass:"input-container"},[a("p",{staticClass:"message"},[t._v(t._s(t.$t("dappsMCDMaker.withdraw-notice")))]),a("label",[t._v(" "+t._s(t.$t("dappsMCDMaker.withdraw-question-mcd",{currency:t.currentCdpType}))+" ")]),a("div",{staticClass:"top-buttons"},[a("p",{staticClass:"max-withdraw",on:{click:t.maxWithdraw}},[t._v(" "+t._s(t.$t("dappsMCDMaker.max-available"))+" ")])]),a("div",{class:["input-box",t.newCollateralRatioSafe()?"":"danger"]},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),a("span",{staticClass:"input-unit"},[t._v(t._s(t.digitalCurrency))])]),a("div",{staticClass:"sub-text"},[t.canWithdrawEthNotice?a("p",{staticClass:"above-max"},[t._v(" "+t._s(t.$t("dappsMCDMaker.over-max-withdraw"))+" ")]):t._e()])])]),a("expanding-option",{attrs:{title:t.$t("dappsMCDMaker.detail-information")}},[a("div",{staticClass:"padding-container"},[a("div",{staticClass:"grid-block"},[a("p",[t._v(t._s(t.$t("dappsMCDMaker.max-available")))]),a("p",[a("b",[t._v(" "+t._s(t.values.maxDai?t.displayFixedValue(t.values.maxEthDraw,5):0)+" ")]),t._v(" "+t._s(t.digitalCurrency)+" ")])]),a("div",{staticClass:"grid-block"},[a("p",[t._v(t._s(t.$t("dappsMCDMaker.projected-liquidation")))]),a("p",[a("b",[t._v(t._s(t.displayFixedValue(t.newLiquidationPrice(),2)))]),t._v(" "+t._s(t.fiatCurrency)+" ")])]),a("div",{staticClass:"grid-block"},[a("p",[t._v(t._s(t.$t("dappsMCDMaker.projected-collat-ratio")))]),a("p",[a("b",[t._v(" "+t._s(t.displayFixedValue(t.displayPercentValue(t.newCollateralRatio()),3))+"% ")])])])])]),!t.newCollateralRatioSafe()&&t.notZero(t.amount)?a("div",{staticClass:"warning-confirmation"},[a("div",{staticClass:"grid-block"},[a("div",{staticClass:"sign"},[t._v("⚠️")]),a("div",{staticClass:"text-content"},[a("p",{staticClass:"title"},[t._v(t._s(t.$t("dappsMCDMaker.caution")))]),a("p",{staticClass:"warning-details"},[t._v(" "+t._s(t.$t("dappsMCDMaker.liquidation-risk-multi",{value:t.displayFixedValue(t.displayPercentValue(t.newCollateralRatio()))}))+" ")]),a("check-box",{on:{changeStatus:t.checkBoxClicked},scopedSlots:t._u([{key:"terms",fn:function(){return[a("p",{staticClass:"checkbox-label"},[t._v(" "+t._s(t.$t("dappsMCDMaker.understand-and-agree"))+" ")])]},proxy:!0}],null,!1,2855304892)})],1)])]):t._e(),a("div",{staticClass:"buttons"},[a("standard-button",{attrs:{options:{title:t.$t("common.cancel"),buttonStyle:"green-border",noMinWidth:!0},"click-function":t.closeModal}}),a("standard-button",{attrs:{options:{title:t.$t("common.submit"),buttonStyle:"green",noMinWidth:!0},"button-disabled":!t.canProceed,"click-function":t.submitBtn}})],1),a("help-center-button")],1)])],1)},Z=[],Y=function(t){return new _.a(t)},J={components:{"help-center-button":f["a"],"check-box":w,"expanding-option":S["a"],"standard-button":C["a"]},props:{tokensWithBalance:{type:Array,default:function(){return[]}},action:{type:String,default:""},values:{type:Object,default:function(){return{maxEthDraw:"",maxUsdDraw:"",ethCollateral:"",usdCollateral:"",debtValue:"",maxDai:"",collateralRatio:"",cdpId:""}}},calcCollatRatioEthChg:{type:Function,default:function(){}},calcLiquidationPriceEthChg:{type:Function,default:function(){}},calcCollatRatioDaiChg:{type:Function,default:function(){}},calcLiquidationPriceDaiChg:{type:Function,default:function(){}},activeCdpId:{type:Number,default:0},makerActive:{type:Boolean,default:!1},getValueOrFunction:{type:Function,default:function(){}}},data:function(){return{amount:0,amountEth:0,amountDai:0,riskyBypass:!1,modalDetailInformation:!1,textValues:{},fiatCurrency:"USD",digitalCurrency:"ETH",currentCdpType:"ETH"}},computed:Object(u["a"])({},Object(d["c"])("main",["account","gasPrice","web3","network","ens"]),{amountPresent:function(){return(this.amount||""!==this.amount)&&!Y(this.amount).lte(0)},canCompute:function(){return this.values&&this.amountPresent&&this.currentCdp},canWithdrawEthNotice:function(){return!(!this.amountPresent||!this.currentCdp)&&!Y(this.amount).lte(Y(this.currentCdp.maxEthDraw))},canWithdrawEthAmount:function(){return!(!this.amountPresent||!this.currentCdp)&&Y(this.amount).lte(Y(this.currentCdp.collateralValue))},canProceed:function(){return!(!this.amountPresent||!this.currentCdp)&&(!Y(this.amount).lte(0)&&(this.newCollateralRatioSafe()&&this.canWithdrawEthAmount||!this.newCollateralRatioInvalid()&&this.canWithdrawEthAmount&&this.riskyBypass))},calcCollateralRatio:function(){return this.canCompute&&this.currentCdp?this.calcCollatRatioEthChg(Y(this.currentCdp.debtValue).plus(this.amount)):this.values?this.values.collateralRatio:null}}),watch:{},mounted:function(){var t=this;this.$refs.modal.$on("shown",(function(){t.cdpId=t.$route.params.cdpId,t.isVisible=!0,t.amount=0,t.getActiveCdp()})),this.$refs.modal.$on("hidden",(function(){t.amount=0})),this.makerActive&&this.getActiveCdp()},methods:{getActiveCdp:function(){this.cdpId>0&&(this.currentCdp=this.getValueOrFunction("getCdp")(this.cdpId),this.currentCdpType=this.currentCdp.cdpCollateralType,this.$forceUpdate())},collateralAmount:function(){if(this.currentCdp)return this.currentCdp.collateralAmount},newCollateralRatio:function(){return this.currentCdp&&this.amount>0?this.currentCdp.calcCollatRatioEthChg(Y(this.currentCdp.collateralAmount).minus(this.amount)):this.currentCdp?this.currentCdp.collateralizationRatio:0},newCollateralRatioSafe:function(){return this.currentCdp&&this.amount>0?!!this.currentCdp.calcCollatRatioEthChg(Y(this.currentCdp.collateralAmount).minus(this.amount)).eq(0)||this.currentCdp.calcCollatRatioEthChg(Y(this.currentCdp.collateralAmount).minus(this.amount)).gte(2):!this.currentCdp||Y(this.currentCdp.collateralizationRatio).gte(2)},newCollateralRatioInvalid:function(){return this.currentCdp&&this.amount>0?!this.currentCdp.calcCollatRatioEthChg(Y(this.currentCdp.collateralAmount).minus(this.amount)).eq(0)&&this.currentCdp.calcCollatRatioEthChg(Y(this.currentCdp.collateralAmount).minus(this.amount)).lte(1.5):!this.currentCdp||Y(this.currentCdp.collateralizationRatio).lte(1.5)},newLiquidationPrice:function(){return this.currentCdp&&this.amount>0?this.currentCdp.calcLiquidationPriceEthChg(Y(this.currentCdp.collateralAmount).minus(Y(this.amount))):this.currentCdp?this.currentCdp.liquidationPrice:0},getProxyAllowances:function(){var t=this.getValueOrFunction("proxyAllowances");return t||{}},submitBtn:function(){this.canProceed&&this.freeEth()},checkBoxClicked:function(t){this.riskyBypass=t},displayPercentValue:V["c"],displayFixedValue:V["b"],notZero:function(t){return Y(t).gt(0)},maxWithdraw:function(){this.amount=this.currentCdp.maxEthDraw,this.$forceUpdate()},freeEth:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Y(t.amount).gte(0)&&(t.delayCloseModal(),t.newCollateralRatioSafe()?t.$emit("freeEth",[t.amount,null]):t.$emit("freeEth",[t.amount,t.riskyBypass]));case 1:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$refs.modal.hide()},delayCloseModal:function(){var t=this;setTimeout((function(){t.closeModal()}),200)}}},X=J,tt=(a("a4ad"),Object(k["a"])(X,Q,Z,!1,null,"50d59863",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-container"},[a("b-modal",{ref:"modal",staticClass:"bootstrap-modal nopadding",attrs:{title:t.$t("dappsMCDMaker.payback-title"),centered:"","hide-footer":"",static:"",lazy:""}},[a("div",{staticClass:"contents"},[a("p",{staticClass:"top-message"},[t._v(t._s(t.$t("dappsMCDMaker.payback-notice")))]),a("div",{staticClass:"input-container"},[a("div",{staticClass:"top-buttons"},[a("p",{on:{click:t.currentDai}},[t._v(t._s(t.$t("dappsMCDMaker.max-available")))])]),a("div",{class:["dai-amount",t.hasEnoughDai?"":"danger"]},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),a("p",{staticClass:"floating-text"},[t._v(t._s(t.$t("dappsMCDMaker.dai")))])])]),a("expanding-option",{attrs:{title:t.$t("dappsMCDMaker.detail-information")}},[a("ul",{staticClass:"details"},[a("li",[a("p",[t._v(t._s(t.$t("dappsMCDMaker.outstanding-dai")))]),a("p",[a("b",[t._v(" "+t._s(t.values.debtValue?t.displayFixedValue(t.values.debtValue,3):0)+" ")]),t._v(" "+t._s(t.$t("dappsMCDMaker.dai"))+" ")])]),a("li",[a("p",[t._v(t._s(t.$t("dappsMCDMaker.projected-liquidation")))]),a("p",[a("b",[t._v(t._s(t.displayFixedValue(t.newLiquidationPrice(),2)))]),t._v(" "+t._s(t.fiatCurrency)+" ")])]),a("li",[a("p",[t._v(t._s(t.$t("dappsMCDMaker.projected-collat-ratio")))]),a("p",[a("b",[t._v(" "+t._s(t.displayFixedValue(t.displayPercentValue(t.newCollateralRatio()),3))+"% ")])])])])]),a("div",{staticClass:"buttons"},[t.needsDaiApprove()?a("div",[a("standard-button",{attrs:{options:{title:t.$t("dappsMCDMaker.approve-dai"),buttonStyle:"green-border",fullWidth:!0,noMinWidth:!0},"click-function":t.approveDai}})],1):t._e(),t.needsMkrApprove()?a("div",[a("standard-button",{attrs:{options:{title:t.$t("dappsMCDMaker.approve-maker"),buttonStyle:"green-border",fullWidth:!0,noMinWidth:!0},"click-function":t.approveMkr}})],1):t._e()]),a("div",{staticClass:"buttons"},[a("standard-button",{attrs:{options:{title:t.$t("common.cancel"),buttonStyle:"green-border",noMinWidth:!0,fullWidth:!0},"click-function":t.closeModal}}),a("div",[t.max?a("standard-button",{attrs:{options:{title:t.$t("dappsMCDMaker.submit-max"),buttonStyle:"green",noMinWidth:!0,fullWidth:!0},"button-disabled":!t.canProceed,"click-function":t.submitBtn}}):t._e(),t.max?t._e():a("standard-button",{attrs:{options:{title:t.$t("common.submit"),buttonStyle:"green",noMinWidth:!0,fullWidth:!0},"button-disabled":!t.canProceed,"click-function":t.submitBtn}})],1)],1),a("help-center-button")],1)])],1)},nt=[],it=a("d1fb"),rt={components:{"help-center-button":f["a"],"expanding-option":S["a"],"standard-button":C["a"]},props:{tokensWithBalance:{type:Array,default:function(){return[]}},action:{type:String,default:""},values:{type:Object,default:function(){return{maxEthDraw:"",maxUsdDraw:"",ethCollateral:"",usdCollateral:"",debtValue:"",maxDai:"",collateralRatio:"",cdpId:""}}},calcCollatRatioEthChg:{type:Function,default:function(){}},calcLiquidationPriceEthChg:{type:Function,default:function(){}},calcCollatRatioDaiChg:{type:Function,default:function(){}},calcLiquidationPriceDaiChg:{type:Function,default:function(){}},activeCdpId:{type:Number,default:0},makerActive:{type:Boolean,default:!1},getValueOrFunction:{type:Function,default:function(){}}},data:function(){return{amount:0,amountEth:0,amountDai:0,mkrToken:{},daiToken:{},max:!1,riskyBypass:!1,modalDetailInformation:!1,textValues:{},fiatCurrency:"USD",digitalCurrency:"ETH",suppliedFrom:{symbol:"ETH",name:"Ethereum"},suppliedTo:{symbol:"MKR",name:"Maker"},suppliedToAmount:0,destAddress:""}},computed:Object(u["a"])({},Object(d["c"])("main",["account","gasPrice","web3","network","ens"]),{amountPresent:function(){return(this.amount||""!==this.amount)&&!Object(it["F"])(this.amount).lte(0)},canCompute:function(){return this.values&&this.amountPresent&&this.currentCdp},allOk:function(){return!this.amountPresent||this.newCollateralRatioSafe()&&this.canGenerateDaiAmount},hasEnoughEth:function(){if(this.canCompute){var t=F.a.fromWei(this.account.balance,"ether");return Object(it["F"])(this.amount).lte(Object(it["F"])(t))}return!0},paybackFee:function(){return this.canCompute?Object(it["F"])(this.amount).div(this.values.debtValue).times(this.values.governanceFeeOwed):0},hasEnoughMkr:function(){return!this.canCompute||Object(it["F"])(this.mkrBalance).gte(Object(it["F"])(this.paybackFee))},hasEnoughDai:function(){return!this.canCompute||this.currentCdp.hasEnough(this.amount,"MDAI")},canWithdrawEthAmount:function(){return!!this.canCompute&&Object(it["F"])(this.amount).lte(Object(it["F"])(this.values.ethCollateral))},canGenerateDaiAmount:function(){return!this.canCompute||Object(it["F"])(this.amount).lte(Object(it["F"])(this.values.maxDai))},canProceed:function(){return this.hasEnoughDai},calcCollateralRatio:function(){return this.canCompute?this.calcCollatRatioDaiChg(Object(it["F"])(this.values.debtValue).minus(this.amount)):this.values?this.values.collateralRatio:"--"},mkrBalance:function(){return this.mkrToken?this.mkrToken.balance:0}}),watch:{amount:function(){Object(it["F"])(this.amount).gte(this.currentCdp.debtValue.minus(1))||(this.max=!1)}},mounted:function(){var t=this;this.$refs.modal.$on("shown",(function(){t.cdpId=t.$route.params.cdpId,t.isVisible=!0,t.amount=0,t.getActiveCdp(),t.getBalances(),t.max=!1})),this.$refs.modal.$on("hidden",(function(){t.isVisible=!1})),this.makerActive&&this.getActiveCdp()},methods:{getActiveCdp:function(){this.cdpId>0&&(this.currentCdp=this.getValueOrFunction("getCdp")(this.cdpId),this.currentCdpType=this.currentCdp.cdpCollateralType,this.$forceUpdate())},governanceFeeOwed:function(){if(this.currentCdp)return this.currentCdp.governanceFeeOwed},collateralAmount:function(){if(this.currentCdp)return this.currentCdp.collateralAmount},newCollateralRatio:function(){return this.currentCdp&&this.amount>0?this.currentCdp.calcCollatRatioDaiChg(Object(it["F"])(this.amount).negated(),!0):this.currentCdp?this.currentCdp.collateralizationRatio:0},newCollateralRatioSafe:function(){return this.currentCdp&&this.amount>0?this.newCollateralRatio().gte(2):!this.currentCdp||this.newCollateralRatio().gte(2)},newCollateralRatioInvalid:function(){return this.currentCdp&&this.amount>0?this.newCollateralRatio().lte(1.5):!this.currentCdp||this.newCollateralRatio().lte(1.5)},newLiquidationPrice:function(){return this.currentCdp&&this.amount>0?this.currentCdp.calcLiquidationPriceDaiChg(Object(it["F"])(this.amount).negated(),!0):this.currentCdp?this.currentCdp.liquidationPrice:0},daiBalance:function(){return this.currentCdp?this.currentCdp.getBalanceOf("MDAI"):0},needsDaiApprove:function(){return!(!this.currentCdp||!Object(it["F"])(this.amount).gt(0))&&!this.currentCdp.hasEnoughAllowance(this.amount,"MDAI")},needsMkrApprove:function(){return!1},getProxyAllowances:function(){var t=this.getValueOrFunction("proxyAllowances");return t||{}},submitBtn:function(){this.canProceed&&this.wipeDai()},checkBoxClicked:function(){this.riskyBypass=!this.riskyBypass},displayPercentValue:it["q"],displayFixedValue:it["p"],notZero:function(t){return Object(it["F"])(t).gt(0)},maxDai:function(){this.amount=Object(it["F"])(this.values.maxDai).minus(Object(it["F"])(this.values.maxDai).times(.01)),this.max=!0},currentDai:function(){this.currentCdp.hasEnough(this.currentCdp.debtValue,"MDAI")?this.amount=this.currentCdp.debtValue:this.amount=this.currentCdp.getBalanceOf("MDAI"),this.max=!0},wipeDai:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(it["F"])(t.amount).gte(0)&&(t.delayCloseModal(),t.currentCdp.wipeDai(t.amount,t.max));case 1:case"end":return e.stop()}}),e)})))()},getBalances:function(){this.mkrToken=this.tokensWithBalance.find((function(t){return"MKR"===t.symbol})),this.daiToken=this.tokensWithBalance.find((function(t){return"DAI"===t.symbol}))},getMkr:function(){var t=this.paybackFee;Object(it["F"])(this.mkrBalance).lt(t)&&(this.suppliedToAmount=Object(it["F"])(t).minus(Object(it["F"])(this.mkrBalance)).plus(Object(it["F"])(t).times(.01)).toNumber(),Object(it["F"])(this.suppliedToAmount).lt(1e-6)&&(this.suppliedToAmount=1e-6),this.suppliedFrom={symbol:"ETH",name:"Ethereum"},this.suppliedTo={symbol:"MKR",name:"Maker"},this.$eventHub.$emit("showSwapWidgetTo",this.account.address,this.suppliedFrom,this.suppliedTo,this.suppliedToAmount))},closeModal:function(){this.$refs.modal.hide()},delayCloseModal:function(){var t=this;setTimeout((function(){t.closeModal()}),200)},approveDai:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.currentCdp&&(t.currentCdp.approveProxyFor("MDAI"),t.closeModal());case 1:case"end":return e.stop()}}),e)})))()},approveMkr:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.currentCdp&&(t.currentCdp.approveProxyFor("MKR"),t.closeModal());case 1:case"end":return e.stop()}}),e)})))()}}},ot=rt,st=(a("bed4"),Object(k["a"])(ot,at,nt,!1,null,"0e9f670c",null)),ct=st.exports,ut=a("a7ac"),dt=a.n(ut),lt=a("c52a"),pt=a.n(lt),ht=a("bb6d"),mt=a.n(ht),Ct=a("1383"),ft=dt.a.DAI,vt=function(t,e,a){return Object(it["F"])(t).times(Object(it["F"])(e)).div(Object(it["F"])(a))},gt={MANAGE:"MANAGE",CREATE:"CREATE",HOME:"HOME"},bt={CDP_MANAGER:"mcd:cdpManager",CDP_TYPE:"mcd:cdpType",AUCTION:"mcd:auction",SYSTEM_DATA:"mcd:systemData",QUERY_API:"mcd:queryApi",SAVINGS:"mcd:savings"},yt={components:{"generate-modal":W,"deposit-modal":K,"withdraw-modal":et,"payback-modal":ct,"back-button":l["a"],"interface-footer":p["a"],"move-cdp-modal":R},props:{tokensWithBalance:{type:Array,default:function(){return[]}},getBalance:{type:Function,default:function(){}},highestGas:{type:String,default:"0"}},data:function(){return{activeCdpId:0,currentlyLoading:"",destAddressProxy:"",destAddressHasProxy:!1,makerCreated:!1,afterUpdate:[],allCdpIds:[],activeCdp:{},activeValues:{maxEthDraw:Object(it["F"])(0),maxUsdDraw:Object(it["F"])(0),ethCollateral:Object(it["F"])(0),usdCollateral:Object(it["F"])(0),debtValue:Object(it["F"])(0),maxDai:Object(it["F"])(0),collateralRatio:Object(it["F"])(0),minEth:Object(it["F"])(0),cdpId:"--",proxyAllowances:{}},availableCdps:{},cdps:[],cdpsWithoutProxy:[],cdpService:{},showLoading:!1,cdpDetailsLoaded:!1,currentProxy:null,currentCdpId:"",creatingCdp:!1,daiPrice:0,daiQty:0,ethPrice:Object(it["F"])(0),ethQty:0,liquidationRatio:Object(it["F"])(0),liquidationPenalty:Object(it["F"])(0),makerActive:!1,makerCdp:{},makerManager:{},migrationInProgress:{},openCloseModal:!1,openMoveModal:!1,proxyService:{},proxyAddress:null,priceService:{},priceFloor:0,stabilityFee:Object(it["F"])(0),sysVars:{},sysServices:{},targetPrice:0,valuesUpdated:0,retryCount:0,currentPath:"/interface/dapps/",afterLoadShow:"HOME"}},computed:Object(u["a"])({},Object(d["c"])("main",["account","gasPrice","web3","network","ens"]),{currentProxyAddress:function(){return this.proxyAddress},hasProxy:function(){return null!==this.proxyAddress},listCdps:function(){return this.cdps.length>1||this.cdpsWithoutProxy.length>1},onCreate:function(){return"create"===this.$route.name},maxDaiDraw:function(){return this.ethQty<=0?0:vt(this.ethPrice,this.ethQty,this.liquidationRatio)},minEthDeposit:function(){return this.daiQty<=0?0:vt(this.liquidationRatio,this.daiQty,this.ethPrice)},showManageable:function(){return"manage"===this.$route.name||"select"===this.$route.name},showMoveOrClose:function(){return"manage"===this.$route.name||"migrate"===this.$route.name},showManage:function(){return this.listCdps||this.cdps.length>=1&&this.cdpsWithoutProxy.length>=1},showRefresh:function(){return this.cdps.length>0||this.cdpsWithoutProxy.length>0},showCreateProxy:function(){return!this.showCdpMigrateButtons&&(!this.hasProxy&&!this.onCreate)},showCdpMigrateButtons:function(){return this.hasProxy&&this.cdpsWithoutProxy.length>=1}}),watch:(n={},Object(c["a"])(n,"account.address",(function(){this.makerActive=!1,this.setup()})),Object(c["a"])(n,"$route",(function(t){this.currentPath=t.name})),Object(c["a"])(n,"network",(function(t){"ETH"!==t.type.name&&this.$router.push({name:"Dapps"})})),n),beforeDestroy:function(){this.clearComponent()},destroyed:function(){this.clearComponent()},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.container={},t.mcdCurrencies={},e.next=4,t.setup();case 4:case"end":return e.stop()}}),e)})))()},methods:{addCdp:function(){this.creatingCdp=!0},approveCurrency:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e._tokenService.getToken(e.mcdCurrencies[t]).approveUnlimited(e.proxyAddress);case 2:case"end":return a.stop()}}),a)})))()},approveDai:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t._tokenService.getToken(ft).approveUnlimited(t.proxyAddress);case 2:case"end":return e.stop()}}),e)})))()},approveMkr:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t._tokenService.getToken(lt["MKR"]).approveUnlimited(t.proxyAddress);case 1:case"end":return e.stop()}}),e)})))()},buildEmpty:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(it["j"])(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},backPath:function(){switch(this.$route.name){case"Maker":case"makerLoading":return"/interface/dapps/";default:return"/interface/dapps/maker-dai"}},buildProxy:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getProxy();case 2:if(t.proxyAddress=e.sent,t.proxyAddress){e.next=10;break}return e.next=6,t._proxyService.build();case 6:return e.next=8,t._proxyService.currentProxy();case 8:return t.proxyAddress=e.sent,e.abrupt("return",t.proxyAddress);case 10:return e.next=12,t._proxyService.currentProxy();case 12:return t.proxyAddress=e.sent,e.abrupt("return",t.proxyAddress);case 14:case"end":return e.stop()}}),e)})))()},calcLiquidationPriceEthChg:function(t){return Object(it["F"])(this.currentCdp.calcLiquidationPrice(t,this.currentCdp.debtValue))},clearComponent:function(){this.maker={},this.priceService={},this.cdpService={},this.proxyService={},this.availableCdps={},this.activeCdp={},this.makerCdp={},this.sysVars={},this.sysServices={},this.activeCdps={},this.currentCdp={},this.daiToken={},this.mkrToken={},this.tokens={},this.mcdCurrencies={},this._cdpService={},this._mcdManager={},this._mcdSaving={},this._proxyService={},this._priceService={},this._tokenService={},this._typeService={}},closeCdp:function(){this.currentCdp.closeCdp()},checkIfDestAddressHasProxy:function(t){var e=this;this.currentCdp.checkIfDestAddressHasProxy(t).then((function(t){e.destAddressProxy=t,e.destAddressHasProxy=null!==t})).catch((function(t){throw t}))},calcCollatRatioDaiChg:function(t){return Object(it["F"])(this.currentCdp.calcCollatRatio(this.currentCdp.ethCollateral,t))},calcCollatRatioEthChg:function(t){return Object(it["F"])(this.currentCdp.calcCollatRatio(t,this.currentCdp.debtValue))},calcLiquidationPriceDaiChg:function(t){return Object(it["F"])(this.currentCdp.calcLiquidationPrice(this.currentCdp.ethCollateral,t))},checkAllowances:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(it["m"])(t,t.account.address,t.proxyAddress);case 2:case"end":return e.stop()}}),e)})))()},checkBalances:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(it["s"])(t,t._typeService.cdpTypes);case 2:case"end":return e.stop()}}),e)})))()},doUpdate:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(it["t"])(t,t._typeService.cdpTypes);case 2:return e.next=4,Object(it["r"])(t,D["e"]);case 4:case"end":return e.stop()}}),e)})))()},drawDai:function(t){null===t[1]?this.currentCdp.drawDai(t[0]):this.currentCdp.drawDai(t[0],t[1])},freeEth:function(t){null===t[1]?this.currentCdp.freeEth(t[0]):this.currentCdp.freeEth(t[0],t[1])},getValueOrFunction:function(t,e){if(this[t])return this[t][e]?this[t][e]:this[t]},getCollateralOptions:function(){return this.mcdCurrencies},getProxy:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t._proxyService.currentProxy();case 2:if(t.proxyAddress=e.sent,t.proxyAddress){e.next=8;break}return e.next=6,t._proxyService.getProxyAddress(t.account.address);case 6:t.proxyAddress=e.sent,t.proxyAddress&&(t.noProxy=!1);case 8:return e.abrupt("return",t.proxyAddress);case 9:case"end":return e.stop()}}),e)})))()},getType:function(t,e){return this._typeService.cdpTypes.find((function(a){return a.currency.symbol===t&&a.ilk===e}))},getCdp:function(t){return!!this.activeCdps&&this.activeCdps[t]},getMakerCdp:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t=Object(it["b"])(t),null!==t){a.next=3;break}return a.abrupt("return");case 3:if(!e.cdpsWithoutProxy.includes(t)){a.next=9;break}return a.next=6,e._mcdManager.getCdp(t,!1);case 6:return a.abrupt("return",a.sent);case 9:if(!e.cdps.includes(t)||!e.proxyAddress){a.next=15;break}return a.next=12,e._mcdManager.getCdp(t,e.proxyAddress);case 12:return a.abrupt("return",a.sent);case 15:if(!e.proxyAddress){a.next=19;break}return a.next=18,e._mcdManager.getCdp(t,e.proxyAddress);case 18:return a.abrupt("return",a.sent);case 19:return a.next=21,e._mcdManager.getCdp(t,!1);case 21:return a.abrupt("return",a.sent);case 22:case"end":return a.stop()}}),a)})))()},hasCdp:function(t){return Object.keys(this.activeCdps).includes(Object(it["F"])(Object(it["b"])(t)).toString())},lockEth:function(t){var e;(e=this.currentCdp).lockEth.apply(e,Object(o["a"])(t))},loadCdpDetail:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(it["v"])(e,t));case 1:case"end":return a.stop()}}),a)})))()},loadCdpDetails:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cdps,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.cdpsWithoutProxy;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(it["w"])(t,e,a);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},migrateCdpExternal:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.afterUpdate.push(e.goToManage),a.next=3,e.migrateCdp(t);case 3:case"end":return a.stop()}}),a)})))()},moveCdp:function(t){this.currentCdp.moveCdp(t)},modalHidden:function(){this.openCloseModal=!1,this.openMoveModal=!1},migrateCdp:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.getProxy();case 2:if(n=a.sent,!n){a.next=6;break}return a.next=6,e._cdpService.give(t,n);case 6:case"end":return a.stop()}}),a)})))()},removeCdp:function(t){try{delete this.availableCdps[t.id],D["e"].responseHandler(this.$t("dapps-maker.vault-closed"),D["e"].INFO)}catch(e){console.error(e)}},refreshExternal:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.doUpdate();case 2:case"end":return e.stop()}}),e)})))()},refresh:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.doUpdate();case 2:case"end":return e.stop()}}),e)})))()},reset:function(){this.maker={},this.priceService={},this.cdpService={},this.proxyService={},this.availableCdps={},this.activeCdp={},this.makerCdp={},this.sysVars={},this.sysServices={},this.activeCdps={},this.currentCdp={}},setAfterLoadPage:function(t){this.afterLoadShow=gt[t]},setupMCD:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{t.currentlyLoading="dappsMCDMaker.load-operations",t._typeService=t.maker.service(bt.CDP_TYPE),t.currentlyLoading="dappsMCDMaker.load-types",t.mcdCurrencies=t._typeService.cdpTypes.reduce((function(t,e){return t[e.currency.symbol]=e,t[e.currency.symbol].symbol=e.currency.symbol,t}),{}),t.collateralList=Object(it["n"])(t.mcdCurrencies)}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)})))()},setup:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n,i,r,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.activeCdps={},t.currentCdp={},a=t.web3,n=t,t.showLoading?t.gotoLoading():t.gotoHome(),e.prev=5,t.currentlyLoading="dappsMCDMaker.loading-wallet",i=Object(Ct["a"])(a,n.account.address,Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.$route.path.includes("maker-dai")){t.next=3;break}return t.next=3,n.doUpdate();case 3:case"end":return t.stop()}}),t)})))),e.next=10,dt.a.create("inject",{provider:{inject:a.currentProvider},plugins:[[pt.a,{network:"KOV"===t.network.type.name?"kovan":"mainnet",prefetch:!0}],i,mt.a],log:!1,web3:{pollingInterval:null},accounts:{myLedger1:{type:"mew"}}});case 10:t.maker=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),console.error(e.t0);case 16:return t.setupMCD(),e.prev=17,e.next=20,t.maker.authenticate();case 20:return t.currentlyLoading="dappsMCDMaker.loading-system",e.next=23,Object(it["E"])(t,t.maker);case 23:return e.next=25,Object(it["D"])(t,t._priceService,t._cdpService);case 25:return e.next=27,t._proxyService.currentProxy();case 27:return t.proxyAddress=e.sent,e.next=30,Object(it["s"])(t,t._typeService.cdpTypes);case 30:return e.next=32,Object(it["m"])(t,t.account.address,t.proxyAddress);case 32:return t.daiToken=t.tokens["DAI"],t.daiBalance=t.balances["DAI"],t.mkrToken=t.tokens["MKR"],t.mkrBalance=t.balances["MKR"],t.minEth=Object(it["F"])(.05),t.systemValues={stabilityFee:t.stabilityFee,minEth:t.minEth,liquidationRatio:t.liquidationRatio,liquidationPenalty:t.liquidationPenalty,targetPrice:t._targetPrice},e.next=40,t.getProxy();case 40:return t.currentProxy=e.sent,t.currentlyLoading="dappsMCDMaker.loading-locating-vaults",e.prev=42,e.next=45,Object(it["x"])(t,t._mcdManager);case 45:r=e.sent,o=r.withType,c=r.withProxy,u=r.withoutProxy,t.cdpsWithType=o,t.cdps=c,t.cdpsWithoutProxy=u,e.next=57;break;case 54:e.prev=54,e.t1=e["catch"](42),console.error(e.t1);case 57:if(!(t.cdps.length>0||t.cdpsWithoutProxy.length>0)){e.next=61;break}return t.currentlyLoading="dappsMCDMaker.loading-vaults",e.next=61,t.loadCdpDetails(t.cdps,t.cdpsWithoutProxy);case 61:e.next=66;break;case 63:e.prev=63,e.t2=e["catch"](17),console.error(e.t2);case 66:t.showLoading?"CREATE"===t.afterLoadShow?(t.makerActive=!0,t.gotoCreate()):t.cdps.length>0||t.cdpsWithoutProxy.length>0?(t.cdpDetailsLoaded=!0,t.makerActive=!0,"create"!==t.$route.name&&t.$route.path.includes("maker-dai")&&t.goToManage()):t.gotoCreate():(t.cdpDetailsLoaded=!0,t.makerActive=!0);case 67:case"end":return e.stop()}}),e,null,[[5,13],[17,63],[42,54]])})))()},setupCdpManageFunc:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t=Object(it["b"])(t),a.next=3,Object(it["C"])(e,t);case 3:e.setActiveCdpId(t);case 4:case"end":return a.stop()}}),a)})))()},setActiveCdpId:function(t){this.activeCdpId=t,this.activeValues.cdpId=t},showDeposit:function(){this.$refs.deposit.$refs.modal.show()},showWithdraw:function(){this.$refs.withdraw.$refs.modal.show()},showPayback:function(){this.$refs.payback.$refs.modal.show()},showGenerate:function(){this.$refs.generate.$refs.modal.show()},showClose:function(){var t=this;this.$refs.closeCdp.$refs.modal.$on("hidden",(function(){t.$emit("modalHidden")})),this.$refs.closeCdp.$refs.modal.show()},showMove:function(){var t=this;this.$refs.moveCdp.$refs.modal.$on("hidden",(function(){t.$emit("modalHidden")})),this.destAddressHasProxy=!1,this.$refs.moveCdp.$refs.modal.show()},toUSD:function(t){return void 0===t||null===t?Object(it["F"])(0):this.ethPrice.times(Object(it["F"])(t))},updateActiveCdp:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(it["G"])(t);case 2:0===t.cdps.length&&0===t.cdpsWithoutProxy.length&&"save"!==t.$route.name?t.gotoCreate():"save"===t.$route.name&&t.goToSave();case 3:case"end":return e.stop()}}),e)})))()},wipeDai:function(t){this.currentCdp.wipeDai(t)},gotoHome:function(){this.$router.push({name:"Maker"})},gotoLoading:function(){this.$router.push({name:"makerLoading"})},gotoCreate:function(){this.$route.path.includes("maker-dai")&&("save"===this.$route.name?this.goToSave():(this.activeValues=this.systemValues,this.$router.push({name:"create"})))},goToSave:function(){this.$route.path.includes("maker-dai")&&this.$router.push({name:"save"})},migrateDai:function(){this.$route.path.includes("maker-dai")&&this.$router.push({name:"migrateDAI"})},goToManage:function(){this.$route.path.includes("maker-dai")&&(this.showLoading&&this.gotoLoading(),1===this.cdps.length?(this.setActiveCdpId(this.cdps[0]),this.$router.push({name:"manage",params:{cdpId:this.cdps[0]}})):1===this.cdpsWithoutProxy.length?this.$router.push({name:"migrate",params:{cdpId:this.cdpsWithoutProxy[0]}}):this.showManage?this.$router.push({name:"select"}):this.gotoCreate())},openManage:function(t){this.$route.path.includes("maker-dai")&&(this.setupCdpManageFunc(t),this.$router.push({name:"manage",params:{cdpId:t}}))},openMigrate:function(t){this.$route.path.includes("maker-dai")&&("number"!==typeof t&&(t=t.id),this.setupCdpManageFunc(t),this.$router.push({name:"migrate",params:{cdpId:t}}))},proceedtoCreateOrManage:function(){this.showLoading=!0}}},kt=yt,xt=(a("5991"),Object(k["a"])(kt,i,r,!1,null,"4d0eecf6",null));e["default"]=xt.exports},"98ae":function(t,e,a){"use strict";var n=a("7007"),i=a.n(n);i.a},a158:function(t,e,a){"use strict";var n=a("102f"),i=a.n(n);i.a},a4ad:function(t,e,a){"use strict";var n=a("b095"),i=a.n(n);i.a},adcb:function(t,e,a){},b095:function(t,e,a){},b0e3:function(t,e,a){},b18c:function(t,e,a){"use strict";var n=a("262b"),i=a.n(n);i.a},bed4:function(t,e,a){"use strict";var n=a("124a"),i=a.n(n);i.a},d572:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"interface-footer"})},i=[],r={data:function(){return{}}},o=r,s=(a("27a2"),a("2877")),c=Object(s["a"])(o,n,i,!1,null,"368362f6",null),u=c.exports}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-17c7ba0e.f4a7f867.js.map
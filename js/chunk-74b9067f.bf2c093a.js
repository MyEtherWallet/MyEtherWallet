(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74b9067f"],{"0b27":function(t,e,s){"use strict";var n=s("5ba3");const a=t=>""===t||Object(n["isHexStrict"])(t);e["a"]=a},"7d5f":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("mew-module",{staticClass:"d-flex flex-grow-1 pt-6",attrs:{"has-elevation":!0,"has-indicator":!0,title:"Deploy contract"},scopedSlots:t._u([{key:"moduleBody",fn:function(){return[s("div",[s("v-textarea",{staticClass:"BytecodeInput",attrs:{outlined:"",label:"Bytecode",placeholder:" ",rules:[function(e){return t.isValidByteCodeInput(e)}]},model:{value:t.byteCode,callback:function(e){t.byteCode=e},expression:"byteCode"}}),s("v-textarea",{staticClass:"ABIInput",attrs:{outlined:"",name:"input-7-4",label:"ABI/JSON Interface",value:"",placeholder:" ",rules:[function(e){return t.isValidABI(e)}]},model:{value:t.abiInterface,callback:function(e){t.abiInterface=e},expression:"abiInterface"}}),s("mew-input",{staticClass:"ContractName",attrs:{label:"Contract name",placeholder:" "},model:{value:t.contractName,callback:function(e){t.contractName=e},expression:"contractName"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.constructorInputs.length,expression:"constructorInputs.length"}]},[s("div",{staticClass:"mb-10"},[t._v("Constructor Inputs")]),t._l(t.constructorInputs,(function(e,n){return s("div",{key:e.name+n,staticClass:"input-item-container"},["radio"!==t.getType(e.type).type?s("mew-input",{staticClass:"non-bool-input",attrs:{label:e.name+" ("+e.type+")",rules:[function(s){return t.isValidInput(s,t.getType(e.type).solidityType)}]},on:{input:function(e){return t.valueInput(n,e)}},model:{value:e.value,callback:function(s){t.$set(e,"value",s)},expression:"input.value"}}):t._e(),"radio"===t.getType(e.type).type?s("div",{staticClass:"bool-input-container"},[s("div",{staticClass:"bool-items"},[s("mew-checkbox",{attrs:{value:!0,label:e.name+" ("+e.type+")",type:"radio",checked:""},model:{value:e.value,callback:function(s){t.$set(e,"value",s)},expression:"input.value"}})],1)]):t._e()],1)})),t.isContructorPayable?s("mew-input",{staticClass:"non-bool-input",attrs:{rules:[function(e){return t.isETHValue(e)}],label:"value (ETH)"},model:{value:t.ethAmount,callback:function(e){t.ethAmount=e},expression:"ethAmount"}}):t._e()],2),s("div",{staticClass:"text-right"},[s("mew-button",{staticClass:"mr-4",attrs:{"btn-style":"light",title:"Clear all","has-full-width":!1},nativeOn:{click:function(e){return t.resetDefaults()}}}),s("mew-button",{staticClass:"SignTransactionButton",attrs:{title:"Sign transaction","has-full-width":!1,disabled:!t.canDeploy},nativeOn:{click:function(e){return t.deploy.apply(null,arguments)}}})],1)],1)]},proxy:!0}])})},a=[],r=(s("caad"),s("14d9"),s("e9c4"),s("2b0e")),i=s("2f62"),c=s("5ba3"),o=s("7466"),u=s("0b27"),l=s("e26d"),d=s("08e1"),p={name:"ModuleContractDeploy",data(){return{contractName:"",byteCode:"",byteCodeHex:"",abiInterface:"",inputsValid:!1,ethAmount:"0"}},computed:{...Object(i["e"])("wallet",["address","web3"]),...Object(i["e"])("global",["currentNetwork"]),...Object(i["c"])("global",["gasPrice"]),canDeploy(){return""!==this.byteCodeHex&&this.isValidByteCodeInput(this.byteCodeHex)&&this.isValidABI(this.abiInterface)&&(0===this.getConstructor(JSON.parse(this.abiInterface)).inputs.length||this.inputsValid)&&(!1===this.isContructorPayable||this.isETHValue(this.ethAmount))},constructorInputs(){return this.isValidABI(this.abiInterface)?this.getConstructor(JSON.parse(this.abiInterface)).inputs:[]},isContructorPayable(){return!!this.isValidABI(this.abiInterface)&&"payable"===this.getConstructor(JSON.parse(this.abiInterface)).stateMutability}},watch:{abiInterface(){this.constructorInputs.forEach((t,e)=>{this.constructorInputs[e].value="",r["default"].set(this.constructorInputs,e,this.constructorInputs[e])})}},methods:{...Object(i["b"])("global",["addLocalContract"]),resetDefaults(){this.contractName="",this.byteCode="",this.byteCodeHex="",this.abiInterface="",this.inputsValid=!1,this.ethAmount="0"},isValidByteCodeInput(t){if(Object(u["a"])(t))return this.byteCodeHex=Object(o["a"])(t),!0;if(Object(u["a"])("0x"+t))return this.byteCodeHex="0x"+t,!0;try{const e=JSON.parse(t);return!!Object(u["a"])("0x"+e.object)&&(this.byteCodeHex="0x"+e.object,!0)}catch(e){return!1}},isValidABI(t){return!!Object(l["d"])(t)&&!!Object(l["c"])(Object(l["d"])(t))},getConstructor(t){for(const e of t)if("constructor"===e.type)return e;return{inputs:[]}},deploy(){const t=new this.web3.eth.Contract(JSON.parse(this.abiInterface)),e=[];let s={};for(const n of this.constructorInputs)n.type.includes("[]")&&n.value?e.push(Object(d["d"])(n.value)):e.push(n.value);t.deploy({data:this.byteCodeHex,arguments:e}).send({from:this.address,value:this.isContructorPayable?Object(c["toHex"])(Object(c["toBN"])(Object(c["toWei"])(this.ethAmount))):"0x00"}).on("transactionHash",()=>{s={name:this.contractName,abi:JSON.stringify(JSON.parse(this.abiInterface))},this.resetDefaults()}).on("receipt",t=>{s.address=t.contractAddress,""===s.name&&(s.name=t.contractAddress),this.addLocalContract(s)})},valueInput(t,e){t&&e&&(this.constructorInputs[t].value=e),this.inputsValid=!0;for(const s of this.constructorInputs)this.isValidInput(s.value,this.getType(s.type).solidityType)||(this.inputsValid=!1)},isETHValue(t){try{return Object(c["toWei"])(t,"ether"),!0}catch(e){return!1}},getType(t){return Object(l["a"])(t)},isValidInput(t,e){return Object(l["b"])(t,e)}}},b=p,h=s("2877"),y=Object(h["a"])(b,n,a,!1,null,null,null);e["default"]=y.exports},d6fd:function(t,e,s){"use strict";s.d(e,"a",(function(){return o})),s.d(e,"b",(function(){return u}));s("ac1f");var n=s("99e5"),a=s.n(n),r=s("27ca"),i=s("913e"),c=s("5b66");const o=t=>{const e=r["a"].getters["global/network"].type.chainID;return e===i["ROOTSTOCK"].chainID?!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(t)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(t))||Object(c["isValidChecksumAddress"])(t,e)):t&&a.a.utils.isHexStrict(t)&&a.a.utils.isAddress(t)},u=t=>{const e=r["a"].getters["global/network"].type.chainID;return e===i["ROOTSTOCK"].chainID?Object(c["toChecksumAddress"])(t,e):a.a.utils.toChecksumAddress(t)}},e26d:function(t,e,s){"use strict";s.d(e,"b",(function(){return p})),s.d(e,"d",(function(){return y})),s.d(e,"c",(function(){return h})),s.d(e,"a",(function(){return b}));s("caad"),s("ac1f"),s("5319");var n=s("08e1");const a="uint",r="int",i="address",c="string",o="bytes",u="bool";var l=s("d6fd"),d=s("0b27");const p=(t,e)=>{try{if(t||"boolean"===typeof t||(t=""),e.includes("[]")){const s=Array.isArray(t)?t:Object(n["d"])(t),a=e.replace("[]","");for(const t of s)if(!p(t,a))return!1;return!0}return e.includes(a)||e.includes(r)?""!==t&&!isNaN(t)&&Object(n["c"])(t)&&!f(t):e===i?Object(l["a"])(t):e===c||(e.includes(o)?"0x"===t.substr(0,2)&&Object(d["a"])(t):e===u&&("boolean"===typeof t||"boolean"===typeof t))}catch(s){return!1}},b=t=>(t||(t=""),t.includes("[]")?{type:"string",solidityType:""+t}:t.includes(a)||t.includes(r)?{type:"number",solidityType:a}:t.includes(i)?{type:"text",solidityType:i}:t.includes(c)?{type:"text",solidityType:c}:t.includes(o)?{type:"text",solidityType:o}:t.includes(u)?{type:"radio",solidityType:u}:{type:"text",solidityType:c}),h=t=>{if(""===t)return!1;try{const e=JSON.parse(t);return!!(Array.isArray(e)&&e.length>0)&&e}catch(e){return!!(Array.isArray(t)&&t.length>0)&&t}},y=t=>{try{return JSON.parse(t)}catch(e){return!!Array.isArray(t)&&t}},f=t=>/\s/g.test(t)}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-74b9067f.bf2c093a.js.map
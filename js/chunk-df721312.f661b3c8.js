(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df721312"],{"252d":function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return f}));var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"confirm-container"},[e("div",{staticClass:"domain-header"},[e("div",{staticClass:"items-container"},t._l(t.cart,(function(n){return e("h4",{key:n.label+"."+n.extension},[t._v(" "+t._s(n.label+"."+n.extension)+" - $"+t._s(n.price)+" ")])})),0),e("h4",{staticClass:"domain-price"},[t._v("$"+t._s(t.cartTotal))])]),e("div",{staticClass:"confirm-form-container"},[e("div",{staticClass:"confirm-form-field-container"},[e("h4",{staticClass:"confirm-payment-text"},[t._v(" "+t._s(t.$t("unstoppable.confirm-payment",{amount:t.cartTotal,numberDomains:t.cart.length}))+" ")]),e("div",{staticClass:"btn-container"},[e("button",{staticClass:"back-btn",on:{click:function(n){return t.goBack()}}},[e("span",[t._v(" "+t._s(t.$t("common.back"))+" ")])]),e("button",{class:["large-round-button-green-filled clickable confirm-button"],attrs:{disabled:t.loading},on:{click:t.submit}},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[t._v(" "+t._s(t.$t("unstoppable.pay"))+" ")]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"fa fa-spinner fa-spin"})])])])])])])},i=[],r=(e("d81d"),e("13d5"),e("d3b7"),e("5530")),s=e("6c15"),o=e.n(s),c=e("2f62"),u={props:{cart:{type:Array,default:function(){return[]}},account:{type:Object,default:function(){}},email:{type:String,default:""},setOrderNumber:{type:Function,default:function(){}},tokenId:{type:String,default:""}},data:function(){return{confirmOptions:{},confirmImg:o.a,publishableKey:"pk_live_HAPE6Nv5bfhCJYKe6Nfaaj4P",token:null,charge:null,loading:!1,paymentError:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])("main",["online"])),{},{cartTotal:function(){return this.cart.reduce((function(t,n){return t+n.price}),0)}}),beforeMount:function(){""!==!this.cart.length&&this.cartTotal||this.$router.push("/interface/dapps/unstoppable")},methods:{goBack:function(){this.$router.push("/interface/dapps/unstoppable")},submit:function(){var t=this;this.account&&this.account.address&&(this.loading=!0,fetch("https://unstoppabledomains.com/api/v1/resellers/myetherwallet/users/".concat(this.email,"/orders"),{method:"POST",headers:{"content-type":"Application/JSON"},body:JSON.stringify({order:{domains:this.cart.map((function(n){return{name:n.label+"."+n.extension,owner:{address:t.account.address},resolution:{crypto:{ETH:{address:t.account.address}}}}})),payment:{type:"stripe",tokenId:this.tokenId}}})}).then((function(t){if(200===t.status)return t.json();throw new Error("Failed to submit payment")})).then((function(n){var e=n.order;t.setOrderNumber(e.orderNumber),t.$router.push("/interface/dapps/unstoppable/claim-pending")})).catch((function(){t.paymentError=!0})))}}},l=u,d=(e("2d5a"),e("2877")),p=Object(d["a"])(l,a,i,!1,null,"7d77b548",null),f=p.exports},"2d5a":function(t,n,e){"use strict";var a=e("96ec"),i=e.n(a);i.a},"6c15":function(t,n,e){t.exports=e.p+"img/domain.5194defa.svg"},"96ec":function(t,n,e){}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-df721312.f661b3c8.js.map
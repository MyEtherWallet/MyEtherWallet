(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66fb240e"],{"1db4":function(e,t,s){e.exports=s.p+"img/USD.36ab476e.svg"},"8dad":function(e,t,s){},c583:function(e,t,s){"use strict";s("8dad")},d3f2:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mew-component--moon-pay"},[s("mew-popup",{attrs:{show:e.open,"has-buttons":!1,"has-title":!1,"has-padding":!1,"max-width":"450","left-btn":e.leftBtn,scrollable:"","has-body-content":""}},[0===e.step?s("div",[e.open?s("mew-tabs",{staticClass:"pt-3",class:e.addTokenPadding?"top-container":"",attrs:{items:e.tabItems,"active-tab":e.activeTab,"active-color":"greenPrimary","has-underline":""},on:{onTab:e.onTab},scopedSlots:e._u([{key:"tabContent1",fn:function(){return[s("buy-eth-component",{attrs:{"order-handler":e.orderHandler,close:e.close,tab:e.activeTab,"default-currency":e.defaultCurrency,"in-wallet":e.inWallet,"supported-buy":e.supportedNetwork},on:{selectedCurrency:e.setSelectedCurrency,openProviders:e.openProviders,selectedFiat:e.setSelectedFiat,hideMoonpay:e.hideMoonpay,simplexQuote:e.setSimplexQuote,toAddress:e.setToAddress,success:e.buySuccess,openTokenSelect:e.checkTokenPadding}})]},proxy:!0},e.sellSupported?{key:"tabContent2",fn:function(){return[s("sell-eth-component",{attrs:{"order-handler":e.orderHandler,close:e.close,tab:e.activeTab,"in-wallet":e.inWallet,"default-currency":e.defaultCurrency},on:{selectedCurrency:e.setSelectedCurrency}})]},proxy:!0}:null],null,!0)}):e._e()],1):e._e(),1===e.step?s("BuyProviderComponent",{attrs:{"order-handler":e.orderHandler,close:e.close,"in-wallet":e.inWallet,"only-simplex":e.onlySimplex,"selected-currency":e.selectedCurrency,"selected-fiat":e.selectedFiat,"buy-obj":e.buyObj,"simplex-quote":e.simplexQuote,"to-address":e.toAddress},on:{close:function(t){e.step=0},openProviders:e.openProviders,reset:e.reset}}):e._e()],1)],1)},r=[],o=(s("caad"),s("2f62")),c=s("2ef0"),a=s("913e"),i=s("08e1"),d=s("5ba3"),l=s("bc3a"),u=s.n(l);const p="https://mainnet.mewwallet.dev";class h{constructor(){}buy(e,t,s,n){const r=Object(d["sha3"])(n),o="WEB|"+r.substring(0,42);return new Promise(r=>{let c=`${p}/v3/purchase/moonpay/order?address=${n}&id=${o}&cryptoCurrency=${e}&fiatCurrency=${t}`;s&&(c+="&requestedAmount="+s);const a=encodeURI(c);window.open(a,"_blank"),r()})}sell(e,t,s){const n=Object(d["sha3"])(s),r="WEB|"+n.substring(0,42);return new Promise(n=>{const o=encodeURI(`${p}/v3/sell/moonpay/order?address=${s}&id=${r}&cryptoCurrency=${e}&requestedAmount=${t}`);window.open(o,"_blank"),n()})}getSupportedFiatToBuy(e){return u.a.get(`${p}/v3/purchase/providers/web?iso=us&cryptoCurrency=${e}`,{headers:{"Accept-Language":"en-US"}}).then(e=>e.data)}getFiatRatesForBuy(){return u.a.get(p+"/v3/purchase/moonpay/quotes",{headers:{"Accept-Language":"en-US"}}).then(e=>e.data)}getSupportedFiatToSell(e){return u.a.get(`${p}/v3/sell/providers/web?iso=us&cryptoCurrency=${e}`,{headers:{"Accept-Language":"en-US"}}).then(e=>e.data)}simplexBuy(e,t,s,n){const r=Object(d["sha3"])(n),o="WEB|"+r.substring(0,42);return new Promise(r=>{const c=encodeURI(`${p}/v2/purchase/simplex/order?address=${n}&id=${o}&requestedCurrency=${t}&fiatCurrency=${t}&requestedAmount=${s}&cryptoCurrency=${e}`);window.open(c,"_blank"),r()})}getSimplexQuote(e,t,s,n){const r=Object(d["sha3"])(n),o="WEB|"+r.substring(0,42);return new Promise((n,r)=>{u.a.get(encodeURI(`${p}/purchase/simplex/quote?id=${o}&requestedCurrency=${t}&fiatCurrency=${t}&requestedAmount=${s}&cryptoCurrency=${e}`),{headers:{"Accept-Language":"en-US"}}).then(e=>{n(e.data)}).catch(r)})}getHistory(){}}var y={name:"MoonPay",components:{BuyEthComponent:()=>Promise.all([s.e("chunk-d9b8b13c"),s.e("chunk-22d2e242")]).then(s.bind(null,"58cd")),SellEthComponent:()=>Promise.all([s.e("chunk-d9b8b13c"),s.e("chunk-26533e56")]).then(s.bind(null,"1d83")),BuyProviderComponent:()=>s.e("chunk-5031c730").then(s.bind(null,"8110"))},props:{open:{type:Boolean,default:!1}},data(){return{isOpen:!1,activeTab:0,orderHandler:{},selectedCurrency:{},selectedFiat:{},onlySimplex:!1,buyObj:{},step:0,simplexQuote:{},toAddress:"",addTokenPadding:!1}},computed:{...Object(o["e"])("wallet",["address","instance"]),...Object(o["c"])("wallet",["tokensList"]),...Object(o["c"])("global",["network"]),...Object(o["c"])("external",["contractToToken"]),sellSupported(){return this.network.type.name===a["ETH"].name},inWallet(){return this.$route.fullPath.includes("/wallet")&&!this.$route.meta.noAuth},defaultCurrency(){if(Object(c["isEmpty"])(this.selectedCurrency)&&this.supportedNetwork){if(this.inWallet)return this.tokensList[0];const e=this.contractToToken(i["a"]);return e.value=e.symbol,e}return Object(c["isEmpty"])(this.selectedCurrency)||this.supportedNetwork,this.selectedCurrency},supportedNetwork(){return"ETH"===this.network.type.name||"BSC"===this.network.type.name||"MATIC"===this.network.type.name},leftBtn(){return{method:this.close}},tabItems(){return this.sellSupported?[{name:"Buy"},{name:"Sell"}]:[{name:"Buy"}]}},watch:{open(e){this.isOpen=e,e&&(this.orderHandler=new h),this.selectedCurrency={},this.selectedCurrency=this.defaultCurrency},address(){this.selectedCurrency=this.defaultCurrency},network(){this.selectedCurrency={},this.selectedCurrency=this.defaultCurrency,this.setTokens()}},methods:{...Object(o["b"])("external",["setNetworkTokens"]),onTab(e){this.selectedCurrency={},this.selectedCurrency=this.defaultCurrency,this.activeTab=e},async setTokens(){if(!this.inWallet){const e=new Map,t=await this.network.type.tokens;t.forEach(t=>{e.set(t.address.toLowerCase(),t)}),this.setNetworkTokens(e)}},close(){this.activeTab=0,this.step=0,this.onlySimplex=!1,this.$emit("close",!1)},setSelectedCurrency(e){this.selectedCurrency=e},setSelectedFiat(e){this.selectedFiat=e},openProviders(e){this.step=e},setBuyObj(e){this.buyObj=e},setSimplexQuote(e){this.simplexQuote=e},setToAddress(e){this.toAddress=e},reset(){this.selectedCurrency=this.defaultCurrency,this.selectedFiat={name:"USD",value:"USD",img:s("1db4")},this.onlySimplex=!1},hideMoonpay(e){this.onlySimplex=e},buySuccess(e){this.setSimplexQuote(e[0]),this.setToAddress(e[1]),this.setBuyObj(e[2]),this.openProviders(e[3]),this.setSelectedCurrency(e[4]),this.setSelectedFiat(e[5])},checkTokenPadding(e){this.inWallet?this.addTokenPadding=e:this.addTokenPadding=!1}}},b=y,m=(s("c583"),s("2877")),C=Object(m["a"])(b,n,r,!1,null,"1e46eb99",null);t["default"]=C.exports}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-66fb240e.0a34ddae.js.map
{"version":3,"sources":["webpack:///./src/modules/tools/ModuleToolsGenerateKeystore/components/StepOne.vue?f14f","webpack:///src/modules/tools/ModuleToolsGenerateKeystore/components/StepOne.vue","webpack:///./src/modules/tools/ModuleToolsGenerateKeystore/components/StepOne.vue?bbf1","webpack:///./src/modules/tools/ModuleToolsGenerateKeystore/components/StepOne.vue","webpack:///./src/modules/tools/ModuleToolsGenerateKeystore/components/StepOne.vue?a0bc"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","_s","eth2Address","attrs","mnemonic","_e","downloadedKeystore","keystoreName","downloadingKeystore","$vuetify","breakpoint","xs","nativeOn","$event","onDownload","apply","arguments","keystoreFileWarning","smAndDown","buttonText","onContinue","onCreatePassword","on","generateKeystore","onDialogStateChange","staticRenderFns","components","BorderBlock","GenerateKeystoreDialog","MnemonicPhraseTable","data","ks","keystoreJson","link","computed","mounted","methods","createAddress","address","createMnemonic","password","toWithdrawalKeystore","Date","verifyKeystore","Toast","downloadKeystore","onStep","isSkipped","URL","component"],"mappings":"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","file":"js/chunk-4cdd774c.44a29f6e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mx-auto mb-3\",staticStyle:{\"max-width\":\"550px\"}},[_c('div',{staticClass:\"mew-heading-2 py-8 text-center\"},[_vm._v(\" Here is your new Eth2 address \")]),_c('border-block',{staticClass:\"mt-4 pa-3 pa-sm-5\"},[_c('div',{staticClass:\"overlayBg rounded pa-5\"},[_c('div',{staticClass:\"mew-heading-3 mb-3\"},[_vm._v(\"Your Eth2 Address\")]),_c('div',{staticClass:\"break-word mew-address\"},[_vm._v(\" \"+_vm._s(_vm.eth2Address)+\" \")])]),_c('div',{staticClass:\"mt-8\"},[_c('div',{staticClass:\"mew-heading-3 mb-5 pl-md-5\"},[_vm._v(\" 1. Write down your recovery phrase \")]),_c('border-block',{staticClass:\"px-3 px-sm-7 py-4\"},[_c('mnemonic-phrase-table',{attrs:{\"data\":_vm.mnemonic}})],1)],1),_c('div',{staticClass:\"mt-10\"},[_c('div',{staticClass:\"mew-heading-3 mb-5 pl-md-5\"},[_vm._v(\" 2. Download your keystore file \")]),_c('div',{staticClass:\"d-block d-sm-flex align-center justify-space-between greyLight py-5 px-3 rounded\"},[_c('div',{staticClass:\"d-flex align-center\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/icons/icon-keystore-file.svg\"),\"alt\":\"Keystore file\",\"height\":\"32\"}}),_c('div',{staticClass:\"ml-3\"},[_c('div',{staticClass:\"mew-heading-4\"},[_vm._v(\" Keystore file \"),(_vm.downloadedKeystore)?_c('v-icon',{attrs:{\"size\":\"16\",\"color\":\"greenPrimary\"}},[_vm._v(\"mdi-checkbox-marked-circle\")]):_vm._e()],1),(_vm.downloadedKeystore && _vm.keystoreName)?_c('div',{staticClass:\"textLight--text\"},[_vm._v(\" \"+_vm._s(_vm.keystoreName)+\" \")]):_vm._e()])]),_c('mew-button',{staticClass:\"my-2 KeystoreDownloadButton\",attrs:{\"btn-size\":\"small\",\"title\":\"Download\",\"btn-style\":\"outline\",\"loading\":_vm.downloadingKeystore && !_vm.downloadedKeystore,\"has-full-width\":_vm.$vuetify.breakpoint.xs},nativeOn:{\"click\":function($event){return _vm.onDownload.apply(null, arguments)}}})],1),(_vm.downloadedKeystore)?_c('mew-warning-sheet',{staticClass:\"mt-4 mb-1\",attrs:{\"description\":_vm.keystoreFileWarning}}):_vm._e()],1)]),_c('div',{staticClass:\"mt-10 d-flex flex-column-reverse flex-md-row align-center justify-center\"},[_c('mew-button',{staticClass:\"generate-button d-block ma-2\",attrs:{\"has-full-width\":_vm.$vuetify.breakpoint.smAndDown,\"btn-size\":\"xlarge\",\"title\":_vm.buttonText,\"disabled\":!_vm.downloadedKeystore},nativeOn:{\"click\":function($event){return _vm.onContinue(false)}}})],1),_c('generate-keystore-dialog',{attrs:{\"opened\":_vm.onCreatePassword},on:{\"generate\":_vm.generateKeystore,\"onDialogStateChange\":_vm.onDialogStateChange}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--\n  ===================================================\n  Step two: Generate Eth2 Address\n  ===================================================\n  -->\n  <div>\n    <div class=\"mx-auto mb-3\" style=\"max-width: 550px\">\n      <div class=\"mew-heading-2 py-8 text-center\">\n        Here is your new Eth2 address\n      </div>\n      <border-block class=\"mt-4 pa-3 pa-sm-5\">\n        <!--\n        ===================================================\n        Eth2 Address\n        ===================================================\n        -->\n        <div class=\"overlayBg rounded pa-5\">\n          <div class=\"mew-heading-3 mb-3\">Your Eth2 Address</div>\n          <div class=\"break-word mew-address\">\n            {{ eth2Address }}\n          </div>\n        </div>\n        <!--\n        ===================================================\n        Recovery phrase\n        ===================================================\n        -->\n        <div class=\"mt-8\">\n          <div class=\"mew-heading-3 mb-5 pl-md-5\">\n            1. Write down your recovery phrase\n          </div>\n          <border-block class=\"px-3 px-sm-7 py-4\">\n            <mnemonic-phrase-table :data=\"mnemonic\" />\n          </border-block>\n        </div>\n        <!--\n        ===================================================\n        Keystore\n        ===================================================\n        -->\n        <div class=\"mt-10\">\n          <div class=\"mew-heading-3 mb-5 pl-md-5\">\n            2. Download your keystore file\n          </div>\n          <div\n            class=\"d-block d-sm-flex align-center justify-space-between greyLight py-5 px-3 rounded\"\n          >\n            <div class=\"d-flex align-center\">\n              <img\n                src=\"@/assets/images/icons/icon-keystore-file.svg\"\n                alt=\"Keystore file\"\n                height=\"32\"\n              />\n              <div class=\"ml-3\">\n                <div class=\"mew-heading-4\">\n                  Keystore file\n                  <v-icon\n                    v-if=\"downloadedKeystore\"\n                    size=\"16\"\n                    color=\"greenPrimary\"\n                    >mdi-checkbox-marked-circle</v-icon\n                  >\n                </div>\n                <div\n                  v-if=\"downloadedKeystore && keystoreName\"\n                  class=\"textLight--text\"\n                >\n                  {{ keystoreName }}\n                </div>\n              </div>\n            </div>\n            <mew-button\n              class=\"my-2 KeystoreDownloadButton\"\n              btn-size=\"small\"\n              title=\"Download\"\n              btn-style=\"outline\"\n              :loading=\"downloadingKeystore && !downloadedKeystore\"\n              :has-full-width=\"$vuetify.breakpoint.xs\"\n              @click.native=\"onDownload\"\n            />\n          </div>\n\n          <mew-warning-sheet\n            v-if=\"downloadedKeystore\"\n            class=\"mt-4 mb-1\"\n            :description=\"keystoreFileWarning\"\n          />\n        </div>\n      </border-block>\n      <!--\n      ======================================================\n      Back + Continue buttons\n      ======================================================\n      -->\n      <div\n        class=\"mt-10 d-flex flex-column-reverse flex-md-row align-center justify-center\"\n      >\n        <mew-button\n          :has-full-width=\"$vuetify.breakpoint.smAndDown\"\n          btn-size=\"xlarge\"\n          class=\"generate-button d-block ma-2\"\n          :title=\"buttonText\"\n          :disabled=\"!downloadedKeystore\"\n          @click.native=\"onContinue(false)\"\n        />\n      </div>\n\n      <!--\n      ======================================================\n      Create password + download keystore dialog\n      ======================================================\n      -->\n      <generate-keystore-dialog\n        :opened=\"onCreatePassword\"\n        @generate=\"generateKeystore\"\n        @onDialogStateChange=\"onDialogStateChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport KeyStore, { verifyKeystore } from '@myetherwallet/eth2-keystore';\n\nimport { Toast, ERROR } from '@/modules/toast/handler/handlerToast';\nimport { createBlob } from '@/modules/create-wallet/handlers/helpers';\n\nexport default {\n  components: {\n    BorderBlock: () => import('@/components/BorderBlock'),\n    GenerateKeystoreDialog: () => import('./GenerateKeystoreDialog'),\n    MnemonicPhraseTable: () => import('@/components/MnemonicPhraseTable')\n  },\n  data() {\n    return {\n      ks: {},\n      mnemonic: [],\n      eth2Address: '',\n      downloadedKeystore: false,\n      downloadingKeystore: false,\n      keystoreFileWarning:\n        \"Don't lose your Keystore file / password and Recovery phrase. They hold your keys and are necessary future access. MEW will not be able to recover them for you so make sure to keep them safe.\",\n      keystoreJson: '',\n      keystoreName: '',\n      onCreatePassword: false,\n      link: {}\n    };\n  },\n  computed: {\n    buttonText() {\n      return this.downloadedKeystore\n        ? 'Next: upload your keystore file'\n        : 'Continue after downloading keystore file';\n    }\n  },\n  mounted() {\n    /**\n     * Create Keystore handler\n     * then create address, mnemonic\n     */\n    this.ks = new KeyStore();\n    this.createAddress();\n    this.createMnemonic();\n  },\n  methods: {\n    /**\n     * Create Eth2 Address\n     */\n    async createAddress() {\n      const address = await this.ks.getPublicKey(0, false);\n      this.eth2Address = address.toString('hex');\n    },\n    /**\n     * Create Mnemonic\n     */\n    async createMnemonic() {\n      const mnemonic = await this.ks.getMnemonic();\n      this.mnemonic = mnemonic.split(' ');\n    },\n    /**\n     * Gets triggered by emit from StakedCreatePasswordDialog\n     * stores the state of the dialog (opened or closed)\n     */\n    onDialogStateChange(newVal) {\n      this.onCreatePassword = newVal;\n    },\n    /**\n     * Gets triggered from clicking the Download button\n     * if keystore has not been downloaded, then create pw modal will pop up\n     * otherwise will download the same keystore file\n     */\n    onDownload() {\n      if (this.downloadedKeystore) {\n        this.downloadKeystore();\n        return;\n      }\n      this.onCreatePassword = !this.onCreatePassword;\n    },\n    /**\n     * Generate keystore json\n     */\n    async generateKeystore(pw) {\n      const password = pw;\n      this.downloadingKeystore = true;\n      this.onCreatePassword = false;\n      const toWithdrawalKeystore = await this.ks.toWithdrawalKeystore(password);\n      this.keystoreJson = createBlob(toWithdrawalKeystore, 'mime');\n      this.keystoreName =\n        'keystore-' +\n        toWithdrawalKeystore.path.split('/').join('_') +\n        '-' +\n        Date.now() +\n        '.json';\n      this.downloadKeystore();\n      /**\n       * Verify keystore\n       */\n      await verifyKeystore(toWithdrawalKeystore, password).catch(error => {\n        Toast(error, {}, ERROR);\n      });\n    },\n    /**\n     * Download keystore file\n     */\n    downloadKeystore() {\n      this.link = document.createElement('a');\n      this.link.href = this.keystoreJson;\n      this.link.download = this.keystoreName;\n      this.link.click();\n      this.downloadedKeystore = true;\n    },\n    /**\n     * Emits onContinue to go to next step\n     * if skipped @returns true means do not need to generate\n     * a new keystore\n     */\n    onContinue(skipped) {\n      this.$emit('onContinue', {\n        onStep: 2,\n        isSkipped: skipped,\n        address: this.eth2Address\n      });\n      URL.revokeObjectURL(this.link.href);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.generate-button {\n  white-space: normal;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepOne.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepOne.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StepOne.vue?vue&type=template&id=036093d9&scoped=true&\"\nimport script from \"./StepOne.vue?vue&type=script&lang=js&\"\nexport * from \"./StepOne.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StepOne.vue?vue&type=style&index=0&id=036093d9&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"036093d9\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepOne.vue?vue&type=style&index=0&id=036093d9&prod&lang=scss&scoped=true&\""],"sourceRoot":""}
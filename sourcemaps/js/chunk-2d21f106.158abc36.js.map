{"version":3,"sources":["webpack:///./src/dapps/ens-manager-dapp/components/manage/ManageMulticoins.vue?ae9e","webpack:///src/dapps/ens-manager-dapp/components/manage/ManageMulticoins.vue","webpack:///./src/dapps/ens-manager-dapp/components/manage/ManageMulticoins.vue?3c6e","webpack:///./src/dapps/ens-manager-dapp/components/manage/ManageMulticoins.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","coin","idx","key","attrs","$t","errors","on","validateCoin","model","value","setCoins","callback","$$v","$set","expression","valid","nativeOn","$event","submit","apply","arguments","staticRenderFns","props","setMulticoin","default","type","multicoin","data","coins","computed","hasError","Object","watch","handler","deep","immediate","methods","newItem","acc","Toast","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAIP,EAAS,OAAE,SAASQ,EAAKC,GAAK,OAAOL,EAAG,MAAM,CAACM,IAAIF,EAAOC,GAAK,CAACL,EAAG,YAAY,CAACE,YAAY,OAAOK,MAAM,CAAC,GAAKF,EAAI,MAAQD,EAAK,YAAcA,EAAO,IAAMR,EAAIY,GAAG,eAAe,iBAAiBZ,EAAIa,OAAOL,IAAOM,GAAG,CAAC,MAAQd,EAAIe,cAAcC,MAAM,CAACC,MAAOjB,EAAIkB,SAASV,GAAOW,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIkB,SAAUV,EAAMY,IAAME,WAAW,qBAAqB,MAAKlB,EAAG,MAAM,CAACE,YAAY,2CAA2C,CAACF,EAAG,aAAa,CAACO,MAAM,CAAC,MAAQX,EAAIY,GAAG,eAAe,WAAW,SAAS,UAAYZ,EAAIuB,OAAOC,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOzB,EAAI0B,OAAOC,MAAM,KAAMC,gBAAgB,IAAI,IACtvBC,EAAkB,G,4EC2BP,GACfC,OACAC,cACAC,mBACA,UAEAC,eAEAC,WACAD,mBACAD,eAGAG,gBACA,SACA,KACA,4BACAtB,QACAuB,6BAEA,OACAlB,WACAL,WAGAwB,UACAD,iBACA,mCAEAE,oBACA,OACAC,+CACA,sBACA,UAGAhB,iBACA,uDACA,+BAGA,oCAGAiB,OACAN,WACAO,oBACA,KACA,eACA,4BACA,mBAIAC,QACAC,eAGAC,SACA7B,2BACA,oBACA,4CACA,wDACAP,SAGA,mBAGAkB,kBAAA,WAEA,oDACA,2DAUA,OATAmB,sBAGAA,SACAA,cACAA,uCAEAC,UAEA,IACA,IACA,WACA,qBAEAC,oDCnHuY,I,YCOnYC,EAAY,eACd,EACAjD,EACA8B,GACA,EACA,KACA,KACA,MAIa,aAAAmB,E","file":"js/chunk-2d21f106.158abc36.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"full-width\"},[_vm._l((_vm.coins),function(coin,idx){return _c('div',{key:coin + idx},[_c('mew-input',{staticClass:\"mb-2\",attrs:{\"id\":idx,\"label\":coin,\"placeholder\":coin + ' ' + _vm.$t('common.addr'),\"error-messages\":_vm.errors[coin]},on:{\"input\":_vm.validateCoin},model:{value:(_vm.setCoins[coin]),callback:function ($$v) {_vm.$set(_vm.setCoins, coin, $$v)},expression:\"setCoins[coin]\"}})],1)}),_c('div',{staticClass:\"d-flex align-center justify-center mt-3\"},[_c('mew-button',{attrs:{\"title\":_vm.$t('common.save'),\"btn-size\":\"xlarge\",\"disabled\":!_vm.valid},nativeOn:{\"click\":function($event){return _vm.submit.apply(null, arguments)}}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"full-width\">\n    <div v-for=\"(coin, idx) in coins\" :key=\"coin + idx\">\n      <mew-input\n        :id=\"idx\"\n        v-model=\"setCoins[coin]\"\n        :label=\"coin\"\n        class=\"mb-2\"\n        :placeholder=\"coin + ' ' + $t('common.addr')\"\n        :error-messages=\"errors[coin]\"\n        @input=\"validateCoin\"\n      />\n    </div>\n    <div class=\"d-flex align-center justify-center mt-3\">\n      <mew-button\n        :title=\"$t('common.save')\"\n        btn-size=\"xlarge\"\n        :disabled=\"!valid\"\n        @click.native=\"submit\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { clone } from 'lodash';\n\nimport { Toast, WARNING } from '@/modules/toast/handler/handlerToast';\nexport default {\n  props: {\n    setMulticoin: {\n      default: function () {\n        return {};\n      },\n      type: Function\n    },\n    multicoin: {\n      type: [Object, null],\n      default: null\n    }\n  },\n  data() {\n    const errors = {};\n    const coins = {};\n    for (const type in this.multicoin) {\n      errors[type] = '';\n      coins[type] = this.multicoin[type].value;\n    }\n    return {\n      setCoins: coins,\n      errors: errors\n    };\n  },\n  computed: {\n    coins() {\n      return Object.keys(this.setCoins);\n    },\n    hasError() {\n      return (\n        Object.values(this.errors).filter(item => {\n          if (item !== '') return item;\n        }).length > 0\n      );\n    },\n    valid() {\n      const hasValues = Object.values(this.setCoins).filter(item => {\n        if (item && item.value !== '') return item;\n      });\n\n      return hasValues.length > 0 && !this.hasError;\n    }\n  },\n  watch: {\n    multicoin: {\n      handler: function (newVal) {\n        if (newVal) {\n          for (const type in newVal) {\n            this.setCoins[type] = newVal[type].value;\n            this.errors[type] = '';\n          }\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  methods: {\n    validateCoin(value, id) {\n      const coin = this.coins[id];\n      if (value && !this.multicoin[coin].validator.validate(value)) {\n        this.errors[coin] = this.$t('ens.ens-resolver.invalid-addr', {\n          coin: coin\n        });\n      } else {\n        this.errors[coin] = '';\n      }\n    },\n    submit() {\n      /** Creates a no reference clone to be submitted to the contract */\n      const copyMulticoin = Object.keys(this.multicoin).reduce((acc, item) => {\n        const newItem = Object.assign({}, clone(this.multicoin[item]));\n        newItem.value = this.setCoins[item];\n\n        if (\n          newItem.value &&\n          newItem.value !== '' &&\n          newItem.value !== this.multicoin[newItem.symbol].value\n        ) {\n          acc.push(newItem);\n        }\n        return acc;\n      }, []);\n      if (copyMulticoin.length > 0) {\n        this.setMulticoin(copyMulticoin);\n      } else {\n        Toast('No changes were made', {}, WARNING);\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageMulticoins.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageMulticoins.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ManageMulticoins.vue?vue&type=template&id=234a92fe&\"\nimport script from \"./ManageMulticoins.vue?vue&type=script&lang=js&\"\nexport * from \"./ManageMulticoins.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
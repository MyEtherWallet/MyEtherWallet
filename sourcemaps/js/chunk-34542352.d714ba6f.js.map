{"version":3,"sources":["webpack:///./src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue?ba1e","webpack:///./src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue?3924","webpack:///src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue","webpack:///./src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue?b552","webpack:///./src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue","webpack:///./src/assets/images/icons/copy.svg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","domainName","convertedEthPrice","$t","domainPrice","directives","name","rawName","value","chargeId","expression","on","handlePayWithCardClick","paymentAddress","paymentAmount","attrs","balance","$event","goBack","class","loading","submit","copyIcon","copyPaymentAddress","ref","domProps","size","pendingPayment","confirmationsRequired","confirmations","sendPayment","staticRenderFns","props","type","String","default","Number","email","account","Object","web3","copiedToClipboard","setOrderNumber","data","complete","cryptoOptions","ethPrice","computed","ethConvertPrice","beforeMount","$router","push","interval","setInterval","mounted","online","getEthPrice","beforeDestroy","clearInterval","methods","copyPaymentAmount","$refs","setAttribute","select","document","execCommand","eth","getCharge","fetch","address","component","module","exports"],"mappings":"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","file":"js/chunk-34542352.d714ba6f.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CryptoContainer.vue?vue&type=style&index=0&id=c7641b30&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CryptoContainer.vue?vue&type=style&index=0&id=c7641b30&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crypto-container\"},[_c('div',{staticClass:\"domain-header\"},[_c('h4',[_vm._v(_vm._s(_vm.domainName))]),_c('h4',{staticClass:\"domain-price\"},[_c('span',{staticClass:\"eth-text\"},[_vm._v(_vm._s(_vm.convertedEthPrice)+\" \"+_vm._s(_vm.$t('common.currency.eth')))]),_c('span',{staticClass:\"price-text\"},[_vm._v(\"($\"+_vm._s(_vm.domainPrice)+\")\")])])]),_c('div',{staticClass:\"crypto-form-container\"},[_c('div',{staticClass:\"crypto-form-header\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('unstoppable.pay-with-crypto')))]),_c('h5',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.chargeId),expression:\"!chargeId\"}],staticClass:\"pay-with-card\",on:{\"click\":_vm.handlePayWithCardClick}},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.pay-with-credit-card'))+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.paymentAddress || !_vm.paymentAmount),expression:\"!paymentAddress || !paymentAmount\"}]},[_c('div',{staticClass:\"eth-balance-container\"},[_c('div',{staticClass:\"right-container\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/currency/eth.svg\"),\"alt\":\"eth\"}}),_c('div',{staticClass:\"balance\"},[_c('span',[_vm._v(_vm._s(_vm.balance))]),_c('span',{staticClass:\"eth-text\"},[_vm._v(_vm._s(_vm.$t('common.currency.eth')))])])]),_c('span',{staticClass:\"your-bal\"},[_vm._v(_vm._s(_vm.$t('unstoppable.your-balance')))])]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.balance < _vm.convertedEthPrice),expression:\"balance < convertedEthPrice\"}],staticClass:\"error-message\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.insufficient-balance'))+\" \")]),_c('div',{staticClass:\"btn-container\"},[_c('button',{staticClass:\"back-btn\",on:{\"click\":function($event){return _vm.goBack()}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('common.back'))+\" \")])]),_c('button',{class:[\n              _vm.balance < _vm.convertedEthPrice ? 'disabled' : '',\n              'large-round-button-green-filled clickable pay-button'\n            ],attrs:{\"disabled\":(_vm.loading || _vm.balance  < _vm.convertedEthPrice)},on:{\"click\":_vm.submit}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.continue'))+\" \")]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fa fa-spinner fa-spin\"})])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.paymentAddress && _vm.paymentAmount),expression:\"paymentAddress && paymentAmount\"}]},[_c('div',{staticClass:\"crypto-payment-field-container\"},[_c('div',{staticClass:\"crypto-field-container\"},[_c('div',{staticClass:\"crypto-field\"},[_c('div',{staticClass:\"right\"},[_c('img',{staticClass:\"copy-button\",attrs:{\"src\":_vm.copyIcon,\"alt\":\"\"},on:{\"click\":_vm.copyPaymentAddress}}),_c('input',{ref:\"payment-address\",attrs:{\"type\":\"hidden\"},domProps:{\"value\":_vm.paymentAddress}}),_c('div',{staticClass:\"payment-addr\"},[_vm._v(_vm._s(_vm.paymentAddress))])]),_c('span',{staticClass:\"crypto-field-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.address'))+\" \")])])]),_c('div',{class:['crypto-field-container margin-bottom']},[_c('div',{staticClass:\"crypto-field-container\"},[_c('div',{staticClass:\"crypto-field\"},[_c('div',{staticClass:\"right\"},[_c('img',{staticClass:\"eth-icon\",attrs:{\"src\":require(\"@/assets/images/currency/eth.svg\"),\"alt\":\"eth\"}}),_c('input',{ref:\"payment-amount\",attrs:{\"type\":\"hidden\"},domProps:{\"value\":_vm.paymentAmount}}),_c('div',{staticClass:\"amount-container\"},[_c('div',{staticClass:\"amount-text\"},[_vm._v(_vm._s(_vm.paymentAmount))]),_c('span',{staticClass:\"eth-text\"},[_vm._v(_vm._s(_vm.$t('common.currency.eth')))])])]),_c('span',{staticClass:\"crypto-field-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.payment-amount'))+\" \")])])])]),_c('div',{class:['qr-code margin-bottom']},[_c('qrcode',{attrs:{\"value\":_vm.paymentAddress,\"options\":{ size: 160 }}})],1),_c('h6',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pendingPayment && _vm.confirmationsRequired),expression:\"pendingPayment && confirmationsRequired\"}],staticClass:\"payment-pending\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.pending-crypto-payment', { confirmations: _vm.confirmations, confirmationsRequired: _vm.confirmationsRequired }))+\" \")]),_c('div',{staticClass:\"btn-container\"},[_c('button',{staticClass:\"back-btn\",on:{\"click\":function($event){return _vm.goBack()}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('common.back'))+\" \")])]),_c('button',{class:[\n                'large-round-button-green-filled clickable pay-button send-payment-button'\n              ],attrs:{\"disabled\":_vm.loading || _vm.pendingPayment},on:{\"click\":_vm.sendPayment}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && !_vm.pendingPayment),expression:\"!loading && !pendingPayment\"}]},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.send-payment'))+\" \")]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading || _vm.pendingPayment),expression:\"loading || pendingPayment\"}],staticClass:\"fa fa-spinner fa-spin\"})])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div>\n    <div class=\"crypto-container\">\n      <div class=\"domain-header\">\n        <h4>{{ domainName }}</h4>\n        <h4 class=\"domain-price\">\n          <span class=\"eth-text\"\n            >{{ convertedEthPrice }} {{ $t('common.currency.eth') }}</span\n          >\n          <span class=\"price-text\">(${{ domainPrice }})</span>\n        </h4>\n      </div>\n      <div class=\"crypto-form-container\">\n        <div class=\"crypto-form-header\">\n          <h3>{{ $t('unstoppable.pay-with-crypto') }}</h3>\n          <h5\n            v-show=\"!chargeId\"\n            class=\"pay-with-card\"\n            @click=\"handlePayWithCardClick\"\n          >\n            {{ $t('unstoppable.pay-with-credit-card') }}\n          </h5>\n        </div>\n        <div v-show=\"!paymentAddress || !paymentAmount\">\n          <div class=\"eth-balance-container\">\n            <div class=\"right-container\">\n              <img src=\"@/assets/images/currency/eth.svg\" alt=\"eth\" />\n              <div class=\"balance\">\n                <span>{{ balance }}</span>\n                <span class=\"eth-text\">{{ $t('common.currency.eth') }}</span>\n              </div>\n            </div>\n            <span class=\"your-bal\">{{ $t('unstoppable.your-balance') }}</span>\n          </div>\n          <span v-show=\"balance < convertedEthPrice\" class=\"error-message\">\n            {{ $t('unstoppable.insufficient-balance') }}\n          </span>\n          <div class=\"btn-container\">\n            <button class=\"back-btn\" @click=\"goBack()\">\n              <span>\n                {{ $t('common.back') }}\n              </span>\n            </button>\n            <button\n              :class=\"[\n                balance < convertedEthPrice ? 'disabled' : '',\n                'large-round-button-green-filled clickable pay-button'\n              ]\"\n              :disabled=\"(loading || balance  < convertedEthPrice)\"\n              @click=\"submit\"\n            >\n              <span v-show=\"!loading\">\n                {{ $t('unstoppable.continue') }}\n              </span>\n              <i v-show=\"loading\" class=\"fa fa-spinner fa-spin\" />\n            </button>\n          </div>\n        </div>\n        <div v-show=\"paymentAddress && paymentAmount\">\n          <div class=\"crypto-payment-field-container\">\n            <div class=\"crypto-field-container\">\n              <div class=\"crypto-field\">\n                <div class=\"right\">\n                  <img\n                    :src=\"copyIcon\"\n                    class=\"copy-button\"\n                    alt\n                    @click=\"copyPaymentAddress\"\n                  />\n                  <input\n                    ref=\"payment-address\"\n                    type=\"hidden\"\n                    :value=\"paymentAddress\"\n                  />\n                  <div class=\"payment-addr\">{{ paymentAddress }}</div>\n                </div>\n                <span class=\"crypto-field-label\">\n                  {{ $t('unstoppable.address') }}\n                </span>\n              </div>\n            </div>\n            <div :class=\"['crypto-field-container margin-bottom']\">\n              <div class=\"crypto-field-container\">\n                <div class=\"crypto-field\">\n                  <div class=\"right\">\n                    <img\n                      class=\"eth-icon\"\n                      src=\"@/assets/images/currency/eth.svg\"\n                      alt=\"eth\"\n                    />\n                    <input\n                      ref=\"payment-amount\"\n                      type=\"hidden\"\n                      :value=\"paymentAmount\"\n                    />\n                    <div class=\"amount-container\">\n                      <div class=\"amount-text\">{{ paymentAmount }}</div>\n                      <span class=\"eth-text\">{{\n                        $t('common.currency.eth')\n                      }}</span>\n                    </div>\n                  </div>\n                  <span class=\"crypto-field-label\">\n                    {{ $t('unstoppable.payment-amount') }}\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div :class=\"['qr-code margin-bottom']\">\n              <qrcode :value=\"paymentAddress\" :options=\"{ size: 160 }\" />\n            </div>\n\n            <h6\n              v-show=\"pendingPayment && confirmationsRequired\"\n              class=\"payment-pending\"\n            >\n              {{\n                $t('unstoppable.pending-crypto-payment', {\n                  confirmations: confirmations,\n                  confirmationsRequired: confirmationsRequired\n                })\n              }}\n            </h6>\n            <div class=\"btn-container\">\n              <button class=\"back-btn\" @click=\"goBack()\">\n                <span>\n                  {{ $t('common.back') }}\n                </span>\n              </button>\n              <button\n                :disabled=\"loading || pendingPayment\"\n                :class=\"[\n                  'large-round-button-green-filled clickable pay-button send-payment-button'\n                ]\"\n                @click=\"sendPayment\"\n              >\n                <span v-show=\"!loading && !pendingPayment\">\n                  {{ $t('unstoppable.send-payment') }}\n                </span>\n                <i\n                  v-show=\"loading || pendingPayment\"\n                  class=\"fa fa-spinner fa-spin\"\n                />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BigNumber from 'bignumber.js';\nimport copyIcon from '@/assets/images/icons/copy.svg';\nimport { mapState } from 'vuex';\nimport { Toast } from '@/helpers';\n\nexport default {\n  props: {\n    domainName: {\n      type: String,\n      default: ''\n    },\n    domainPrice: {\n      type: Number,\n      default: 0\n    },\n    email: {\n      type: String,\n      default: ''\n    },\n    account: {\n      type: Object,\n      default: function () {}\n    },\n    web3: {\n      type: Object,\n      default: function () {}\n    },\n    copiedToClipboard: { type: Function, default: function () {} },\n    setOrderNumber: { type: Function, default: function () {} }\n  },\n  data() {\n    return {\n      complete: false,\n      cryptoOptions: {},\n      loading: false,\n      pendingPayment: false,\n      paymentAddress: '',\n      paymentAmount: 0,\n      chargeId: '',\n      confirmations: 0,\n      confirmationsRequired: 0,\n      copyIcon,\n      ethPrice: 0\n    };\n  },\n  computed: {\n    ...mapState('main', ['online']),\n    convertedEthPrice() {\n      let ethConvertPrice = 0;\n      if (this.domainPrice > 0) {\n        ethConvertPrice = new BigNumber(this.domainPrice)\n          .dividedBy(this.ethPrice)\n          .toFixed(8);\n      }\n      return ethConvertPrice;\n    },\n    balance() {\n      return this.account && this.account.balance\n        ? new BigNumber(\n            this.web3.utils.fromWei(this.account.balance.toString())\n          ).toFixed(8)\n        : '0';\n    }\n  },\n  beforeMount() {\n    if (this.domainName === '' || !this.domainPrice) {\n      this.$router.push({ name: 'unstoppableInitialState' });\n    }\n    this.interval = setInterval(() => {\n      if (this.chargeId) {\n        this.getCharge(this.chargeId);\n      }\n    }, 8000);\n  },\n  mounted() {\n    if (this.online) this.getEthPrice();\n  },\n  beforeDestroy() {\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  },\n  methods: {\n    goBack() {\n      this.$router.push('/interface/dapps/unstoppable');\n    },\n    async getEthPrice() {\n      const price = await fetch(\n        'https://cryptorates.mewapi.io/ticker?filter=ETH'\n      )\n        .then(res => {\n          return res.json();\n        })\n        .catch(e => {\n          Toast.responseHandler(e, Toast.ERROR);\n        });\n      this.ethPrice =\n        typeof price === 'object' ? price.data.ETH.quotes.USD.price : 0;\n    },\n    copyPaymentAmount() {\n      this.$refs['payment-amount'].setAttribute('type', 'text');\n      this.$refs['payment-amount'].select();\n      document.execCommand('copy');\n      this.$refs['payment-amount'].setAttribute('type', 'hidden');\n      this.copiedToClipboard();\n    },\n    copyPaymentAddress() {\n      this.$refs['payment-address'].setAttribute('type', 'text');\n      this.$refs['payment-address'].select();\n      document.execCommand('copy');\n      this.$refs['payment-address'].setAttribute('type', 'hidden');\n      this.copiedToClipboard();\n    },\n    sendPayment() {\n      this.loading = true;\n      this.web3.eth\n        .sendTransaction({\n          from: this.account.address,\n          to: this.paymentAddress,\n          value: this.web3.utils.toWei(this.paymentAmount.toString())\n        })\n        .on('transactionHash', () => {\n          this.pendingPayment = true;\n          this.loading = false;\n        })\n        .on('error', () => {\n          this.loading = false;\n        });\n    },\n    getCharge(chargeId) {\n      return fetch(\n        `https://unstoppabledomains.com/api/v1/resellers/myetherwallet/users/${this.email}/orders/coinbase-charge/${chargeId}`\n      )\n        .then(resp => {\n          if (resp.status === 200) {\n            return resp.json();\n          }\n          throw new Error('Failed to get charge info');\n        })\n        .then(({ charge }) => {\n          if (!this.paymentAddress || !this.paymentAmount) {\n            this.paymentAddress = charge.data.addresses.ethereum;\n            this.paymentAmount = +charge.data.pricing.ethereum.amount;\n          }\n          for (const payment of charge.data.payments) {\n            if (\n              payment.network === 'ethereum'\n              // +payment.value.crypto.amount >= this.paymentAmount\n            ) {\n              if (payment.status === 'PENDING') {\n                this.pendingPayment = true;\n              }\n              this.confirmations = payment.block.confirmations;\n              this.confirmationsRequired = payment.block.confirmations_required;\n              if (payment.status === 'CONFIRMED') {\n                this.$router.push({ name: 'claimPending' });\n              }\n            }\n          }\n        });\n    },\n    handlePayWithCardClick() {\n      this.$router.push({ name: 'payWithStripe' });\n    },\n    submit() {\n      if (!this.account || !this.account.address) {\n        return;\n      }\n      this.loading = true;\n      fetch(\n        `https://unstoppabledomains.com/api/v1/resellers/myetherwallet/users/${this.email}/orders`,\n        {\n          method: 'POST',\n          headers: {\n            'content-type': 'Application/JSON'\n          },\n          body: JSON.stringify({\n            order: {\n              domains: [\n                {\n                  name: this.domainName,\n                  owner: { address: this.account.address },\n                  resolution: {\n                    crypto: { ETH: { address: this.account.address } }\n                  }\n                }\n              ],\n              payment: { type: 'coinbase' }\n            }\n          })\n        }\n      )\n        .then(resp => {\n          if (resp.status === 200) {\n            return resp.json();\n          }\n          throw new Error('Failed to create charge');\n        })\n        .then(({ order }) => {\n          this.setOrderNumber(order.orderNumber);\n          this.getCharge(order.payment.tokenId).then(() => {\n            this.chargeId = order.payment.tokenId;\n            this.loading = false;\n          });\n        });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'CryptoContainer.scss';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CryptoContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CryptoContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CryptoContainer.vue?vue&type=template&id=c7641b30&scoped=true&lang=html&\"\nimport script from \"./CryptoContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./CryptoContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CryptoContainer.vue?vue&type=style&index=0&id=c7641b30&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c7641b30\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/copy.ec4723ca.svg\";"],"sourceRoot":""}
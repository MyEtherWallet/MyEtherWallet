{"version":3,"sources":["webpack:///./src/dapps/Unstoppable/containers/ConfirmContainer/ConfirmContainer.vue?31e6","webpack:///src/dapps/Unstoppable/containers/ConfirmContainer/ConfirmContainer.vue","webpack:///./src/dapps/Unstoppable/containers/ConfirmContainer/ConfirmContainer.vue?1d32","webpack:///./src/dapps/Unstoppable/containers/ConfirmContainer/ConfirmContainer.vue","webpack:///./src/dapps/Unstoppable/containers/ConfirmContainer/ConfirmContainer.vue?01ad","webpack:///./src/assets/images/icons/domain.svg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","cartItem","key","_v","_s","label","extension","price","cartTotal","$t","amount","numberDomains","cart","length","on","$event","goBack","class","attrs","loading","submit","directives","name","rawName","value","expression","staticRenderFns","props","type","Array","default","account","Object","email","String","setOrderNumber","Function","tokenId","data","confirmOptions","confirmImg","publishableKey","token","charge","paymentError","computed","reduce","a","b","beforeMount","$router","push","methods","address","fetch","owner","resolution","crypto","component","module","exports"],"mappings":"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","file":"js/chunk-df721312.f661b3c8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"confirm-container\"},[_c('div',{staticClass:\"domain-header\"},[_c('div',{staticClass:\"items-container\"},_vm._l((_vm.cart),function(cartItem){return _c('h4',{key:((cartItem.label) + \".\" + (cartItem.extension))},[_vm._v(\" \"+_vm._s(cartItem.label + '.' + cartItem.extension)+\" - $\"+_vm._s(cartItem.price)+\" \")])}),0),_c('h4',{staticClass:\"domain-price\"},[_vm._v(\"$\"+_vm._s(_vm.cartTotal))])]),_c('div',{staticClass:\"confirm-form-container\"},[_c('div',{staticClass:\"confirm-form-field-container\"},[_c('h4',{staticClass:\"confirm-payment-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.confirm-payment', { amount: _vm.cartTotal, numberDomains: _vm.cart.length }))+\" \")]),_c('div',{staticClass:\"btn-container\"},[_c('button',{staticClass:\"back-btn\",on:{\"click\":function($event){return _vm.goBack()}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('common.back'))+\" \")])]),_c('button',{class:[\n              'large-round-button-green-filled clickable confirm-button'\n            ],attrs:{\"disabled\":_vm.loading},on:{\"click\":_vm.submit}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.pay'))+\" \")]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fa fa-spinner fa-spin\"})])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div>\n    <div class=\"confirm-container\">\n      <div class=\"domain-header\">\n        <div class=\"items-container\">\n          <h4\n            v-for=\"cartItem of cart\"\n            :key=\"`${cartItem.label}.${cartItem.extension}`\"\n          >\n            {{ cartItem.label + '.' + cartItem.extension }} - ${{\n              cartItem.price\n            }}\n          </h4>\n        </div>\n        <h4 class=\"domain-price\">${{ cartTotal }}</h4>\n      </div>\n      <div class=\"confirm-form-container\">\n        <div class=\"confirm-form-field-container\">\n          <h4 class=\"confirm-payment-text\">\n            {{\n              $t('unstoppable.confirm-payment', {\n                amount: cartTotal,\n                numberDomains: cart.length\n              })\n            }}\n          </h4>\n          <div class=\"btn-container\">\n            <button class=\"back-btn\" @click=\"goBack()\">\n              <span>\n                {{ $t('common.back') }}\n              </span>\n            </button>\n            <button\n              :class=\"[\n                'large-round-button-green-filled clickable confirm-button'\n              ]\"\n              :disabled=\"loading\"\n              @click=\"submit\"\n            >\n              <span v-show=\"!loading\">\n                {{ $t('unstoppable.pay') }}\n              </span>\n              <i v-show=\"loading\" class=\"fa fa-spinner fa-spin\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport confirmImg from '@/assets/images/icons/domain.svg';\nimport { mapState } from 'vuex';\n\nexport default {\n  props: {\n    cart: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    account: {\n      type: Object,\n      default: function () {}\n    },\n    email: {\n      type: String,\n      default: ''\n    },\n    setOrderNumber: {\n      type: Function,\n      default: function () {}\n    },\n    tokenId: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      confirmOptions: {},\n      confirmImg,\n      publishableKey: 'pk_live_HAPE6Nv5bfhCJYKe6Nfaaj4P',\n      token: null,\n      charge: null,\n      loading: false,\n      paymentError: false\n    };\n  },\n  computed: {\n    ...mapState('main', ['online']),\n    cartTotal() {\n      return this.cart.reduce((a, b) => {\n        return a + b.price;\n      }, 0);\n    }\n  },\n  beforeMount() {\n    if (!this.cart.length === '' || !this.cartTotal) {\n      this.$router.push('/interface/dapps/unstoppable');\n    }\n  },\n  methods: {\n    goBack() {\n      this.$router.push('/interface/dapps/unstoppable');\n    },\n    submit() {\n      if (!this.account || !this.account.address) {\n        return;\n      }\n      this.loading = true;\n      fetch(\n        `https://unstoppabledomains.com/api/v1/resellers/myetherwallet/users/${this.email}/orders`,\n        {\n          method: 'POST',\n          headers: {\n            'content-type': 'Application/JSON'\n          },\n          body: JSON.stringify({\n            order: {\n              domains: this.cart.map(cartItem => ({\n                name: cartItem.label + '.' + cartItem.extension,\n                owner: { address: this.account.address },\n                resolution: {\n                  crypto: { ETH: { address: this.account.address } }\n                }\n              })),\n              payment: {\n                type: 'stripe',\n                tokenId: this.tokenId\n              }\n            }\n          })\n        }\n      )\n        .then(resp => {\n          if (resp.status === 200) {\n            return resp.json();\n          }\n          throw new Error('Failed to submit payment');\n        })\n        .then(({ order }) => {\n          this.setOrderNumber(order.orderNumber);\n          this.$router.push('/interface/dapps/unstoppable/claim-pending');\n        })\n        .catch(() => {\n          this.paymentError = true;\n        });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'ConfirmContainer.scss';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmContainer.vue?vue&type=template&id=7d77b548&scoped=true&lang=html&\"\nimport script from \"./ConfirmContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConfirmContainer.vue?vue&type=style&index=0&id=7d77b548&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d77b548\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmContainer.vue?vue&type=style&index=0&id=7d77b548&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmContainer.vue?vue&type=style&index=0&id=7d77b548&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/domain.5194defa.svg\";"],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/dapps/LendMigrator/LendMigrator.vue?1f16","webpack:///./src/dapps/LendMigrator/LendMigrator.vue?95f1","webpack:///./src/dapps/LendMigrator/abi/lendToAaveMigrator.js","webpack:///./src/dapps/LendMigrator/abi/erc20.js","webpack:///src/dapps/LendMigrator/LendMigrator.vue","webpack:///./src/dapps/LendMigrator/LendMigrator.vue?9c9d","webpack:///./src/dapps/LendMigrator/LendMigrator.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","loading","_e","balance","on","setEntireBalance","directives","name","rawName","value","expression","attrs","domProps","$event","target","composing","amount","class","disabled","checkAllowance","staticRenderFns","inputs","internalType","type","stateMutability","anonymous","indexed","outputs","ERC20","constant","payable","components","BackButton","props","tokensWithBalance","Array","default","data","hasEnoughRatio","lendMigratorContract","amountAsHex","lendContract","computed","mounted","getLendBalance","getRatio","methods","component"],"mappings":"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","file":"js/chunk-4c457d6d.e95c2852.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendMigrator.vue?vue&type=style&index=0&id=8602e514&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendMigrator.vue?vue&type=style&index=0&id=8602e514&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"lend-migrator-container\"},[_c('back-button'),_c('b-container',{staticClass:\"text-center\"},[_c('div',{staticClass:\"pt-4 lend-title\"},[_vm._v(_vm._s(_vm.$t('dappsAave.lend-title')))]),_c('div',{staticClass:\"d-flex mt-4 mb-1 total-container entire-bal\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.$t('dappsAave.total-lend'))+\": \"),_c('span',{staticClass:\"balance\"},[(!_vm.loading)?_c('span',[_vm._v(_vm._s(_vm.balance)+\" \")]):_vm._e(),(_vm.loading)?_c('i',{staticClass:\"fa fa-spin fa-spinner fa-lg\"}):_vm._e()])]),_c('button',{staticClass:\"button-link\",on:{\"click\":_vm.setEntireBalance}},[_vm._v(\" \"+_vm._s(_vm.$t('sendTx.button-entire'))+\" \")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('dappsAave.total-amount')},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('button',{class:[\n        'large-round-button-green-filled',\n        'mt-3',\n        _vm.disabled ? 'disabled' : ''\n      ],on:{\"click\":_vm.checkAllowance}},[_vm._v(\" \"+_vm._s(_vm.$t('dappsAave.migrate'))+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default [\n  {\n    inputs: [\n      { internalType: 'contract IERC20', name: 'aave', type: 'address' },\n      { internalType: 'contract IERC20', name: 'lend', type: 'address' },\n      { internalType: 'uint256', name: 'lendAaveRatio', type: 'uint256' }\n    ],\n    stateMutability: 'nonpayable',\n    type: 'constructor'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: 'address',\n        name: 'sender',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        internalType: 'uint256',\n        name: 'amount',\n        type: 'uint256'\n      }\n    ],\n    name: 'LendMigrated',\n    type: 'event'\n  },\n  {\n    inputs: [],\n    name: 'AAVE',\n    outputs: [{ internalType: 'contract IERC20', name: '', type: 'address' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'LEND',\n    outputs: [{ internalType: 'contract IERC20', name: '', type: 'address' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'LEND_AAVE_RATIO',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'REVISION',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: '_totalLendMigrated',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'initialize',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [{ internalType: 'uint256', name: 'amount', type: 'uint256' }],\n    name: 'migrateFromLEND',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    name: 'migrationStarted',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    stateMutability: 'view',\n    type: 'function'\n  }\n];\n","const ERC20 = [\n  {\n    constant: true,\n    inputs: [],\n    name: 'name',\n    outputs: [\n      {\n        name: '',\n        type: 'string'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    constant: false,\n    inputs: [\n      {\n        name: '_spender',\n        type: 'address'\n      },\n      {\n        name: '_value',\n        type: 'uint256'\n      }\n    ],\n    name: 'approve',\n    outputs: [\n      {\n        name: '',\n        type: 'bool'\n      }\n    ],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'totalSupply',\n    outputs: [\n      {\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    constant: false,\n    inputs: [\n      {\n        name: '_from',\n        type: 'address'\n      },\n      {\n        name: '_to',\n        type: 'address'\n      },\n      {\n        name: '_value',\n        type: 'uint256'\n      }\n    ],\n    name: 'transferFrom',\n    outputs: [\n      {\n        name: '',\n        type: 'bool'\n      }\n    ],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'decimals',\n    outputs: [\n      {\n        name: '',\n        type: 'uint8'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    constant: true,\n    inputs: [\n      {\n        name: '_owner',\n        type: 'address'\n      }\n    ],\n    name: 'balanceOf',\n    outputs: [\n      {\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'symbol',\n    outputs: [\n      {\n        name: '',\n        type: 'string'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    constant: false,\n    inputs: [\n      {\n        name: '_to',\n        type: 'address'\n      },\n      {\n        name: '_value',\n        type: 'uint256'\n      }\n    ],\n    name: 'transfer',\n    outputs: [\n      {\n        name: '',\n        type: 'bool'\n      }\n    ],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function'\n  },\n  {\n    constant: true,\n    inputs: [\n      {\n        name: '_owner',\n        type: 'address'\n      },\n      {\n        name: '_spender',\n        type: 'address'\n      }\n    ],\n    name: 'allowance',\n    outputs: [\n      {\n        name: '',\n        type: 'uint256'\n      }\n    ],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function'\n  },\n  {\n    inputs: [],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'constructor'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        name: '_from',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        name: '_to',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        name: '_value',\n        type: 'uint256'\n      }\n    ],\n    name: 'Transfer',\n    type: 'event'\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        name: '_owner',\n        type: 'address'\n      },\n      {\n        indexed: true,\n        name: '_spender',\n        type: 'address'\n      },\n      {\n        indexed: false,\n        name: '_value',\n        type: 'uint256'\n      }\n    ],\n    name: 'Approval',\n    type: 'event'\n  }\n];\n\nexport default ERC20;\n","<template>\n  <div class=\"lend-migrator-container\">\n    <back-button />\n    <b-container class=\"text-center\">\n      <div class=\"pt-4 lend-title\">{{ $t('dappsAave.lend-title') }}</div>\n      <div class=\"d-flex mt-4 mb-1 total-container entire-bal\">\n        <p>\n          {{ $t('dappsAave.total-lend') }}:\n          <span class=\"balance\"\n            ><span v-if=\"!loading\">{{ balance }} </span>\n            <i v-if=\"loading\" class=\"fa fa-spin fa-spinner fa-lg\" />\n          </span>\n        </p>\n        <button class=\"button-link\" @click=\"setEntireBalance\">\n          {{ $t('sendTx.button-entire') }}\n        </button>\n      </div>\n      <input\n        v-model=\"amount\"\n        type=\"text\"\n        :placeholder=\"$t('dappsAave.total-amount')\"\n      />\n      <button\n        :class=\"[\n          'large-round-button-green-filled',\n          'mt-3',\n          disabled ? 'disabled' : ''\n        ]\"\n        @click=\"checkAllowance\"\n      >\n        {{ $t('dappsAave.migrate') }}\n      </button>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport BackButton from '@/layouts/InterfaceLayout/components/BackButton';\nimport lendToAaveMigrator from './abi/lendToAaveMigrator';\nimport ERC20 from './abi/erc20';\nimport BigNumber from 'bignumber.js';\nimport { mapState } from 'vuex';\nimport { Toast } from '@/helpers';\n\nconst LEND_MIGRATOR_PROXY_ADDRESS =\n  '0x317625234562B1526Ea2FaC4030Ea499C5291de4';\nconst LEND_ADDRESS = '0x80fB784B7eD66730e8b1DBd9820aFD29931aab03';\n\nexport default {\n  components: {\n    'back-button': BackButton\n  },\n  props: {\n    tokensWithBalance: {\n      type: Array,\n      default: function () {\n        return [];\n      }\n    }\n  },\n  data() {\n    return {\n      amount: 0,\n      hasEnoughRatio: false,\n      lendMigratorContract: '',\n      amountAsHex: '',\n      loading: false,\n      lendContract: '',\n      balance: ''\n    };\n  },\n  computed: {\n    ...mapState('main', ['web3', 'account']),\n    disabled() {\n      if (\n        this.amount > 0 &&\n        this.amount <= this.balance &&\n        this.hasEnoughRatio\n      ) {\n        return false;\n      }\n      return true;\n    }\n  },\n  mounted() {\n    this.getLendBalance();\n    this.getRatio();\n  },\n  methods: {\n    async getLendBalance() {\n      this.lendContract = new this.web3.eth.Contract(ERC20, LEND_ADDRESS);\n      const balance = await this.lendContract.methods\n        .balanceOf(this.account.address)\n        .call();\n      this.balance = this.web3.utils.fromWei(balance, 'ether');\n    },\n    async checkAllowance() {\n      const estimatedAmount = new BigNumber(this.amount)\n        .times(new BigNumber(10).pow(18))\n        .toFixed();\n      this.amountAsHex = this.web3.utils.numberToHex(estimatedAmount);\n      const allowance = await this.lendContract.methods\n        .allowance(this.account.address, LEND_MIGRATOR_PROXY_ADDRESS)\n        .call();\n      this.loading = true;\n      if (\n        allowance !== '0' &&\n        new BigNumber(allowance).lt(new BigNumber(this.amountAsHex))\n      ) {\n        const lendApproveData = await this.lendContract.methods\n          .approve(LEND_MIGRATOR_PROXY_ADDRESS, 0)\n          .encodeABI();\n        this.web3.eth\n          .sendTransaction({\n            from: this.account.address,\n            to: LEND_ADDRESS,\n            value: 0,\n            gas: 100000,\n            data: lendApproveData\n          })\n          .then(() => {\n            this.migrate();\n          })\n          .catch(error => {\n            this.loading = false;\n            Toast.responseHandler(error, Toast.ERROR);\n          });\n      } else {\n        this.migrate();\n      }\n    },\n    async migrate() {\n      const lendApproveData = await this.lendContract.methods\n        .approve(LEND_MIGRATOR_PROXY_ADDRESS, this.amountAsHex)\n        .encodeABI();\n      const lendMigrateData = await this.lendMigratorContract.methods\n        .migrateFromLEND(this.amountAsHex)\n        .encodeABI();\n      this.loading = true;\n      this.web3.mew\n        .sendBatchTransactions([\n          {\n            from: this.account.address,\n            to: LEND_ADDRESS,\n            value: 0,\n            gas: 100000,\n            data: lendApproveData\n          },\n          {\n            from: this.account.address,\n            to: LEND_MIGRATOR_PROXY_ADDRESS,\n            gas: 500000,\n            value: 0,\n            data: lendMigrateData\n          }\n        ])\n        .then(() => {\n          this.amount = 0;\n          this.loading = false;\n        })\n        .catch(error => {\n          this.loading = false;\n          Toast.responseHandler(error, Toast.ERROR);\n        });\n    },\n    async getRatio() {\n      this.lendMigratorContract = new this.web3.eth.Contract(\n        lendToAaveMigrator,\n        LEND_MIGRATOR_PROXY_ADDRESS\n      );\n      const lendAaveRatio = await this.lendMigratorContract.methods\n        .LEND_AAVE_RATIO()\n        .call();\n      lendAaveRatio > 1\n        ? (this.hasEnoughRatio = true)\n        : Toast.responseHandler(this.$t('dappAave.invalid-ratio'), Toast.ERROR);\n    },\n    setEntireBalance() {\n      this.amount = this.balance;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'LendMigrator.scss';\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendMigrator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendMigrator.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LendMigrator.vue?vue&type=template&id=8602e514&scoped=true&\"\nimport script from \"./LendMigrator.vue?vue&type=script&lang=js&\"\nexport * from \"./LendMigrator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LendMigrator.vue?vue&type=style&index=0&id=8602e514&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8602e514\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
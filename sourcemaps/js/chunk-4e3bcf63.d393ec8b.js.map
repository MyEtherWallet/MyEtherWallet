{"version":3,"sources":["webpack:///./src/main/mainApp.vue?62ec","webpack:///src/main/mainApp.vue","webpack:///./src/main/mainApp.vue?0ec9","webpack:///./src/main/mainApp.vue","webpack:///./src/main/sentry.js","webpack:///./src/main/matomo.js","webpack:///./src/main/liveMain.js","webpack:///./src/main/i18n.js","webpack:///./src/main/mainApp.vue?ee55"],"names":["_vm","this","_h","$createElement","_c","_self","staticClass","attrs","moonPayOpen","on","$event","staticRenderFns","name","components","ModuleToast","ModuleGlobalModals","ModuleAnalytics","ModuleMoonPay","data","computed","mapState","mapGetters","created","window","Toast","mounted","EventBus","timestamp","articleList","document","methods","mapActions","openBuy","logMessage","console","footerHideIntercom","hide_default_launcher","component","Sentry","Vue","dsn","integrations","Integrations","BrowserTracing","maxBreadcrumbs","environment","requestBodies","autoSessionTracking","release","VERSION","beforeSend","event","hint","error","originalException","syntheticException","network","store","getters","type","service","identifier","state","wallet","tags","walletType","err","exception","values","value","errorHandler","Promise","resolve","$emit","then","res","use","VueMatomo","host","siteId","trackerFileName","router","enableLinkTracking","requireConsent","trackInitialView","disableCookies","enableHeartBeatTimer","heartBeatTimerInterval","debug","process","originalPush","Router","prototype","push","originalReplace","replace","path","call","catch","directive","LottieAnimation","filter","lokalise","VueIntercom","appId","VueSocialSharing","Vuex","config","productionTip","el","i18n","apolloProvider","vuetify","beforeCreate","userId","$route","query","intercomid","uuidv4","$intercom","boot","user_id","undefined","locStore","$store","commit","dappStoreBeforeCreate","dispatch","render","h","app","VueI18n","locale","fallbackLocale","messages","languages","silentTranslationWarn","$i18n","loadedLanguages","setI18nLanguage","lang","axios","defaults","headers","common","querySelector","setAttribute","loadLanguageAsync","includes","setLocaleMessage","default"],"mappings":"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","file":"js/chunk-4e3bcf63.d393ec8b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{staticClass:\"walletBg\"},[_c('router-view'),_c('module-toast'),_c('module-global-modals'),_c('module-analytics'),_c('module-moon-pay',{attrs:{\"open\":_vm.moonPayOpen},on:{\"close\":function($event){_vm.moonPayOpen = false}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app class=\"walletBg\">\n    <router-view />\n    <module-toast />\n    <module-global-modals />\n    <module-analytics />\n    <module-moon-pay :open=\"moonPayOpen\" @close=\"moonPayOpen = false\" />\n  </v-app>\n</template>\n\n<script>\nimport { mapActions, mapGetters, mapState } from 'vuex';\nimport ModuleToast from '@/modules/toast/ModuleToast.vue';\nimport ModuleGlobalModals from '@/modules/global-modals/ModuleGlobalModals';\nimport ModuleAnalytics from '@/modules/analytics-opt-in/ModuleAnalytics';\nimport { PWA_EVENTS } from '@/core/helpers/common';\nimport {\n  Toast,\n  ERROR,\n  SUCCESS,\n  INFO\n} from '@/modules/toast/handler/handlerToast';\nimport ModuleMoonPay from '@/modules/moon-pay/ModuleMoonPay';\nimport { MOONPAY_EVENT } from '@/modules/moon-pay/helpers';\nimport { EventBus } from '@/core/plugins/eventBus';\nimport '@formatjs/intl-numberformat/polyfill';\nimport '@formatjs/intl-numberformat/locale-data/en';\nexport default {\n  name: 'App',\n  components: {\n    ModuleToast,\n    ModuleGlobalModals,\n    ModuleAnalytics,\n    ModuleMoonPay\n  },\n  data() {\n    return {\n      moonPayOpen: false\n    };\n  },\n  computed: {\n    ...mapState('custom', ['addressBook']),\n    ...mapState('addressBook', ['isMigrated']),\n    ...mapState('global', ['preferredCurrency']),\n    ...mapState('article', ['timestamp']),\n    ...mapGetters('article', ['articleList'])\n  },\n  created() {\n    const succMsg = this.$t('common.updates.new');\n    const updateMsg = this.$t('common.updates.update-found');\n    const errMsg = this.$t('common.updates.update-error');\n    window.addEventListener(PWA_EVENTS.PWA_UPDATED, () => {\n      Toast(succMsg, {}, SUCCESS);\n    });\n    window.addEventListener(PWA_EVENTS.PWA_MOUNT_ERROR, () => {\n      Toast(errMsg, {}, ERROR);\n    });\n    window.addEventListener(PWA_EVENTS.PWA_UPDATE_FOUND, () => {\n      Toast(updateMsg, {}, INFO);\n    });\n  },\n  mounted() {\n    EventBus.$on(MOONPAY_EVENT, () => {\n      this.openBuy();\n    });\n    this.footerHideIntercom();\n    this.logMessage();\n    this.setOnlineStatus(window.navigator.onLine);\n    if (window.navigator.onLine) {\n      this.setCurrency(this.preferredCurrency);\n      this.updateArticles({\n        timestamp: this.timestamp,\n        articleList: this.articleList\n      });\n    }\n    // Window events to watch out if the online status changes\n    window.addEventListener('offline', () => {\n      this.setOnlineStatus(false);\n    });\n    window.addEventListener('online', () => {\n      this.setOnlineStatus(true);\n      this.setCurrency(this.preferredCurrency);\n    });\n    if (!this.isMigrated) {\n      // this.addressBook is the old one that resides in custom store\n      this.setAddressBook(this.addressBook).then(() => {\n        this.setMigrated(true);\n      });\n    }\n    const _self = this;\n    // Close modal with 'esc' key\n    document.addEventListener('keydown', e => {\n      if (e.keyCode === 27) {\n        _self.moonPayOpen = false;\n      }\n    });\n  },\n  methods: {\n    ...mapActions('global', ['setOnlineStatus']),\n    ...mapActions('external', ['setCurrency']),\n    ...mapActions('addressBook', ['setMigrated', 'setAddressBook']),\n    ...mapActions('article', ['updateArticles']),\n    openBuy() {\n      this.moonPayOpen = true;\n    },\n    logMessage() {\n      /* eslint-disable no-console */\n      console.log(\n        '%cWhoa whoa whoa!',\n        'font-weight: bold',\n        '\\n\\nThis feature is intended only for developers.  Using it without knowing exactly what you are doing can expose your wallet keys and lead to the loss of your funds.',\n        '\\n\\nOn the other hand, if you are a developer and do know what youâ€™re doing, MEW is hiring and we probably want to talk to you. Send us an email at careers@myetherwallet.com with the subject line: I am a software developer.'\n      );\n      /* eslint-enable no-console */\n    },\n    // Hide intercom button when users reach the footer or bottom of screen\n    footerHideIntercom() {\n      window.onscroll = function () {\n        if (\n          window.innerHeight + window.scrollY >=\n          document.body.offsetHeight - 100\n        ) {\n          window.Intercom('update', {\n            hide_default_launcher: true\n          });\n        } else {\n          window.Intercom('update', {\n            hide_default_launcher: false\n          });\n        }\n      };\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import '@/assets/styles/GlobalStyles.scss';\n@import '@myetherwallet/mew-components/src/assets/styles/global.scss';\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainApp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainApp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mainApp.vue?vue&type=template&id=78aefdad&\"\nimport script from \"./mainApp.vue?vue&type=script&lang=js&\"\nexport * from \"./mainApp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mainApp.vue?vue&type=style&index=0&id=78aefdad&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import * as Sentry from '@sentry/vue';\nimport { Integrations } from '@sentry/tracing';\nimport Vue from 'vue';\nimport { EventBus } from '@/core/plugins/eventBus';\nimport store from '@/core/store';\nimport errorHandler from '@/main/errorHandler';\n// Sentry\nSentry.init({\n  Vue,\n  dsn: 'https://82c2004a8ba740e1b80f8589f9ca1770@o382951.ingest.sentry.io/5652727',\n  integrations: [new Integrations.BrowserTracing()],\n  maxBreadcrumbs: 0,\n  environment: 'web',\n  requestBodies: 'small',\n  autoSessionTracking: false,\n  release: NODE_ENV === 'production' ? VERSION : 'develop',\n  beforeSend(event, hint) {\n    // eslint-disable-next-line\n    console.error(hint.originalException || hint.syntheticException);\n    const network = store.getters['global/network']\n      ? store.getters['global/network'].type.name\n      : '';\n    const service = store.getters['global/network']\n      ? store.getters['global/network'].service\n      : '';\n    const identifier = store.state.wallet ? store.state.wallet.identifier : '';\n    event.tags = {\n      network: network,\n      service: service,\n      walletType: identifier\n    };\n    const err = event.exception.values[0].value;\n    if (errorHandler(err)) return null;\n    return new Promise(resolve => {\n      EventBus.$emit('issueModal', event, resolve);\n    }).then(res => {\n      return res === true ? event : null;\n    });\n  }\n});\n","import Vue from 'vue';\nimport VueMatomo from 'vue-matomo';\nimport router from '@/core/router';\nVue.use(VueMatomo, {\n  host: 'https://myetherwallet.matomo.cloud',\n  siteId: 1,\n  trackerFileName: 'matomo',\n  router: router,\n  enableLinkTracking: true,\n  requireConsent: true,\n  trackInitialView: true,\n  disableCookies: true,\n  enableHeartBeatTimer: true,\n  heartBeatTimerInterval: 15,\n  debug: process.env.NODE_ENV !== 'production'\n});\n","import app from './mainApp';\nimport '@/assets/fonts/MaterialDesignIcons/css/materialdesignicons.min.css';\nimport '@/assets/fonts/Roboto/css/Roboto.css';\n\nimport './sentry';\nimport './components';\nimport './matomo';\n\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport VueIntercom from '@mathieustan/vue-intercom';\nimport VueSocialSharing from 'vue-social-sharing';\n\n/**Dapps Store */\nimport { dappStoreBeforeCreate } from '../dapps/dappsStore';\n\nconst originalPush = Router.prototype.push;\nconst originalReplace = Router.prototype.replace;\nRouter.prototype.push = function push(path) {\n  return originalPush.call(this, path).catch(err => err);\n};\nRouter.prototype.replace = function push(path) {\n  return originalReplace.call(this, path).catch(err => err);\n};\nRouter.prototype.originalPush = originalPush;\nRouter.prototype.originalReplace = originalReplace;\n\nimport router from '@/core/router';\nimport store from '@/core/store';\nimport Vuex from 'vuex';\n\nimport LottieAnimation from '@/core/directives/lottie';\nimport lokalise from '@/core/filters/lokalise';\n\n// etc\nimport '@/core/plugins/registerServiceWorker';\nimport vuetify from '@/core/plugins/vuetify';\nimport apolloProvider from './apolloProvider';\nimport i18n from './i18n';\nimport * as locStore from 'store';\n\n// Directives\nVue.directive('lottie', LottieAnimation);\n\n// Filters\nVue.filter('lokalise', lokalise);\n\n// eslint-disable-next-line\nVue.use(VueIntercom, { appId: 'ja20qe25' });\nVue.use(VueSocialSharing);\n\n//Router\nVue.use(Router);\nVue.use(Vuex);\nVue.config.productionTip = false;\nnew Vue({\n  el: '#app',\n  i18n,\n  router,\n  store,\n  apolloProvider,\n  vuetify,\n  beforeCreate() {\n    const userId = this.$route.query.intercomid\n      ? this.$route.query.intercomid\n      : uuidv4();\n    this.$intercom.boot({ user_id: userId });\n\n    if (locStore.get('mew-testing') === undefined) {\n      locStore.set('mew-testing', false);\n    }\n    this.$store.commit('custom/INIT_STORE');\n    this.$store.commit('global/INIT_STORE');\n    this.$store.commit('notifications/INIT_STORE');\n    this.$store.commit('addressBook/INIT_STORE');\n    this.$store.commit('article/INIT_STORE');\n    this.$store.commit('popups/INIT_STORE');\n    dappStoreBeforeCreate(this.$store);\n    this.$store.dispatch('popups/setTracking');\n  },\n  render: h => h(app)\n});\n","import languages from '@/translations';\nimport VueI18n from 'vue-i18n';\nimport Vue from 'vue';\nimport axios from 'axios';\n\nVue.use(VueI18n);\n\nconst i18n = new VueI18n({\n  locale: 'en_US',\n  fallbackLocale: 'en_US',\n  messages: languages,\n  silentTranslationWarn: true\n});\n\nVue.$i18n = i18n;\n\nexport default i18n;\n\n// our default language that is preloaded\nconst loadedLanguages = ['en_US'];\n\nconst setI18nLanguage = lang => {\n  i18n.locale = lang;\n  axios.defaults.headers.common['Accept-Language'] = lang;\n  document.querySelector('html').setAttribute('lang', lang);\n  return lang;\n};\n\nexport const loadLanguageAsync = lang => {\n  // If the same language\n  if (i18n.locale === lang) {\n    return Promise.resolve(setI18nLanguage(lang));\n  }\n\n  // If the language was already loaded\n  if (loadedLanguages.includes(lang)) {\n    return Promise.resolve(setI18nLanguage(lang));\n  }\n\n  // If the language hasn't been loaded yet\n  return import(\n    /* webpackChunkName: \"lang-[request]\" */ `@/translations/${lang}.js`\n  ).then(messages => {\n    i18n.setLocaleMessage(lang, messages.default);\n    loadedLanguages.push(lang);\n    return setI18nLanguage(lang);\n  });\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mainApp.vue?vue&type=style&index=0&id=78aefdad&prod&lang=scss&\""],"sourceRoot":""}
{"version":3,"sources":["webpack:///./src/modules/global-modals/ModuleGlobalModals.vue?acf0","webpack:///src/modules/global-modals/ModuleGlobalModals.vue","webpack:///./src/modules/global-modals/ModuleGlobalModals.vue?6c2c","webpack:///./src/modules/global-modals/ModuleGlobalModals.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","showModal","title","submit","reset","enableButton","on","scopedSlots","_u","key","fn","setPassword","setTerms","_e","proxy","openError","send","errors","staticRenderFns","OPEN_HARDWARE_PASSWORD","ISSUE_MODAL","components","AppModal","HardwarePasswordModal","AppErrorMsg","mixins","data","deviceInfo","callback","openHardwarePassword","password","acceptTerms","computed","created","EventBus","beforeDestroy","methods","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAON,EAAIO,UAAU,MAAQP,EAAIQ,MAAM,aAAaR,EAAIS,OAAO,MAAQT,EAAIU,MAAM,cAAcV,EAAIW,cAAcC,GAAG,CAAC,MAAQZ,EAAIU,OAAOG,YAAYb,EAAIc,GAAG,CAAC,CAACC,IAAI,aAAaC,GAAG,WAAW,MAAO,CAAEhB,EAAwB,qBAAEI,EAAG,0BAA0B,CAACQ,GAAG,CAAC,SAAWZ,EAAIiB,YAAY,SAAWjB,EAAIkB,YAAYlB,EAAImB,OAAOC,OAAM,OAAUhB,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAON,EAAIqB,UAAU,MAAQrB,EAAIU,MAAM,QAAUV,EAAIsB,KAAK,MAAQtB,EAAIuB,WAAW,IAC3jBC,EAAkB,G,oCC+BtB,MAAMC,EAAyB,uBACzBC,EAAc,aACL,OACfC,YACAC,8DACAC,0BACA,iDACAC,iEAEAC,gBACAC,OACA,OACAC,cACAC,gBACAC,wBACAd,aACAe,YACAC,eACAd,YAGAe,UACA/B,YACA,kCAEAC,QACA,8CACA,SACA,qBACA,wBAEAG,eACA,iCACA,qCAEA,qBAGA4B,UACAC,qBACA,gCACA,cACA,gBACA,oBAEAA,qBACA,gBACA,kBACA,gCAGAC,gBACAD,eACAA,gBAEAE,SACAhC,QACA,mBACA,qBACA,mBACA,6BACA,kBACA,iBACA,qBAEAD,SACA,6BACA,cAEAQ,eACA,iBAEAC,YACA,oBAEAI,QACA,iBACA,gBC7G2W,I,YCOvWqB,EAAY,eACd,EACA5C,EACAyB,GACA,EACA,KACA,KACA,MAIa,aAAAmB,E","file":"js/chunk-2d20f3c0.251b5ba8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('app-modal',{attrs:{\"show\":_vm.showModal,\"title\":_vm.title,\"btn-action\":_vm.submit,\"close\":_vm.reset,\"btn-enabled\":_vm.enableButton},on:{\"close\":_vm.reset},scopedSlots:_vm._u([{key:\"dialogBody\",fn:function(){return [(_vm.openHardwarePassword)?_c('hardware-password-modal',{on:{\"password\":_vm.setPassword,\"setTerms\":_vm.setTerms}}):_vm._e()]},proxy:true}])}),_c('app-error-msg',{attrs:{\"show\":_vm.openError,\"close\":_vm.reset,\"resolve\":_vm.send,\"error\":_vm.errors}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <app-modal\n      :show=\"showModal\"\n      :title=\"title\"\n      :btn-action=\"submit\"\n      :close=\"reset\"\n      :btn-enabled=\"enableButton\"\n      @close=\"reset\"\n    >\n      <template #dialogBody>\n        <hardware-password-modal\n          v-if=\"openHardwarePassword\"\n          @password=\"setPassword\"\n          @setTerms=\"setTerms\"\n        />\n      </template>\n    </app-modal>\n    <app-error-msg\n      :show=\"openError\"\n      :close=\"reset\"\n      :resolve=\"send\"\n      :error=\"errors\"\n    />\n  </div>\n</template>\n\n<script>\nimport { isEmpty } from 'lodash';\nimport handlerAnalytics from '@/modules/analytics-opt-in/handlers/handlerAnalytics.mixin';\nimport { EventBus } from '@/core/plugins/eventBus';\n\nconst OPEN_HARDWARE_PASSWORD = 'showHardwarePassword';\nconst ISSUE_MODAL = 'issueModal';\nexport default {\n  components: {\n    AppModal: () => import('@/core/components/AppModal.vue'),\n    HardwarePasswordModal: () =>\n      import('./components/HardwarePasswordModal.vue'),\n    AppErrorMsg: () => import('@/core/components/AppErrorMsg.vue')\n  },\n  mixins: [handlerAnalytics],\n  data() {\n    return {\n      deviceInfo: {},\n      callback: () => {},\n      openHardwarePassword: false,\n      openError: false,\n      password: '',\n      acceptTerms: false,\n      errors: {}\n    };\n  },\n  computed: {\n    showModal() {\n      return this.openHardwarePassword;\n    },\n    title() {\n      const walletName = isEmpty(this.deviceInfo)\n        ? 'wallet'\n        : this.deviceInfo.name;\n      return `Access your ${walletName}`;\n    },\n    enableButton() {\n      if (this.openHardwarePassword) {\n        return this.acceptTerms && this.password !== '';\n      }\n      return this.password !== '';\n    }\n  },\n  created() {\n    EventBus.$on(ISSUE_MODAL, (errors, callback) => {\n      this.trackGlobalError('sentry');\n      this.errors = errors;\n      this.callback = callback;\n      this.openError = true;\n    });\n    EventBus.$on(OPEN_HARDWARE_PASSWORD, (deviceInfo, callback) => {\n      this.callback = callback;\n      this.deviceInfo = deviceInfo;\n      this.openHardwarePassword = true;\n    });\n  },\n  beforeDestroy() {\n    EventBus.$off(ISSUE_MODAL);\n    EventBus.$off(OPEN_HARDWARE_PASSWORD);\n  },\n  methods: {\n    reset() {\n      this.deviceInfo = {};\n      this.callback = () => {};\n      this.identifier = '';\n      this.openHardwarePassword = false;\n      this.openError = false;\n      this.password = '';\n      this.acceptTerms = false;\n    },\n    submit() {\n      this.callback(this.password);\n      this.reset();\n    },\n    setPassword(e) {\n      this.password = e;\n    },\n    setTerms(e) {\n      this.acceptTerms = e;\n    },\n    send(bool) {\n      this.callback(bool);\n      this.reset();\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModuleGlobalModals.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModuleGlobalModals.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModuleGlobalModals.vue?vue&type=template&id=f72cc298&\"\nimport script from \"./ModuleGlobalModals.vue?vue&type=script&lang=js&\"\nexport * from \"./ModuleGlobalModals.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
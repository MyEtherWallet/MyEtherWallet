{"version":3,"sources":["webpack:///./src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue?bd75","webpack:///./src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue?577f","webpack:///src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue","webpack:///./src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue?b552","webpack:///./src/dapps/Unstoppable/containers/CryptoContainer/CryptoContainer.vue","webpack:///./src/assets/images/icons/copy.svg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","cartItem","key","_v","_s","label","extension","price","convertedEthPrice","$t","cartTotal","directives","name","rawName","value","chargeId","expression","on","handlePayWithCardClick","paymentAddress","paymentAmount","attrs","balance","$event","goBack","class","loading","submit","copyIcon","copyPaymentAddress","ref","domProps","size","pendingPayment","confirmationsRequired","confirmations","sendPayment","staticRenderFns","props","cart","type","Array","default","email","String","account","Object","web3","copiedToClipboard","setOrderNumber","data","complete","cryptoOptions","ethPrice","computed","reduce","a","b","ethConvertPrice","beforeMount","length","$router","push","interval","setInterval","mounted","online","getEthPrice","beforeDestroy","clearInterval","methods","copyPaymentAmount","$refs","setAttribute","select","document","execCommand","eth","getCharge","fetch","address","owner","resolution","crypto","component","module","exports"],"mappings":"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","file":"js/chunk-1e6f43f5.8be50a6f.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CryptoContainer.vue?vue&type=style&index=0&id=12f273c7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CryptoContainer.vue?vue&type=style&index=0&id=12f273c7&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crypto-container\"},[_c('div',{staticClass:\"domain-header\"},[_c('div',{staticClass:\"items-container\"},_vm._l((_vm.cart),function(cartItem){return _c('h4',{key:((cartItem.label) + \".\" + (cartItem.extension))},[_vm._v(\" \"+_vm._s(cartItem.label + '.' + cartItem.extension)+\" - $\"+_vm._s(cartItem.price)+\" \")])}),0),_c('h4',{staticClass:\"domain-price\"},[_c('span',{staticClass:\"eth-text\"},[_vm._v(_vm._s(_vm.convertedEthPrice)+\" \"+_vm._s(_vm.$t('common.currency.eth')))]),_c('span',{staticClass:\"price-text\"},[_vm._v(\"($\"+_vm._s(_vm.cartTotal)+\")\")])])]),_c('div',{staticClass:\"crypto-form-container\"},[_c('div',{staticClass:\"crypto-form-header\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('unstoppable.pay-with-crypto')))]),_c('h5',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.chargeId),expression:\"!chargeId\"}],staticClass:\"pay-with-card\",on:{\"click\":_vm.handlePayWithCardClick}},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.pay-with-credit-card'))+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.paymentAddress || !_vm.paymentAmount),expression:\"!paymentAddress || !paymentAmount\"}]},[_c('div',{staticClass:\"eth-balance-container\"},[_c('span',{staticClass:\"your-bal\"},[_vm._v(_vm._s(_vm.$t('unstoppable.your-balance')))]),_c('div',{staticClass:\"right-container\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/currency/eth.svg\"),\"alt\":\"eth\"}}),_c('div',{staticClass:\"balance\"},[_c('span',[_vm._v(_vm._s(_vm.balance))]),_c('span',{staticClass:\"eth-text\"},[_vm._v(_vm._s(_vm.$t('common.currency.eth')))])])])]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.balance < _vm.convertedEthPrice),expression:\"balance < convertedEthPrice\"}],staticClass:\"error-message\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.insufficient-balance'))+\" \")]),_c('div',{staticClass:\"btn-container\"},[_c('button',{staticClass:\"back-btn\",on:{\"click\":function($event){return _vm.goBack()}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('common.back'))+\" \")])]),_c('button',{class:[\n              _vm.balance < _vm.convertedEthPrice ? 'disabled' : '',\n              'large-round-button-green-filled clickable pay-button'\n            ],attrs:{\"disabled\":_vm.loading || _vm.balance < _vm.convertedEthPrice},on:{\"click\":_vm.submit}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}]},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.continue'))+\" \")]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fa fa-spinner fa-spin\"})])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.paymentAddress && _vm.paymentAmount),expression:\"paymentAddress && paymentAmount\"}]},[_c('div',{staticClass:\"crypto-payment-field-container\"},[_c('div',{staticClass:\"crypto-field-container\"},[_c('div',{staticClass:\"crypto-field\"},[_c('div',{staticClass:\"right\"},[_c('img',{staticClass:\"copy-button\",attrs:{\"src\":_vm.copyIcon,\"alt\":\"\"},on:{\"click\":_vm.copyPaymentAddress}}),_c('input',{ref:\"payment-address\",attrs:{\"type\":\"hidden\"},domProps:{\"value\":_vm.paymentAddress}}),_c('div',{staticClass:\"payment-addr\"},[_vm._v(_vm._s(_vm.paymentAddress))])]),_c('span',{staticClass:\"crypto-field-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.address'))+\" \")])])]),_c('div',{class:['crypto-field-container margin-bottom']},[_c('div',{staticClass:\"crypto-field-container\"},[_c('div',{staticClass:\"crypto-field\"},[_c('div',{staticClass:\"right\"},[_c('img',{staticClass:\"eth-icon\",attrs:{\"src\":require(\"@/assets/images/currency/eth.svg\"),\"alt\":\"eth\"}}),_c('input',{ref:\"payment-amount\",attrs:{\"type\":\"hidden\"},domProps:{\"value\":_vm.paymentAmount}}),_c('div',{staticClass:\"amount-container\"},[_c('div',{staticClass:\"amount-text\"},[_vm._v(_vm._s(_vm.paymentAmount))]),_c('span',{staticClass:\"eth-text\"},[_vm._v(_vm._s(_vm.$t('common.currency.eth')))])])]),_c('span',{staticClass:\"crypto-field-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.payment-amount'))+\" \")])])])]),_c('div',{class:['qr-code margin-bottom']},[_c('qrcode',{attrs:{\"value\":_vm.paymentAddress,\"options\":{ size: 160 }}})],1),_c('h6',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pendingPayment && _vm.confirmationsRequired),expression:\"pendingPayment && confirmationsRequired\"}],staticClass:\"payment-pending\"},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.pending-crypto-payment', { confirmations: _vm.confirmations, confirmationsRequired: _vm.confirmationsRequired }))+\" \")]),_c('div',{staticClass:\"btn-container\"},[_c('button',{staticClass:\"back-btn\",on:{\"click\":function($event){return _vm.goBack()}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('common.back'))+\" \")])]),_c('button',{class:[\n                'large-round-button-green-filled clickable pay-button send-payment-button'\n              ],attrs:{\"disabled\":_vm.loading || _vm.pendingPayment},on:{\"click\":_vm.sendPayment}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading && !_vm.pendingPayment),expression:\"!loading && !pendingPayment\"}]},[_vm._v(\" \"+_vm._s(_vm.$t('unstoppable.send-payment'))+\" \")]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading || _vm.pendingPayment),expression:\"loading || pendingPayment\"}],staticClass:\"fa fa-spinner fa-spin\"})])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"html\">\n  <div>\n    <div class=\"crypto-container\">\n      <div class=\"domain-header\">\n        <div class=\"items-container\">\n          <h4\n            v-for=\"cartItem of cart\"\n            :key=\"`${cartItem.label}.${cartItem.extension}`\"\n          >\n            {{ cartItem.label + '.' + cartItem.extension }} - ${{\n              cartItem.price\n            }}\n          </h4>\n        </div>\n        <h4 class=\"domain-price\">\n          <span class=\"eth-text\"\n            >{{ convertedEthPrice }} {{ $t('common.currency.eth') }}</span\n          >\n          <span class=\"price-text\">(${{ cartTotal }})</span>\n        </h4>\n      </div>\n      <div class=\"crypto-form-container\">\n        <div class=\"crypto-form-header\">\n          <h3>{{ $t('unstoppable.pay-with-crypto') }}</h3>\n          <h5\n            v-show=\"!chargeId\"\n            class=\"pay-with-card\"\n            @click=\"handlePayWithCardClick\"\n          >\n            {{ $t('unstoppable.pay-with-credit-card') }}\n          </h5>\n        </div>\n        <div v-show=\"!paymentAddress || !paymentAmount\">\n          <div class=\"eth-balance-container\">\n            <span class=\"your-bal\">{{ $t('unstoppable.your-balance') }}</span>\n            <div class=\"right-container\">\n              <img src=\"@/assets/images/currency/eth.svg\" alt=\"eth\" />\n              <div class=\"balance\">\n                <span>{{ balance }}</span>\n                <span class=\"eth-text\">{{ $t('common.currency.eth') }}</span>\n              </div>\n            </div>\n          </div>\n          <span v-show=\"balance < convertedEthPrice\" class=\"error-message\">\n            {{ $t('unstoppable.insufficient-balance') }}\n          </span>\n          <div class=\"btn-container\">\n            <button class=\"back-btn\" @click=\"goBack()\">\n              <span>\n                {{ $t('common.back') }}\n              </span>\n            </button>\n            <button\n              :class=\"[\n                balance < convertedEthPrice ? 'disabled' : '',\n                'large-round-button-green-filled clickable pay-button'\n              ]\"\n              :disabled=\"loading || balance < convertedEthPrice\"\n              @click=\"submit\"\n            >\n              <span v-show=\"!loading\">\n                {{ $t('unstoppable.continue') }}\n              </span>\n              <i v-show=\"loading\" class=\"fa fa-spinner fa-spin\" />\n            </button>\n          </div>\n        </div>\n        <div v-show=\"paymentAddress && paymentAmount\">\n          <div class=\"crypto-payment-field-container\">\n            <div class=\"crypto-field-container\">\n              <div class=\"crypto-field\">\n                <div class=\"right\">\n                  <img\n                    :src=\"copyIcon\"\n                    class=\"copy-button\"\n                    alt\n                    @click=\"copyPaymentAddress\"\n                  />\n                  <input\n                    ref=\"payment-address\"\n                    type=\"hidden\"\n                    :value=\"paymentAddress\"\n                  />\n                  <div class=\"payment-addr\">{{ paymentAddress }}</div>\n                </div>\n                <span class=\"crypto-field-label\">\n                  {{ $t('unstoppable.address') }}\n                </span>\n              </div>\n            </div>\n            <div :class=\"['crypto-field-container margin-bottom']\">\n              <div class=\"crypto-field-container\">\n                <div class=\"crypto-field\">\n                  <div class=\"right\">\n                    <img\n                      class=\"eth-icon\"\n                      src=\"@/assets/images/currency/eth.svg\"\n                      alt=\"eth\"\n                    />\n                    <input\n                      ref=\"payment-amount\"\n                      type=\"hidden\"\n                      :value=\"paymentAmount\"\n                    />\n                    <div class=\"amount-container\">\n                      <div class=\"amount-text\">{{ paymentAmount }}</div>\n                      <span class=\"eth-text\">{{\n                        $t('common.currency.eth')\n                      }}</span>\n                    </div>\n                  </div>\n                  <span class=\"crypto-field-label\">\n                    {{ $t('unstoppable.payment-amount') }}\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div :class=\"['qr-code margin-bottom']\">\n              <qrcode :value=\"paymentAddress\" :options=\"{ size: 160 }\" />\n            </div>\n\n            <h6\n              v-show=\"pendingPayment && confirmationsRequired\"\n              class=\"payment-pending\"\n            >\n              {{\n                $t('unstoppable.pending-crypto-payment', {\n                  confirmations: confirmations,\n                  confirmationsRequired: confirmationsRequired\n                })\n              }}\n            </h6>\n            <div class=\"btn-container\">\n              <button class=\"back-btn\" @click=\"goBack()\">\n                <span>\n                  {{ $t('common.back') }}\n                </span>\n              </button>\n              <button\n                :disabled=\"loading || pendingPayment\"\n                :class=\"[\n                  'large-round-button-green-filled clickable pay-button send-payment-button'\n                ]\"\n                @click=\"sendPayment\"\n              >\n                <span v-show=\"!loading && !pendingPayment\">\n                  {{ $t('unstoppable.send-payment') }}\n                </span>\n                <i\n                  v-show=\"loading || pendingPayment\"\n                  class=\"fa fa-spinner fa-spin\"\n                />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BigNumber from 'bignumber.js';\nimport copyIcon from '@/assets/images/icons/copy.svg';\nimport { mapState } from 'vuex';\nimport { Toast } from '@/helpers';\n\nexport default {\n  props: {\n    cart: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    email: {\n      type: String,\n      default: ''\n    },\n    account: {\n      type: Object,\n      default: function () {}\n    },\n    web3: {\n      type: Object,\n      default: function () {}\n    },\n    copiedToClipboard: { type: Function, default: function () {} },\n    setOrderNumber: { type: Function, default: function () {} }\n  },\n  data() {\n    return {\n      complete: false,\n      cryptoOptions: {},\n      loading: false,\n      pendingPayment: false,\n      paymentAddress: '',\n      paymentAmount: 0,\n      chargeId: '',\n      confirmations: 0,\n      confirmationsRequired: 0,\n      copyIcon,\n      ethPrice: 0\n    };\n  },\n  computed: {\n    ...mapState('main', ['online']),\n    cartTotal() {\n      return this.cart.reduce((a, b) => {\n        return a + b.price;\n      }, 0);\n    },\n    convertedEthPrice() {\n      let ethConvertPrice = 0;\n      if (this.cartTotal > 0) {\n        ethConvertPrice = new BigNumber(this.cartTotal)\n          .dividedBy(this.ethPrice)\n          .toFixed(8);\n      }\n      return ethConvertPrice;\n    },\n    balance() {\n      return this.account && this.account.balance\n        ? new BigNumber(\n            this.web3.utils.fromWei(this.account.balance.toString())\n          ).toFixed(8)\n        : '0';\n    }\n  },\n  beforeMount() {\n    if (!this.cart.length) {\n      this.$router.push({ name: 'unstoppableInitialState' });\n    }\n    this.interval = setInterval(() => {\n      if (this.chargeId) {\n        this.getCharge(this.chargeId);\n      }\n    }, 8000);\n  },\n  mounted() {\n    if (this.online) this.getEthPrice();\n  },\n  beforeDestroy() {\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  },\n  methods: {\n    goBack() {\n      this.$router.push('/interface/dapps/unstoppable');\n    },\n    async getEthPrice() {\n      const price = await fetch(\n        'https://cryptorates.mewapi.io/ticker?filter=ETH'\n      )\n        .then(res => {\n          return res.json();\n        })\n        .catch(e => {\n          Toast.responseHandler(e, Toast.ERROR);\n        });\n      this.ethPrice =\n        typeof price === 'object' ? price.data.ETH.quotes.USD.price : 0;\n    },\n    copyPaymentAmount() {\n      this.$refs['payment-amount'].setAttribute('type', 'text');\n      this.$refs['payment-amount'].select();\n      document.execCommand('copy');\n      this.$refs['payment-amount'].setAttribute('type', 'hidden');\n      this.copiedToClipboard();\n    },\n    copyPaymentAddress() {\n      this.$refs['payment-address'].setAttribute('type', 'text');\n      this.$refs['payment-address'].select();\n      document.execCommand('copy');\n      this.$refs['payment-address'].setAttribute('type', 'hidden');\n      this.copiedToClipboard();\n    },\n    sendPayment() {\n      this.loading = true;\n      this.web3.eth\n        .sendTransaction({\n          from: this.account.address,\n          to: this.paymentAddress,\n          value: this.web3.utils.toWei(this.paymentAmount.toString())\n        })\n        .on('transactionHash', () => {\n          this.pendingPayment = true;\n          this.loading = false;\n        })\n        .on('error', () => {\n          this.loading = false;\n        });\n    },\n    getCharge(chargeId) {\n      return fetch(\n        `https://unstoppabledomains.com/api/v1/resellers/myetherwallet/users/${this.email}/orders/coinbase-charge/${chargeId}`\n      )\n        .then(resp => {\n          if (resp.status === 200) {\n            return resp.json();\n          }\n          throw new Error('Failed to get charge info');\n        })\n        .then(({ charge }) => {\n          if (!this.paymentAddress || !this.paymentAmount) {\n            this.paymentAddress = charge.data.addresses.ethereum;\n            this.paymentAmount = +charge.data.pricing.ethereum.amount;\n          }\n          for (const payment of charge.data.payments) {\n            if (\n              payment.network === 'ethereum'\n              // +payment.value.crypto.amount >= this.paymentAmount\n            ) {\n              if (payment.status === 'PENDING') {\n                this.pendingPayment = true;\n              }\n              this.confirmations = payment.block.confirmations;\n              this.confirmationsRequired = payment.block.confirmations_required;\n              if (payment.status === 'CONFIRMED') {\n                this.$router.push({ name: 'claimPending' });\n              }\n            }\n          }\n        });\n    },\n    handlePayWithCardClick() {\n      this.$router.push({ name: 'payWithStripe' });\n    },\n    submit() {\n      if (!this.account || !this.account.address) {\n        return;\n      }\n      this.loading = true;\n      fetch(\n        `https://unstoppabledomains.com/api/v1/resellers/myetherwallet/users/${this.email}/orders`,\n        {\n          method: 'POST',\n          headers: {\n            'content-type': 'Application/JSON'\n          },\n          body: JSON.stringify({\n            order: {\n              domains: this.cart.map(cartItem => ({\n                name: cartItem.label + '.' + cartItem.extension,\n                owner: { address: this.account.address },\n                resolution: {\n                  crypto: { ETH: { address: this.account.address } }\n                }\n              })),\n              payment: { type: 'coinbase' }\n            }\n          })\n        }\n      )\n        .then(resp => {\n          if (resp.status === 200) {\n            return resp.json();\n          }\n          throw new Error('Failed to create charge');\n        })\n        .then(({ order }) => {\n          this.setOrderNumber(order.orderNumber);\n          this.getCharge(order.payment.tokenId).then(() => {\n            this.chargeId = order.payment.tokenId;\n            this.loading = false;\n          });\n        });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'CryptoContainer.scss';\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CryptoContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CryptoContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CryptoContainer.vue?vue&type=template&id=12f273c7&scoped=true&lang=html&\"\nimport script from \"./CryptoContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./CryptoContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CryptoContainer.vue?vue&type=style&index=0&id=12f273c7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12f273c7\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/copy.ec4723ca.svg\";"],"sourceRoot":""}